import{_ as z,E as B,j as H,r as F,o as t,g as M,f as q,a as e,t as a,u as o,p as f,d as G,af as J,h as S,c as s,F as d,b as _,i as r,n as Y,q as V,x as A,ai as K,e as U,U as Q}from"./index-3b25a85f.js";/* empty css                                                                    */const W="/images/excel.png",c=h=>(V("data-v-c0123445"),h=h(),A(),h),X={style:{"border-radius":".3rem",overflow:"hidden"}},Z=c(()=>e("div",{class:"P-0 mt-0",style:{"background-color":"var(--orange-500)"}},[e("div",{class:"header p-4",style:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("div",{style:{display:"flex"}},[e("img",{class:"p-0",src:K,style:{filter:"brightness(0) invert()",width:"",height:"3rem","object-fit":"contain"},alt:""}),e("span",{style:{width:"min-content","font-weight":"bold",color:"white"}},"INVERSIONES SALCHIMONSTER")]),e("div",{style:{display:"flex","flex-direction":"column","max-width":"40%"}},[e("span",{class:"text-left text-sm",style:{"text-align":"end",width:"min-content","font-weight":"bold",color:"white"}},"TERMINOS Y CONDICIONES "),e("small",{class:"mt-2 text-left",style:{color:"white"}})])])],-1)),ee={class:"P-0",style:{"background-color":"var(--gray-200)"}},te={class:"header p-4",style:{display:"flex","justify-content":"space-between"}},se={style:{"font-weight":"bold",display:"flex","flex-direction":"column","max-width":"50%"}},ne=c(()=>e("span",{class:"text-xl mb-2",style:{width:"min-content","font-weight":"bold",color:"rgb(0, 0, 0)"}},"Factura",-1)),le={style:{display:"flex",gap:"1rem","justify-content":"space-between"}},oe=c(()=>e("div",{style:{display:"flex","flex-direction":"column"}},[e("span",null," Orden No."),e("span",null," Sede"),e("span",null," Fecha"),e("span",null," Metodo de pago")],-1)),ie=c(()=>e("div",{style:{display:"flex","font-weight":"200","flex-direction":"column"}},[e("span",null," |"),e("span",null," | "),e("span",null," |"),e("span",null," |")],-1)),ae={style:{display:"flex","font-weight":"400","flex-direction":"column"}},re={style:{"font-weight":"bold",display:"flex","flex-direction":"column","max-width":"40%"}},ce=c(()=>e("span",{class:"text-xl mb-2",style:{width:"min-content","font-weight":"bold",color:"rgb(0, 0, 0)"}},"Balance",-1)),de={style:{display:"flex",gap:"1rem","justify-content":"space-between"}},_e=c(()=>e("div",{style:{display:"flex","flex-direction":"column"}},[e("span",null," Subtotal"),e("span",null," Domicilio"),e("span",{class:"text-l"}," Total")],-1)),he=c(()=>e("div",{style:{display:"flex","font-weight":"200","flex-direction":"column"}},[e("span",null," | "),e("span",null," |"),e("span",null," |")],-1)),pe={style:{display:"flex","font-weight":"400","flex-direction":"column"}},ye={class:"px-2"},me={class:"px-2"},fe={class:"text-l px-2",style:{"font-weight":"bold","border-top":"1px solid"}},ue={class:"mb-4 mx-4",style:{border:"2px dotted #4b5563"}},ge=c(()=>e("h5",{class:"p-2 m-0"},[e("b",null," Notas ")],-1)),xe={class:"col-12 px-2 m-0"},be={class:"m-0"},ve=c(()=>e("p",{class:"text-xl text-center",style:{"font-weight":"bold",color:"rgb(255, 255, 255)","background-color":"#4b5563"}},"Datos del usuario",-1)),we={class:"p-4",style:{display:"flex",gap:"1rem","justify-content":"start"}},ke={style:{display:"flex","font-weight":"400",height:"4rem","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","border-radius":"50%","flex-direction":"column","align-items":"center","justify-content":"center"}},Oe=c(()=>e("div",{style:{display:"flex","font-weight":"200","flex-direction":"column"}},[e("span",null," |"),e("span",null," | "),e("span",null," |")],-1)),Se={style:{display:"flex","flex-direction":"column"}},je={style:{"text-transform":"capitalize"}},Ie=c(()=>e("span",{style:{"font-weight":"bold"}}," Nombre :",-1)),Ce={style:{"text-transform":"capitalize"}},De=c(()=>e("span",{style:{"font-weight":"bold"}},"DIRECCION :",-1)),Ee=c(()=>e("span",{style:{"font-weight":"bold"}}," TELEFONO : ",-1)),Ne={class:"P-0",style:{"background-color":"var(--white-200)"}},Te={class:"header py-4",style:{display:"flex","justify-content":"space-between"}},Re={style:{"font-weight":"bold",display:"flex","flex-direction":"column",width:"100%"}},Pe=c(()=>e("span",{class:"text-xl pl-4 mb-2",style:{width:"min-content","font-weight":"bold",color:"rgb(0, 0, 0)"}},"Productos",-1)),Le={class:"m-0 p-0"},$e={class:"text-l p-1 text-center my-2",style:{"font-weight":"bold",width:"100","background-color":"var(--gray-200)",color:"#4b5563"}},Ue={class:"px-4 py-0",style:{display:"flex",gap:"1rem",width:"100%","justify-content":"space-between"}},ze={style:{display:"flex","flex-direction":"column","font-weight":"500"}},Be={key:0,class:"",style:{"font-weight":"bold"}},Fe={class:"ml-4"},Ve={key:2,class:"",style:{"font-weight":"bold"}},Ae={class:"ml-4"},He={key:4,class:"",style:{"font-weight":"bold"}},Me={class:"ml-4"},qe={key:6,class:"",style:{"font-weight":"bold"}},Ge={class:"ml-4"},Je={key:8,class:"",style:{"font-weight":"bold"}},Ye={class:"ml-4"},Ke=c(()=>e("div",{style:{display:"flex","font-weight":"200","flex-direction":"column"}},null,-1)),Qe={style:{display:"flex","font-weight":"400","flex-direction":"column"}},We={key:0,class:"text-right",style:{}},Xe={class:"ml-4 text-right",style:{}},Ze={key:2,class:"text-right",style:{}},et={class:"ml-4 text-right"},tt={key:4,class:"text-right",style:{}},st={class:"ml-4 text-right"},nt={key:5,class:"text-right",style:{}},lt={class:"ml-4 text-right"},ot={key:6,class:"text-right",style:{}},it={class:"ml-4"},at={__name:"orderDialog",setup(h){const l=B();return H(!0),(j,p)=>{const x=F("Dialog");return t(),M(x,{style:Y([{"background-color":""},{width:"40rem"}]),visible:o(l).visibleOrder.visible,"onUpdate:visible":p[0]||(p[0]=y=>o(l).visibleOrder.visible=y),modal:"",header:"Orden"},{default:q(()=>{var y,b;return[e("div",X,[Z,e("div",ee,[e("div",te,[e("div",se,[ne,e("div",le,[oe,ie,e("div",ae,[e("span",null,a(o(l).visibleOrder.order.order_id),1),e("span",null,a(o(l).visibleOrder.order.site_name),1),e("span",null,a(o(l).visibleOrder.order.latest_status_timestamp.split("T")[0]),1),e("span",null,a((y=o(l).visibleOrder.order)==null?void 0:y.payment_method),1)])])]),e("div",re,[ce,e("div",de,[_e,he,e("div",pe,[e("span",ye,a(o(f)(o(l).visibleOrder.order.total_order_price)),1),e("span",me,a(o(f)(o(l).visibleOrder.order.delivery_price)),1),e("span",fe,a(o(f)(o(l).visibleOrder.order.total_order_price+o(l).visibleOrder.order.delivery_price)),1)])])])]),e("div",ue,[ge,e("div",xe,[e("h6",be,a(o(l).visibleOrder.order.order_notes),1)])]),ve,e("div",we,[e("div",ke,[e("i",{class:G(["text-2xl",o(J).USER])},null,2)]),Oe,e("div",Se,[e("span",je,[Ie,S(" "+a(o(l).visibleOrder.order.user_name),1)]),e("span",Ce,[De,S(" "+a(o(l).visibleOrder.order.user_address),1)]),e("span",null,[Ee,S(" "+a((b=o(l).visibleOrder.order)==null?void 0:b.user_phone),1)])])])]),e("div",Ne,[e("div",Te,[e("div",Re,[Pe,(t(!0),s(d,null,_(o(l).visibleOrder.order.products,n=>{var u,v,g,w,k,m,O,I,C,D,E,N,T,R,P,L,$;return t(),s("div",Le,[e("p",$e,[S(a(n.name)+" ",1),e("span",null,a(o(f)(n.price)),1)]),e("div",Ue,[e("div",ze,[((u=n.salsas)==null?void 0:u.length)>0?(t(),s("span",Be," Salsas")):r("",!0),((v=n.salsas)==null?void 0:v.length)>0?(t(!0),s(d,{key:1},_(n.salsas,i=>(t(),s("span",Fe,a(i),1))),256)):r("",!0),((g=n.adiciones)==null?void 0:g.length)>0?(t(),s("span",Ve," Adiciones")):r("",!0),((w=n.adiciones)==null?void 0:w.length)>0?(t(!0),s(d,{key:3},_(n.adiciones,i=>(t(),s("span",Ae,a(i.name),1))),256)):r("",!0),((k=n.cambios)==null?void 0:k.length)>0?(t(),s("span",He," Cambios")):r("",!0),((m=n.cambios)==null?void 0:m.length)>0?(t(!0),s(d,{key:5},_(n.cambios,i=>(t(),s("span",Me,a(i.name),1))),256)):r("",!0),((O=n.toppings)==null?void 0:O.length)>0?(t(),s("span",qe," Toppings")):r("",!0),((I=n.toppings)==null?void 0:I.length)>0?(t(!0),s(d,{key:7},_(n.toppings,i=>(t(),s("span",Ge,a(i==null?void 0:i.name),1))),256)):r("",!0),((C=n.acompanantes)==null?void 0:C.length)>0?(t(),s("span",Je," Acompanantes")):r("",!0),((D=n.acompanantes)==null?void 0:D.length)>0?(t(!0),s(d,{key:9},_(n.acompanantes,i=>(t(),s("span",Ye,a(i.name),1))),256)):r("",!0)]),Ke,e("div",Qe,[((E=n.salsas)==null?void 0:E.length)>0?(t(),s("span",We," --------------")):r("",!0),((N=n.salsas)==null?void 0:N.length)>0?(t(!0),s(d,{key:1},_(n.salsas,i=>(t(),s("span",Xe," ..."))),256)):r("",!0),((T=n.adiciones)==null?void 0:T.length)>0?(t(),s("span",Ze," --------------")):r("",!0),((R=n.adiciones)==null?void 0:R.length)>0?(t(!0),s(d,{key:3},_(n.adiciones,i=>(t(),s("span",et,a(o(f)(i.price)),1))),256)):r("",!0),((P=n.cambios)==null?void 0:P.length)>0?(t(),s("span",tt," --------------")):r("",!0),(t(!0),s(d,null,_(n.cambios,i=>(t(),s("span",st,a(o(f)(i.price)),1))),256)),((L=n.topping)==null?void 0:L.length)>0?(t(),s("span",nt," --------------")):r("",!0),(t(!0),s(d,null,_(n.toppings,i=>(t(),s("span",lt,a(o(f)(i==null?void 0:i.price)),1))),256)),(($=n.acompanantes)==null?void 0:$.length)>0?(t(),s("span",ot," --------------")):r("",!0),(t(!0),s(d,null,_(n.acompanantes,i=>(t(),s("span",it,a(o(f)(i.price)),1))),256))])])])}),256))])])])])]}),_:1},8,["visible"])}}},rt=z(at,[["__scopeId","data-v-c0123445"]]);const ct=h=>(V("data-v-7b2460bf"),h=h(),A(),h),dt={style:{display:"flex","justify-content":"center","align-items":"center","min-height":"50vh"}},_t=ct(()=>e("img",{src:W,style:{position:"fixed","z-index":"-1",opacity:".2",width:"100vw",height:"40vh",filter:"blur(3px)","object-fit":"cover"},alt:""},null,-1)),ht={__name:"ordenes",setup(h){const l=B(),j=async()=>{try{l.selectedSites.length<1&&await l.getSites();const p=l.formatDate(l.dateRange.startDate),x=l.formatDate(l.dateRange.endDate);if(p>x){alert("La fecha de inicio debe ser anterior o igual a la fecha final.");return}const y=l.selectedSites.map(O=>O.site_id).join(","),b=new URLSearchParams({site_ids:y,status:l.order_status,start_date:p,end_date:x}),n=`${Q}/sales_report?${b.toString()}`;l.setLoading(!0,"cargando reporte");const u=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const v=await u.json(),g=await fetch("https://excel-creator.salchimonster.com/crear-excel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v.total_sales)});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const w=await g.blob(),k=window.URL.createObjectURL(w),m=document.createElement("a");m.href=k,m.setAttribute("download","reporte_de_ventas.xlsx"),document.body.appendChild(m),m.click(),m.remove()}catch(p){console.error("Fetch error:",p)}finally{l.setLoading(!1,"cargando reporte")}};return(p,x)=>{const y=F("Button");return t(),s("div",dt,[U(y,{style:{width:"20rem",height:"5rem","font-size":"1.5rem"},size:"small",class:"p-4 mx-4",severity:"help",onClick:j,label:"Descargar reporte",icon:"pi pi-download text-5xl"}),_t,U(rt)])}}},mt=z(ht,[["__scopeId","data-v-7b2460bf"]]);export{mt as default};
