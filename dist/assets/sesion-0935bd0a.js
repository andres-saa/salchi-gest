import{p as x}from"./ProductService-7d8711eb.js";import{f as w}from"./formatoPesos-2a38d2e7.js";import{u as k}from"./productStore-8a27adc7.js";import{_ as S,l as $,r as f,o as u,c as _,a as e,d as c,k as m,t as d,u as j,f as P,g as C,i as h,F as B,b as E,m as v}from"./index-db2eb84a.js";import{u as T}from"./site-ef889b96.js";import"./axios-4d564c32.js";const V={class:"container p-shadow col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},I={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.5rem"}},M={class:"imagen"},D=["src"],F={class:"texto",style:{}},L={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},N={style:{display:"flex","justify-content":"space-between","align-items":"center"}},O={style:{"text-transform":"uppercase"}},R={style:{display:"flex","justify-content":"space-between","align-items":"c"}},U={style:{display:"flex","align-items":"center",gap:"1rem"}},q={class:"text-xl"},z={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(y){const i=k(),s=y,l=o=>{i.visibles.dialogEditProduct=!0,i.currentProductToEdit=o},n=async o=>{try{const t=await x.updateProductInstanceStatus(s.product.id,o);t&&console.log("Status updated:",t)}catch(t){console.error("Failed to update status:",t)}},p=$(()=>s.product.product_description.substring(0,100)+"...");return(o,t)=>{var g;const r=f("Button"),b=f("InputSwitch");return u(),_("div",V,[e("div",I,[c(r,{onClick:t[0]||(t[0]=a=>m(i).visibles.dialogEditProduct=!0),severity:"danger",style:{right:"0",top:"0"},rounded:"",icon:"pi pi-times"}),c(r,{onClick:t[1]||(t[1]=a=>l(s.product)),severity:"warning",style:{"font-weight":"bold",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),e("div",M,[e("img",{class:"",style:{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`https://backend.salchimonster.com/read-product-image/300/${s.product.product_name}`,alt:"",onClick:t[2]||(t[2]=a=>o.open(s.product))},null,8,D)]),e("div",F,[e("div",L,[e("div",N,[e("span",null,[e("b",O,d(s.product.product_name),1)]),c(r,{text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),e("span",null,d((g=p.value)==null?void 0:g.toLocaleLowerCase()),1),e("div",R,[c(b,{modelValue:s.product.status,"onUpdate:modelValue":[t[3]||(t[3]=a=>s.product.status=a),t[4]||(t[4]=a=>n(s.product.status))]},null,8,["modelValue"]),e("div",U,[e("span",q,[e("b",null,d(m(w)(s.product.price)),1)])])])])])])}}},A=S(z,[["__scopeId","data-v-ccd25086"]]),G={class:"grid p-1 pb-8",style:{"max-width":"1024px",margin:"auto"}},H={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},J=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),K={class:"text-3xl",style:{"min-width":"max-content"}},Q=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),st={__name:"sesion",setup(y){const i=T(),s=j(),l=P([]);C(async()=>{n()});const n=async()=>{const p=s.params.category_id,o=i.site.site_id;l.value=await x.getProductsByCategorySite(p,o)};return h(()=>s.params.category_id,async()=>{s.params.category_id&&(n(),await v())},{deep:!0}),h(()=>i.site,async()=>{i.site&&(n(),await v())},{deep:!0}),(p,o)=>(u(),_("div",G,[e("p",H,[J,e("span",K,d(m(s).params.menu_name)+" DE "+d(m(i).site.site_name),1),Q]),(u(!0),_(B,null,E(l.value,(t,r)=>(u(),_("div",{key:t.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[c(A,{style:{width:"100%"},id:`tarjeta-${r}`,product:t},null,8,["id","product"])]))),128))]))}};export{st as default};
