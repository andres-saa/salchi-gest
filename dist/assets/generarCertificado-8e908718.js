import{_ as M,f as _,z as V,h as P,S as B,T as H,g as U,r as z,o as v,c as y,a as e,d as N,k as C,w as L,A as w,t as n,q as W,Q as q,R as G,m as f,V as Y,U as T,W as J,X as Q,n as X,P as K,p as Z,e as ee}from"./index-98a78acb.js";import{_ as te}from"./logo-c69ae777.js";import{f as oe}from"./formatoPesos-2a38d2e7.js";import se from"./html2canvas.esm-e0a7d97b.js";import{E as ae}from"./jspdf.es.min-edaeea85.js";const ne="/images/sello gestion humana.png",le="/images/certificado.png";const l=g=>(Z("data-v-423c25e1"),g=g(),ee(),g),re={class:"m-2 m-auto"},ie=l(()=>e("p",{class:"text-2xl lg:text-3xl text-center my-4 mt-8",style:{"font-weight":"bold"}},"Generar Certificado Laboral",-1)),ce={class:"mb-6 col-12",style:{display:"flex",height:"auto"}},de=l(()=>e("span",{style:{color:"white"}},"Buscar",-1)),me={key:0,class:"text-1xl m-auto col-6 p-0",style:{color:"var(--primary-color)"}},he={key:1,class:"text-5xl m-auto col-12"},ue={key:2,class:"col-12 p-0 m-auto",style:{height:"max-content","background-color":"transparent"}},pe=l(()=>e("h6",{class:"text-center p-2 m-0 mb-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"INFORMACIÓN DEL EMPLEADO",-1)),_e={class:"px-0 grid",style:{display:""}},fe=l(()=>e("h6",{class:"col-6 m-0 text-left text-md"},"NOMBRE",-1)),ve={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},ye=l(()=>e("h6",{class:"col-6 m-0 py-2 text-left"},"ESTADO",-1)),ge={class:"col-6 m-0 py-2 text-right",style:{"font-weight":"300","min-width":"max-content"}},be={class:"px-0 grid",style:{}},xe=l(()=>e("h6",{class:"col-6 m-0 text-left"},"DOCUMENTO",-1)),we={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},Se={class:"px-0 grid",style:{}},Ee=l(()=>e("h6",{class:"col-6 m-0 text-left"},"FECHA DE INICIO",-1)),Ne={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ce={class:"px-0 grid",style:{"background-color":""}},Ie=l(()=>e("h6",{class:"col-6 m-0 text-left"},"CARGO",-1)),ke={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},De=l(()=>e("h6",{class:"text-center p-2 mb-5",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"DETALLES ADICIONALES",-1)),Ae={class:"px-0 grid",style:{}},Oe=l(()=>e("h6",{class:"col-6 m-0 text-left"},"TIPO DE CONTRATO",-1)),Pe={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},ze={class:"px-0 grid",style:{}},Le=l(()=>e("h6",{class:"col-6 m-0 text-left"},"SALARIO",-1)),Te={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},je={style:{color:"white"}},Re={class:"col-12 p-0 mt-6",style:{"overflow-x":"auto","box-shadow":"0 0 20px rgba(0, 0, 0, 0.308)"},ref:"contenidoParaPDF"},$e={class:"a4-size p-8 mi-clase",style:{"box-shadow":"0 0 10px rgba(0, 0, 0, 0.508)"}},Fe=l(()=>e("img",{class:"",src:te,style:{width:"10%"},alt:""},null,-1)),Me={class:"py-4",style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},Ve=l(()=>e("h6",{class:"text-center py-5",style:{"font-size":"12pt","font-weight":"bold",color:"black","font-family":"Arial, Helvetica, sans-serif"}}," INVERSIONES SALCHIMONSTER SAS ",-1)),Be=l(()=>e("h6",{style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"text-center"},"NIT: 901.420.874-0",-1)),He={class:"text-center py-4",style:{"font-weight":"bold"}},Ue={style:{"text-transform":"uppercase"}},We={class:"text-md text-justify",style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},qe={style:{"text-transform":"uppercase"}},Ge={style:{"text-transform":"uppercase"}},Ye={style:{"text-transform":"uppercase"}},Je={style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"py-1 mt-0"},Qe=Y('<p class="py-6" data-v-423c25e1> Cordialmente, </p><img style="width:20rem;border-bottom:2px solid;padding-right:3rem;padding-bottom:1rem;" src="'+ne+'" alt="" data-v-423c25e1><p class="py-0 my-0" data-v-423c25e1> Oficina de Gestión Humana</p><p class="py-0 my-0" data-v-423c25e1>INVERSIONES SALCHIMONSTER SAS</p><p class="py-0 my-0" data-v-423c25e1> NIT. 901420874-0 </p>',5),Xe={key:3,class:"col-12"},Ke=l(()=>e("img",{src:le,alt:"",srcset:"",style:{width:"100%",height:"50vh","object-fit":"cover","border-radius":"1rem"}},null,-1)),Ze=[Ke],et={__name:"generarCertificado",setup(g){const I=_(window.innerWidth),k=V(()=>I.value<600),D=()=>{I.value=window.innerWidth};P(()=>{window.addEventListener("resize",D)}),B(()=>{window.removeEventListener("resize",D)});const a=_({}),p=_(H()),A=_(),S=_("2029-12-21 16:19"),E=_();document.getElementsByClassName("mi-clase");const j=t=>{let o=new Date(t),c=o.getDate(),h=o.getMonth(),r=o.getFullYear(),u=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][h];return`los ${c} días del mes de ${u} de ${r}`};U(p,(t,o)=>{console.log(`El valor de usrDni ha cambiado de ${o} a ${t}`)});const R=async t=>{fetch(`${T}/employer/dni/${t}`).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{console.log("Employer data:",o),a.value=o,E.value=""}).catch(o=>{console.error("There has been a problem with your fetch operation:",o),a.value={},E.value="  No hay un usuario para el número de documento "+p.value,A.value="error"})},$=async()=>{fetch(`${T}/server_time`).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{console.log("Employer data:",t),S.value=t}).catch(t=>{console.error("There has been a problem with your fetch operation:",t),A.value="error"})};P(async()=>{$()});function O(t){t||(t="2029-12-21 16:19");const o=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];let[c,h]=t.split(" "),[r,d,u]=c.split("-").map(Number),s=o[d-1];return`${u} de ${s} de ${r}`}function b(t){const o=["cero","un","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],c=["diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve"],h=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];function r(s){let i="",m="cien";if(s[0]>1?(i+=o[s[0]]+"cientos ",m=""):s[0]===1&&(i+=m+" "),s[1]>1)i+=h[s[1]]+" y ";else if(s[1]===1)return i+c[s[2]];return(s[2]!==0||s[0]===0&&s[1]===0)&&(i+=o[s[2]]),i}if(t===0)return o[0];if(t<0)return"menos "+b(-t);let d=[];for(;t>0;)d.push(t%1e3),t=Math.floor(t/1e3);return d.map((s,i)=>{if(s===0)return"";let m=r([Math.floor(s/100),Math.floor(s%100/10),s%10]);return i===1?s===1?"mil":m+" mil":i===2?s===1?"un millón":m+" millones":m}).reverse().join(" ").trim()}console.log(b(16e5)),console.log(b(16e5)),console.log(b(1111111));const x=_(k.value),F=async()=>{const t=k.value;x.value=!1,await J();let o=document.querySelector(".mi-clase");if(o)try{const h=(await se(o,{scale:2.5})).toDataURL("image/jpeg",.9),r=new ae({orientation:"portrait",unit:"px",format:"a4"}),d=r.internal.pageSize.getWidth(),u=r.internal.pageSize.getHeight();r.addImage(h,"JPEG",0,0,d,u),r.save(`certificado laboral - ${a.value.name}.pdf`)}catch(c){console.error("Error al exportar PDF: ",c)}finally{x.value=t}else console.error("No se encontró el elemento para convertir a PDF"),x.value=t};return(t,o)=>{var r,d,u,s,i;const c=z("InputNumber"),h=z("Button");return v(),y("div",re,[ie,e("span",ce,[N(c,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=m=>p.value=m),disabled:((r=C(Q)())==null?void 0:r.toLowerCase())!="gerente",class:"mr-5",style:{width:"100%"},placeholder:"Cedula del empleado"},null,8,["modelValue","disabled"]),N(h,{style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"},onClick:o[1]||(o[1]=m=>R(p.value))},{default:L(()=>[de]),_:1})]),p.value==null?(v(),y("p",me," Por favor digite el numero de decumento del usuario y presione Buscar")):w("",!0),!a.value.dni&&p.value?(v(),y("p",he,n(E.value),1)):w("",!0),a.value.dni&&p.value?(v(),y("div",ue,[pe,e("div",_e,[fe,e("h6",ve,n(a.value.name),1)]),e("div",{class:"px-0 grid p-0",style:W([{display:"","border-radius":"2rem"},((u=(d=a.value)==null?void 0:d.status)==null?void 0:u.toLowerCase().split(" ")[0])=="activo"?"background-color:rgb(193, 255, 100);":"background-color: rgb(255, 132, 132);"])},[ye,e("h6",ge,n(a.value.status),1)],4),e("div",be,[xe,e("h6",we,n(a.value.dni),1)]),e("div",Se,[Ee,e("h6",Ne,n(a.value.entry_date),1)]),e("div",Ce,[Ie,e("h6",ke,n(a.value.position),1)]),De,e("div",Ae,[Oe,e("h6",Pe,n(a.value.contract_type),1)]),e("div",ze,[Le,e("h6",Te,n(C(oe)(a.value.salary)),1)]),N(h,{onClick:o[2]||(o[2]=m=>F()),style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:L(()=>[e("span",je,[e("i",{class:X(C(K).UPLOAD)},null,2),f(" Descargar certificado")])]),_:1})])):w("",!0),q(e("div",Re,[e("div",$e,[Fe,e("h6",Me,n(O(S.value)),1),Ve,Be,e("h6",He,[f(" CERTIFICA A: "),e("span",Ue,n(a.value.name),1)]),e("h5",We,[f(" El(la) señor(a) "),e("b",qe,n(a.value.name),1),f(" identificado con CC No. "),e("b",null,n(a.value.dni),1),f(" labora en nuestra empresa con un contrato "),e("b",Ge,n(a.value.contract_type),1),f(" desde el dia "+n(O(a.value.entry_date))+" activo a la fecha desempeñando el cargo de ",1),e("b",Ye,n(a.value.position)+". ",1),e("h5",Je,[f(" Para constancia de lo anterior se firma en Yumbo a "+n(j(S.value))+" ",1),Qe])])])],512),[[G,((i=(s=a.value)==null?void 0:s.status)==null?void 0:i.toLowerCase().split(" ")[0])=="activo"&&!x.value]]),a.value.dni?w("",!0):(v(),y("div",Xe,Ze))])}}},lt=M(et,[["__scopeId","data-v-423c25e1"]]);export{lt as default};
