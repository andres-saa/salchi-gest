import{_ as oe,r as _,q as te,I as G,U as h,a as L,o as c,b as u,d as e,i as l,h as y,t as f,j as w,g as H,k as K,ae as $e,F as A,p as ie,m as ne,G as Se,s as J,u as P,e as R,ab as De}from"./index-e0d1eab6.js";import{u as de}from"./directorio-d3743566.js";import{s as le}from"./siteService-77184632.js";const Q=U=>(ie("data-v-afd941b0"),U=U(),ne(),U),Le={class:"p-0",style:{"border-radius":"1rem","background-color":"red"}},Ue={class:"m-0"},xe=Q(()=>e("span",{class:"p-column-title"},"Code",-1)),Pe=Q(()=>e("span",{class:"p-column-title"},"Code",-1)),Te={class:"col-12 px-1",style:{display:"flex",position:"relative","background-color":"","align-items":"center",gap:"0.5rem","justify-content":"end"}},je={key:0,class:"fa-solid fa-pen-to-square mr-2"},Ee={key:1,class:"fa-solid fa-rotate-right mr-2"},Ne=Q(()=>e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1)),Ae={__name:"horarios",setup(U){const t=_(!1),p=()=>{t.value&&j().then(n=>m.value=n),t.value=!t.value},T=_(!1),m=_([]),x=_(!1),N=de();te(()=>{j().then(n=>m.value=n)}),G(()=>N.currentSite,n=>{j().then(E=>m.value=E)});const j=async()=>{x.value=!0,localStorage.getItem("siteId");try{const n=await fetch(`${h}/site-schedule/${N.currentSite.site_id}/`);if(!n.ok)throw"paila";const E=await n.json();return E.forEach(d=>{d.opening_time=new Date(`1970-01-01T${d.opening_time}`),d.closing_time=new Date(`1970-01-01T${d.closing_time}`)}),x.value=!1,E}catch(n){x.value=!1,console.log(n)}};_("");const I=async()=>{T.value=!0;try{const n=m.value.map(d=>{const v={hour12:!1,hour:"2-digit",minute:"2-digit"},C=d.opening_time instanceof Date?d.opening_time.toLocaleTimeString([],v):d.opening_time,k=d.closing_time instanceof Date?d.closing_time.toLocaleTimeString([],v):d.closing_time;return{...d,opening_time:C,closing_time:k}});if(!(await fetch(`${h}/site-schedule/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw new Error("Error al enviar los datos");t.value=!1,T.value=!1}catch(n){console.log(n),T.value=!1}},q=_(["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"]);return(n,E)=>{const d=L("Column"),v=L("Calendar"),C=L("DataTable"),k=L("Button");return c(),u(A,null,[e("div",Le,[l(C,{stripedRowss:"",ref:"dt",class:"",value:m.value,dataKey:"id",style:{border:"1rem",overflow:"hidden"},rows:7,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,100],currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} scheldules",responsiveLayout:"scroll",scrollable:""},{default:y(()=>[l(d,{style:{"max-width":"3rem"},class:"p-0",field:"day_of_week",header:"Dia",headerStyle:"width:1rem; min-width:1rem;"},{body:y(g=>[e("span",Ue,f(q.value[g.data.day_of_week-1]),1)]),_:1}),l(d,{class:"p-0",field:"opening_time",header:"Abre",headerStyle:"width:2rem; min-width:2rem;"},{body:y(g=>[xe,l(v,{class:"p-0",disabled:!t.value,hourFormat:"12",timeOnly:"",modelValue:g.data.opening_time,"onUpdate:modelValue":S=>g.data.opening_time=S},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),l(d,{class:"p-1",field:"closing_time",header:"Cierra",headerStyle:"width:2rem; min-width:2rem;"},{body:y(g=>[Pe,l(v,{disabled:!t.value,hourFormat:"12",timeOnly:"",modelValue:g.data.closing_time,"onUpdate:modelValue":S=>g.data.closing_time=S},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value"])]),e("div",Te,[l(k,{severity:t.value?"help":"info",onClick:p,size:"small",class:"",style:{transition:"all  .5s","min-width":"max-content","align-items":"","font-weight":"bold","border-radius":"0.5rem"}},{default:y(()=>[t.value?(c(),u("i",Ee)):(c(),u("i",je)),w(" "+f(t.value?"Restablecer":"Modificar horario"),1)]),_:1},8,["severity","onClick"]),l($e,{name:"fade"},{default:y(()=>[t.value?(c(),H(k,{key:0,size:"small",severity:"success",onClick:I,style:{"font-weight":"bold","min-height":"max-content","border-radius":"0.5rem"},class:""},{default:y(()=>[Ne,w(" Guardar")]),_:1})):K("",!0)]),_:1})])],64)}}},Ie=oe(Ae,[["__scopeId","data-v-afd941b0"]]);const i=U=>(ie("data-v-dd1cabea"),U=U(),ne(),U),qe={class:"layout"},Oe={class:"sidebar shadow-2"},We={class:"sidebar-top"},Fe=i(()=>e("div",{class:"brand"},[e("i",{class:"fa-solid fa-store"}),e("b",null,"Panel de sede")],-1)),Re={class:"open-row"},Be=i(()=>e("span",null,"Abierto",-1)),Me={class:"menu"},ze={class:"content"},Je={class:"card hero-card"},Ge={class:"hero-grid"},He={class:"hero-info"},Ke={class:"title"},Qe=i(()=>e("p",{class:"muted"},"Administra datos clave, accesos y horarios de tu sede.",-1)),Xe={class:"hero-actions"},Ye={class:"hero-image-wrap"},Ze=["src"],es={class:"card section",id:"basic"},ss={class:"section-header"},as=i(()=>e("div",{class:"section-title"},[e("i",{class:"fa-solid fa-circle-info"}),e("span",null,[e("b",null,"Información básica")])],-1)),ls={class:"info-grid"},os={class:"info-label"},ts={key:0,class:"info-value"},is=["href"],ns={class:"card section accent-green",id:"wifi"},ds={class:"section-header"},rs={class:"section-title"},cs=i(()=>e("i",{class:"fa-solid fa-wifi"},null,-1)),us=i(()=>e("span",null,[e("b",null,"WiFi")],-1)),ps={key:0,class:"empty"},_s={key:1,class:"list"},vs={class:"fields"},fs=i(()=>e("b",null,"Nombre:",-1)),ms=i(()=>e("b",null,"Clave:",-1)),hs={class:"card section accent-violet",id:"dataphones"},gs={class:"section-header"},bs={class:"section-title"},ws=i(()=>e("i",{class:"fa-regular fa-credit-card"},null,-1)),ys=i(()=>e("span",null,[e("b",null,"Datáfonos")],-1)),ks={key:0,class:"empty"},Vs={key:1,class:"list"},Cs={class:"fields"},$s=i(()=>e("b",null,"Código único:",-1)),Ss=i(()=>e("b",null,"Código externo:",-1)),Ds={class:"card section accent-orange",id:"web"},Ls={class:"section-header"},Us={class:"section-title"},xs=i(()=>e("i",{class:"fa-solid fa-paper-plane"},null,-1)),Ps=i(()=>e("span",null,[e("b",null,"Páginas web")],-1)),Ts={key:0,class:"empty"},js={key:1,class:"list"},Es={class:"fields"},Ns=i(()=>e("b",null,"Nombre:",-1)),As=i(()=>e("b",null,"Usuario:",-1)),Is=i(()=>e("b",null,"Clave:",-1)),qs={class:"card section accent-slate",id:"apps"},Os={class:"section-header"},Ws={class:"section-title"},Fs=i(()=>e("i",{class:"fa-brands fa-app-store-ios"},null,-1)),Rs=i(()=>e("span",null,[e("b",null,"Aplicaciones")],-1)),Bs={key:0,class:"empty"},Ms={key:1,class:"list"},zs={class:"fields"},Js=i(()=>e("b",null,"Nombre:",-1)),Gs=i(()=>e("b",null,"Usuario:",-1)),Hs=i(()=>e("b",null,"Clave:",-1)),Ks={class:"card section",id:"schedule"},Qs=i(()=>e("header",{class:"section-header"},[e("div",{class:"section-title"},[e("i",{class:"fa-solid fa-clock"}),e("span",null,[e("b",null,"Horario")])])],-1)),Xs={class:"form-vstack"},Ys={class:"field"},Zs=i(()=>e("label",{for:"siteName"},"Nombre de la sede",-1)),ea={class:"field"},sa=i(()=>e("label",{for:"siteAddress"},"Dirección",-1)),aa={class:"field"},la=i(()=>e("label",{for:"sitePhone"},"Teléfono",-1)),oa={class:"field"},ta=i(()=>e("label",{for:"emailAddress"},"Correo electrónico",-1)),ia={class:"field"},na=i(()=>e("label",{for:"whatsappLink"},"Enlace de WhatsApp",-1)),da={class:"field"},ra=i(()=>e("label",{for:"mapsLink"},"Enlace de Maps",-1)),ca={class:"dialog-footer"},ua={class:"form-vstack"},pa={class:"field"},_a=i(()=>e("label",{for:"appName"},"Nombre de la aplicación",-1)),va={class:"field"},fa=i(()=>e("label",{for:"appUsername"},"Nombre de usuario",-1)),ma={class:"field"},ha=i(()=>e("label",{for:"appPassword"},"Contraseña",-1)),ga={class:"form-vstack"},ba={class:"field"},wa=i(()=>e("label",{for:"pageName"},"Nombre de la página",-1)),ya={class:"field"},ka=i(()=>e("label",{for:"pageUsername"},"Nombre de usuario",-1)),Va={class:"field"},Ca=i(()=>e("label",{for:"pagePassword"},"Contraseña",-1)),$a={class:"form-vstack"},Sa={class:"field"},Da=i(()=>e("label",{for:"uniqueCode"},"Código único",-1)),La={class:"field"},Ua=i(()=>e("label",{for:"externalCode"},"Código externo",-1)),xa={class:"form-vstack"},Pa={class:"field"},Ta=i(()=>e("label",{for:"wifiUsername"},"Nombre",-1)),ja={class:"field"},Ea=i(()=>e("label",{for:"wifiPassword"},"Contraseña",-1)),Na={__name:"Directory",setup(U){const t=de(),p=Se(),T=_([]),m=_({}),x=_(!1),N=_(!1),j=_(!1),I=_(!1),q=_(!1),n=_({site_name:"",site_address:"",site_phone:"",email_address:"",wsp_link:"",maps:""}),E=[{label:"Nombre",value:"site_name"},{label:"Dirección",value:"site_address"},{label:"Teléfono",value:"site_phone"},{label:"Correo",value:"email_address"},{label:"Link de WhatsApp",value:"wsp_link",isLink:!0},{label:"Link de Maps",value:"maps",isLink:!0}],d=_({name:"",username:"",password:""}),v=_({page:"",username:"",password:""}),C=_({unique_code:"",external_code:""}),k=_({username:"",password:""}),g=_(null),S=_(""),W=_(!1),O=o=>{const s=document.getElementById(o);s&&s.scrollIntoView({behavior:"smooth",block:"start"})};te(async()=>{var o,s;await le.getSites().then(V=>T.value=V),!t.currentSite&&((o=T.value)!=null&&o.length)&&t.setSite(T.value[0]),await D(),S.value=`${h}/read-product-image/600/site-${t.currentSite.site_id}`,g.value="",(s=t==null?void 0:t.currentSite)!=null&&s.site_id&&(W.value=await J.get(`${h}/is-open-status/${t.currentSite.site_id}`)),n.value={...t.currentSite}}),G(()=>t.currentSite,async o=>{o&&(p.setLoading(!0,`cargando información de ${o.site_name}`),n.value={...o},S.value=`${h}/read-product-image/600/${"site-"+o.site_id}`,g.value="",await D(),o!=null&&o.site_id&&(W.value=await J.get(`${h}/is-open-status/${o.site_id}`)),p.setLoading(!1))},{deep:!0}),G(W,async o=>{var s,V;((s=t==null?void 0:t.currentSite)==null?void 0:s.site_id)!=null&&await J.put(`${h}/open-close-site/site/${(V=t==null?void 0:t.currentSite)==null?void 0:V.site_id}/status/${o}`)});const D=async()=>{var s;if(!((s=t==null?void 0:t.currentSite)!=null&&s.site_id))return;const o=await le.siteDirectory(t.currentSite.site_id);m.value=o||{}},re=o=>{var V;const s=(V=o.target.files)==null?void 0:V[0];s&&(g.value=s,S.value=URL.createObjectURL(s))},ce=()=>{S.value=`${h}/read-product-image/600/site-${t.currentSite.site_id}`,g.value=""},ue=()=>{const o=`${h}/site/${t.currentSite.site_id}`;De.put(o,n.value).then(()=>{x.value=!1,t.currentSite={...n.value}}).catch(s=>{var V;return console.error("Error en la actualización:",((V=s==null?void 0:s.response)==null?void 0:V.data)||s)})};function pe(o,s){const V=`${h}/upload-product-image/site-${s}`;p.setLoading(!0,"subiendo imagen");const B=new FormData;B.append("file",o),fetch(V,{method:"POST",body:B}).then(r=>{r.ok||console.error("Error al cargar foto:",r.status,r.statusText),g.value=""}).catch(console.error).finally(()=>p.setLoading(!1,"subiendo imagen"))}const _e=o=>confirm("¿Eliminar esta red Wi-Fi?")&&ve(o),ve=o=>{p.setLoading(!0,"borrando"),fetch(`${h}/site/${t.currentSite.site_id}/wifi-network/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(s=>s.ok?s.json():Promise.reject(s)).then(D).catch(console.error).finally(()=>p.setLoading(!1,"borrando"))},fe=()=>{!k.value.username||!k.value.password||(p.setLoading(!0,"enviando"),fetch(`${h}/site/wifi-network`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_id:t.currentSite.site_id,...k.value})}).then(o=>o.ok?o.json():Promise.reject(o)).then(()=>(q.value=!1,k.value={username:"",password:""},D())).catch(console.error).finally(()=>p.setLoading(!1,"enviando")))},me=o=>confirm("¿Eliminar este datáfono?")&&he(o),he=o=>{p.setLoading(!0,"borrando"),fetch(`${h}/site/${t.currentSite.site_id}/dataphone/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(s=>s.ok?s.json():Promise.reject(s)).then(D).catch(console.error).finally(()=>p.setLoading(!1,"borrando"))},ge=()=>{C.value.unique_code&&(p.setLoading(!0,"enviando"),fetch(`${h}/site/dataphone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_id:t.currentSite.site_id,...C.value})}).then(o=>o.ok?o.json():Promise.reject(o)).then(()=>(I.value=!1,C.value={unique_code:"",external_code:""},D())).catch(console.error).finally(()=>p.setLoading(!1,"enviando")))},be=o=>confirm("¿Eliminar esta página web?")&&we(o),we=o=>{p.setLoading(!0,"borrando"),fetch(`${h}/site/${t.currentSite.site_id}/web-page/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(s=>s.ok?s.json():Promise.reject(s)).then(D).catch(console.error).finally(()=>p.setLoading(!1,"borrando"))},ye=()=>{!v.value.page||!v.value.username||!v.value.password||(p.setLoading(!0,"enviando"),fetch(`${h}/siteweb-page`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_id:t.currentSite.site_id,...v.value})}).then(o=>o.ok?o.json():Promise.reject(o)).then(()=>(j.value=!1,v.value={page:"",username:"",password:""},D())).catch(console.error).finally(()=>p.setLoading(!1,"enviando")))},ke=o=>confirm("¿Eliminar esta aplicación?")&&Ve(o),Ve=o=>{p.setLoading(!0,"borrando"),fetch(`${h}/site/${t.currentSite.site_id}/application/${o}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(s=>s.ok?s.json():Promise.reject(s)).then(D).catch(console.error).finally(()=>p.setLoading(!1,"borrando"))},Ce=()=>{!d.value.name||!d.value.username||!d.value.password||(p.setLoading(!0,"enviando"),fetch(`${h}/site/application`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({site_id:t.currentSite.site_id,...d.value})}).then(o=>o.ok?o.json():Promise.reject(o)).then(()=>(N.value=!1,d.value={name:"",username:"",password:""},D())).catch(console.error).finally(()=>p.setLoading(!1,"enviando")))};return(o,s)=>{var X,Y,Z,ee,se,ae;const V=L("Dropdown"),B=L("InputSwitch"),r=L("Button"),M=L("Tag"),b=L("InputText"),F=L("Dialog");return c(),u(A,null,[e("div",qe,[e("aside",Oe,[e("div",We,[Fe,l(V,{modelValue:P(t).currentSite,"onUpdate:modelValue":s[0]||(s[0]=a=>P(t).currentSite=a),options:(X=T.value)==null?void 0:X.filter(a=>a.show_on_web),optionLabel:"site_name",placeholder:"Selecciona una sede",class:"w-full"},null,8,["modelValue","options"]),e("div",Re,[Be,l(B,{modelValue:W.value,"onUpdate:modelValue":s[1]||(s[1]=a=>W.value=a),binary:""},null,8,["modelValue"])]),l(r,{label:"Actualizar info",severity:"help",class:"w-full",icon:"fa-solid fa-pen-to-square",onClick:s[2]||(s[2]=a=>x.value=!0)})]),e("div",Me,[l(r,{text:"",class:"w-full",icon:"fa-solid fa-circle-info",label:"Información básica",onClick:s[3]||(s[3]=a=>O("basic"))}),l(r,{text:"",class:"w-full",icon:"fa-solid fa-wifi",label:"WiFi",onClick:s[4]||(s[4]=a=>O("wifi"))}),l(r,{text:"",class:"w-full",icon:"fa-regular fa-credit-card",label:"Datáfonos",onClick:s[5]||(s[5]=a=>O("dataphones"))}),l(r,{text:"",class:"w-full",icon:"fa-solid fa-paper-plane",label:"Páginas web",onClick:s[6]||(s[6]=a=>O("web"))}),l(r,{text:"",class:"w-full",icon:"fa-brands fa-app-store-ios",label:"Aplicaciones",onClick:s[7]||(s[7]=a=>O("apps"))}),l(r,{text:"",class:"w-full",icon:"fa-solid fa-clock",label:"Horario",onClick:s[8]||(s[8]=a=>O("schedule"))})])]),e("main",ze,[e("section",Je,[e("div",Ge,[e("div",He,[e("h2",Ke,[e("b",null,f(((Y=P(t).currentSite)==null?void 0:Y.site_name)||"Sede"),1)]),Qe,e("div",Xe,[l(r,{severity:"help",icon:"fa-solid fa-camera",label:"Cambiar imagen",onClick:s[9]||(s[9]=a=>o.$refs.fileInput.click())}),e("input",{ref:"fileInput",type:"file",accept:"image/*",onChange:re,style:{display:"none"}},null,544),g.value?(c(),H(r,{key:0,text:"",icon:"fa-solid fa-rotate-right",label:"Revertir",onClick:ce})):K("",!0),g.value?(c(),H(r,{key:1,severity:"success",icon:"fa-solid fa-floppy-disk",label:"Guardar",onClick:s[10]||(s[10]=a=>pe(g.value,P(t).currentSite.site_id))})):K("",!0)])]),e("div",Ye,[e("img",{class:"hero-image",src:S.value?S.value:`${P(h)}/read-product-image/600/site-${P(t).currentSite.site_id}`,alt:"Imagen sede"},null,8,Ze)])])]),e("section",es,[e("header",ss,[as,l(r,{size:"small",severity:"help",icon:"fa-solid fa-pen-to-square",label:"Editar",onClick:s[11]||(s[11]=a=>x.value=!0)})]),e("div",ls,[(c(),u(A,null,R(E,(a,$)=>e("div",{key:$,class:"info-row"},[e("div",os,f(a.label),1),a.isLink?(c(),u("a",{key:1,class:"info-value link",href:P(t).currentSite[a.value],target:"_blank",rel:"noopener"},f(P(t).currentSite[a.value]||"-"),9,is)):(c(),u("div",ts,f(P(t).currentSite[a.value]||"-"),1))])),64))])]),e("section",ns,[e("header",ds,[e("div",rs,[cs,us,l(M,{class:"ml-2"},{default:y(()=>{var a;return[w(f(((a=m.value.wifi_networks)==null?void 0:a.length)||0),1)]}),_:1})]),l(r,{class:"round",severity:"help",icon:"fa-solid fa-plus",onClick:s[12]||(s[12]=a=>q.value=!0)})]),(((Z=m.value.wifi_networks)==null?void 0:Z.length)||0)===0?(c(),u("div",ps,"Sin redes registradas.")):(c(),u("div",_s,[(c(!0),u(A,null,R(m.value.wifi_networks,(a,$)=>(c(),u("div",{key:$,class:"list-row"},[e("div",vs,[e("div",null,[fs,w(),e("span",null,f(a.username),1)]),e("div",null,[ms,w(),e("span",null,f(a.password),1)])]),l(r,{text:"",severity:"danger",class:"icon-only",icon:"fa-solid fa-trash-can",onClick:z=>_e(a.wifi_id)},null,8,["onClick"])]))),128))]))]),e("section",hs,[e("header",gs,[e("div",bs,[ws,ys,l(M,{class:"ml-2"},{default:y(()=>{var a;return[w(f(((a=m.value.dataphones)==null?void 0:a.length)||0),1)]}),_:1})]),l(r,{class:"round",severity:"help",icon:"fa-solid fa-plus",onClick:s[13]||(s[13]=a=>I.value=!0)})]),(((ee=m.value.dataphones)==null?void 0:ee.length)||0)===0?(c(),u("div",ks,"Sin datáfonos registrados.")):(c(),u("div",Vs,[(c(!0),u(A,null,R(m.value.dataphones,(a,$)=>(c(),u("div",{key:$,class:"list-row"},[e("div",Cs,[e("div",null,[$s,w(),e("span",null,f(a.unique_code),1)]),e("div",null,[Ss,w(),e("span",null,f(a.external_code),1)])]),l(r,{text:"",severity:"danger",class:"icon-only",icon:"fa-solid fa-trash-can",onClick:z=>me(a.dataphone_id)},null,8,["onClick"])]))),128))]))]),e("section",Ds,[e("header",Ls,[e("div",Us,[xs,Ps,l(M,{class:"ml-2"},{default:y(()=>{var a;return[w(f(((a=m.value.web_pages)==null?void 0:a.length)||0),1)]}),_:1})]),l(r,{class:"round",severity:"help",icon:"fa-solid fa-plus",onClick:s[14]||(s[14]=a=>j.value=!0)})]),(((se=m.value.web_pages)==null?void 0:se.length)||0)===0?(c(),u("div",Ts,"Sin páginas registradas.")):(c(),u("div",js,[(c(!0),u(A,null,R(m.value.web_pages,(a,$)=>(c(),u("div",{key:$,class:"list-row"},[e("div",Es,[e("div",null,[Ns,w(),e("span",null,f(a.page),1)]),e("div",null,[As,w(),e("span",null,f(a.username),1)]),e("div",null,[Is,w(),e("span",null,f(a.password),1)])]),l(r,{text:"",severity:"danger",class:"icon-only",icon:"fa-solid fa-trash-can",onClick:z=>be(a.web_page_id)},null,8,["onClick"])]))),128))]))]),e("section",qs,[e("header",Os,[e("div",Ws,[Fs,Rs,l(M,{class:"ml-2"},{default:y(()=>{var a;return[w(f(((a=m.value.applications)==null?void 0:a.length)||0),1)]}),_:1})]),l(r,{class:"round",severity:"help",icon:"fa-solid fa-plus",onClick:s[15]||(s[15]=a=>N.value=!0)})]),(((ae=m.value.applications)==null?void 0:ae.length)||0)===0?(c(),u("div",Bs,"Sin aplicaciones registradas.")):(c(),u("div",Ms,[(c(!0),u(A,null,R(m.value.applications,(a,$)=>(c(),u("div",{key:$,class:"list-row"},[e("div",zs,[e("div",null,[Js,w(),e("span",null,f(a.name),1)]),e("div",null,[Gs,w(),e("span",null,f(a.username),1)]),e("div",null,[Hs,w(),e("span",null,f(a.password),1)])]),l(r,{text:"",severity:"danger",class:"icon-only",icon:"fa-solid fa-trash-can",onClick:z=>ke(a.application_id)},null,8,["onClick"])]))),128))]))]),e("section",Ks,[Qs,l(Ie)])])]),l(F,{class:"mx-2",header:"Actualizar datos de la sede",visible:x.value,"onUpdate:visible":s[22]||(s[22]=a=>x.value=a),modal:!0,style:{width:"500px"}},{default:y(()=>[e("div",Xs,[e("div",Ys,[Zs,l(b,{id:"siteName",modelValue:n.value.site_name,"onUpdate:modelValue":s[16]||(s[16]=a=>n.value.site_name=a),class:"w-full"},null,8,["modelValue"])]),e("div",ea,[sa,l(b,{id:"siteAddress",modelValue:n.value.site_address,"onUpdate:modelValue":s[17]||(s[17]=a=>n.value.site_address=a),class:"w-full"},null,8,["modelValue"])]),e("div",aa,[la,l(b,{id:"sitePhone",modelValue:n.value.site_phone,"onUpdate:modelValue":s[18]||(s[18]=a=>n.value.site_phone=a),class:"w-full"},null,8,["modelValue"])]),e("div",oa,[ta,l(b,{id:"emailAddress",modelValue:n.value.email_address,"onUpdate:modelValue":s[19]||(s[19]=a=>n.value.email_address=a),class:"w-full"},null,8,["modelValue"])]),e("div",ia,[na,l(b,{id:"whatsappLink",modelValue:n.value.wsp_link,"onUpdate:modelValue":s[20]||(s[20]=a=>n.value.wsp_link=a),class:"w-full"},null,8,["modelValue"])]),e("div",da,[ra,l(b,{id:"mapsLink",modelValue:n.value.maps,"onUpdate:modelValue":s[21]||(s[21]=a=>n.value.maps=a),class:"w-full"},null,8,["modelValue"])]),e("div",ca,[l(r,{label:"Guardar cambios",icon:"fa-solid fa-floppy-disk",onClick:ue,severity:"success"})])])]),_:1},8,["visible"]),l(F,{header:"Agregar nueva aplicación",visible:N.value,"onUpdate:visible":s[26]||(s[26]=a=>N.value=a),modal:"",style:{width:"450px"}},{default:y(()=>[e("div",ua,[e("div",pa,[_a,l(b,{id:"appName",modelValue:d.value.name,"onUpdate:modelValue":s[23]||(s[23]=a=>d.value.name=a),class:"w-full"},null,8,["modelValue"])]),e("div",va,[fa,l(b,{id:"appUsername",modelValue:d.value.username,"onUpdate:modelValue":s[24]||(s[24]=a=>d.value.username=a),class:"w-full"},null,8,["modelValue"])]),e("div",ma,[ha,l(b,{id:"appPassword",type:"password",modelValue:d.value.password,"onUpdate:modelValue":s[25]||(s[25]=a=>d.value.password=a),class:"w-full"},null,8,["modelValue"])]),l(r,{label:"Agregar",icon:"fa-solid fa-plus",severity:"success",disabled:!d.value.name||!d.value.username||!d.value.password,onClick:Ce},null,8,["disabled"])])]),_:1},8,["visible"]),l(F,{header:"Agregar nueva página web",visible:j.value,"onUpdate:visible":s[30]||(s[30]=a=>j.value=a),modal:"",style:{width:"450px"}},{default:y(()=>[e("div",ga,[e("div",ba,[wa,l(b,{id:"pageName",modelValue:v.value.page,"onUpdate:modelValue":s[27]||(s[27]=a=>v.value.page=a),class:"w-full"},null,8,["modelValue"])]),e("div",ya,[ka,l(b,{id:"pageUsername",modelValue:v.value.username,"onUpdate:modelValue":s[28]||(s[28]=a=>v.value.username=a),class:"w-full"},null,8,["modelValue"])]),e("div",Va,[Ca,l(b,{id:"pagePassword",type:"password",modelValue:v.value.password,"onUpdate:modelValue":s[29]||(s[29]=a=>v.value.password=a),class:"w-full"},null,8,["modelValue"])]),l(r,{label:"Agregar",icon:"fa-solid fa-plus",severity:"success",disabled:!v.value.page||!v.value.username||!v.value.password,onClick:ye},null,8,["disabled"])])]),_:1},8,["visible"]),l(F,{header:"Agregar nuevo datáfono",visible:I.value,"onUpdate:visible":s[33]||(s[33]=a=>I.value=a),modal:"",style:{width:"450px"}},{default:y(()=>{var a;return[e("div",$a,[e("div",Sa,[Da,l(b,{id:"uniqueCode",modelValue:C.value.unique_code,"onUpdate:modelValue":s[31]||(s[31]=$=>C.value.unique_code=$),class:"w-full"},null,8,["modelValue"])]),e("div",La,[Ua,l(b,{id:"externalCode",modelValue:C.value.external_code,"onUpdate:modelValue":s[32]||(s[32]=$=>C.value.external_code=$),class:"w-full"},null,8,["modelValue"])]),l(r,{label:"Agregar",icon:"fa-solid fa-plus",severity:"success",disabled:!((a=C.value.value)!=null&&a.unique_code)&&!C.value.unique_code,onClick:ge},null,8,["disabled"])])]}),_:1},8,["visible"]),l(F,{header:"Agregar nueva red WiFi",visible:q.value,"onUpdate:visible":s[36]||(s[36]=a=>q.value=a),modal:"",style:{width:"450px"}},{default:y(()=>[e("div",xa,[e("div",Pa,[Ta,l(b,{id:"wifiUsername",modelValue:k.value.username,"onUpdate:modelValue":s[34]||(s[34]=a=>k.value.username=a),class:"w-full"},null,8,["modelValue"])]),e("div",ja,[Ea,l(b,{id:"wifiPassword",modelValue:k.value.password,"onUpdate:modelValue":s[35]||(s[35]=a=>k.value.password=a),type:"password",class:"w-full"},null,8,["modelValue"])]),l(r,{label:"Agregar",icon:"fa-solid fa-plus",severity:"success",disabled:!k.value.username||!k.value.password,onClick:fe},null,8,["disabled"])])]),_:1},8,["visible"])],64)}}},Oa=oe(Na,[["__scopeId","data-v-dd1cabea"]]);export{Oa as default};
