import{a as k,u as C}from"./site-2ae45613.js";import{u as R}from"./resumen.vue_vue_type_style_index_0_scoped_0fb255f5_lang-f2e6fe7a.js";import"./formatoPesos-374ef498.js";import{_ as E,g as w,C as L,h as O,D as U,e as A,o as a,c as i,a as e,F as S,r as $,t as n,m as v,u as s,j as I,n as B,x as P,p as D,k as N,H as T,I as M,b as g,f as j}from"./index-7dd807de.js";import{f as y}from"./formatoPesos-2a38d2e7.js";import"./ventas-3955f29a.js";import"./sass.default-a5b7a582.js";const u=_=>(D("data-v-e2ab331e"),_=_(),N(),_),G={class:"p-1 my-5 md:my-0 col-12"},V={class:"sticky-summary col-12 p-3 m-0"},F=u(()=>e("h5",null,[e("b",null,"Resumen")],-1)),H=u(()=>e("h5",null,[e("b",null,"productos")],-1)),q={class:"mb-0 pb-0 product-line"},z={class:"col-6 py-2 mb-0 m-0"},Q={class:"m-0"},Z={class:"span-minwidth"},J={style:{"font-weight":"400"}},K={style:{"margin-right":".5rem"}},W={class:"font-weight-400"},X={class:"col-6 my-0 text-right py-2"},Y={key:0,class:"text-end"},ee={key:1,class:"text-end"},te={class:"addition-item-inner"},oe={class:"text adicion"},se={key:0,class:"pl-2 text-sm"},ne=u(()=>e("div",{class:"col-12 p-0 mt-1"},null,-1)),ae=u(()=>e("hr",{class:"p-0 mt-2"},null,-1)),ie={class:"grid summary-grid"},re=u(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),ce={class:"col-6 my-0 text-right py-0 text-end"},de={class:"col-6 my-0 py-0"},le=u(()=>e("b",null,"Domicilio",-1)),_e=[le],pe={class:"col-6 my-0 text-right py-0 text-end"},he={key:0,class:"primary-color"},ue={key:1},me=u(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Total")])],-1)),ye={key:0,class:"col-6 my-0 text-right py-0 text-end"},ge=u(()=>e("div",null,null,-1)),be={__name:"ResumenGracias",setup(_){w(!1);const b=L(),d=k(),o=C(),p=R(),x=w({}),h=()=>{x.value=d.cart.additions.reduce((r,t)=>{let m=t.group;return r[m]||(r[m]=[]),r[m].push(t),r},{})};return O(()=>{var r;h(),((r=p.user.payment_method_option)==null?void 0:r.id)!=7&&!b.path.includes("reservas")?o.setNeighborhoodPrice():o.setNeighborhoodPriceCero()}),U(()=>d.cart.additions,()=>{h()},{deep:!0}),(r,t)=>{const m=A("Button");return a(),i("div",G,[e("div",V,[F,H,(a(!0),i(S,null,$(s(d).cart,c=>(a(),i("div",{key:c.productogeneral_id},[e("div",q,[e("div",z,[e("h6",Q,[e("span",Z,"( "+n(c.pedido_cantidad)+" ) ",1),e("span",J,n(c.pedido_nombre_producto),1)]),(a(!0),i(S,null,$(c.lista_productocombo,l=>(a(),i("h6",{class:"m-0 ml-3",style:{"margin-left":"1rem"},key:l.producto_id},[v(" ( "+n(c.pedido_cantidad)+" ) ",1),e("b",K,n(parseInt(l.pedido_cantidad)),1),e("span",W,n(l.pedido_nombre),1)]))),128))]),e("div",X,[c.modificadorseleccionList.length<1?(a(),i("h6",Y,n(s(y)(c.pedido_precio*c.pedido_cantidad)),1)):(a(),i("h6",ee,n(s(y)(c.pedido_base_price*c.pedido_cantidad)),1))])]),(a(!0),i(S,null,$(c.modificadorseleccionList,l=>(a(),i("div",{class:"addition-item",key:l},[e("div",te,[e("span",oe,[e("span",null,[e("b",null,"- ( "+n(c.pedido_cantidad)+" ) "+n(l.modificadorseleccion_cantidad/c.pedido_cantidad),1)]),v(" "+n(l.modificador_nombre),1)]),l.pedido_precio>0?(a(),i("span",se,[e("b",null,n(s(y)(l.pedido_precio*l.modificadorseleccion_cantidad)),1)])):I("",!0)])]))),128))]))),128)),ne,ae,e("div",ie,[re,e("div",ce,[e("span",null,[e("b",null,n(s(y)(s(d).cartTotal)),1)])]),e("div",de,[e("span",{style:B(s(o).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},_e,4)]),e("div",pe,[s(o).location.neigborhood.delivery_price==0?(a(),i("span",he,[e("b",null,n(s(b).path.includes("reservas")?"Ir a la sede":"Recoger en local"),1)])):s(o).location.neigborhood.delivery_price?(a(),i("span",ue,[e("b",null,n(s(y)(s(o).location.neigborhood.delivery_price)),1)])):I("",!0)]),me,s(o).location.neigborhood.delivery_price?(a(),i("div",ye,[e("span",null,[e("b",null,n(s(y)(s(d).cartTotal+s(o).location.neigborhood.delivery_price)),1)])])):(a(),P(m,{key:1,onClick:t[0]||(t[0]=c=>s(o).visibles.currentSite=!0),label:"Calcular mi domicilio",style:{"min-width":"max-content"}}))]),ge])])}}},ve=E(be,[["__scopeId","data-v-e2ab331e"]]);const f=_=>(D("data-v-047022eb"),_=_(),N(),_),fe={class:"p-2 col-12 my-6",style:{height:"auto","min-height":"90vh",display:"flex",gap:"2rem","justify-content":"center","align-items":"center"}},xe={class:"shadow-7 p-4",style:{"border-radius":"0.5rem","max-width":"500px",display:"flex","flex-direction":"column",gap:"2rem"}},Se={class:"text-4xl text-center mt-0",style:{"font-weight":"bold"}},$e=f(()=>e("p",{class:"text-2xl text-center mb-0",style:{"font-weight":"bold"}},"🔥MUCHAS GRACIAS POR TU COMPRA!🔥",-1)),we={class:"text-4xl text-center my-0",style:{"font-weight":"bold","text-transform":"uppercase"}},Ae=f(()=>e("span",{class:"text-2xl"},"ID DEL PEDIDO",-1)),Ie=f(()=>e("br",null,null,-1)),ke=f(()=>e("p",{class:"text-2xl text-center my-3 p-3",style:{"border-radius":".3rem","background-color":"var(--primary-color)",padding:"1rem",color:"white"}}," Hemos recibido tu pedido y en breve será despachado",-1)),Ce={id:"factura",style:{width:"100%","text-transform":"uppercase"}},Re={style:{display:"flex","flex-direction":"column",gap:"1rem"}},Ee={target:"_blank",href:"https://www.salchimonster.com/rastrear-pedido"},Oe=["href"],De={__name:"gracias",setup(_){const b=C(),d=w(""),o=k(),p=R();O(()=>{var h,r;d.value=`Hola soy *${p.user.name.toUpperCase()}* 🤗 acabo de hacer el siguiente pedido en la página web. El número de la orden es *#${o.last_order}*.


*Escribo para Realizar la Transferecia*

*🛒 PRODUCTOS*
${o.cart.products.map(t=>`*${t.quantity}* ${t.product.product_name}`).join(`
`)}

`,o.cart.additions.length>0&&(d.value+=`*➕ ADICIONES*
${o.cart.additions.filter(t=>t.group=="ADICIONES").map(t=>`*${t.quantity}* ${t.name}`).join(`
`)}

`),o.cart.additions.filter(t=>t.group=="CAMBIOS").length>0&&(d.value+=`*➕ CAMBIOS*
${o.cart.additions.filter(t=>t.group=="CAMBIOS").map(t=>`*${t.quantity}* ${t.name}`).join(`
`)}

`),o.cart.additions.filter(t=>t.group=="SALSAS").length>0&&(d.value+=`*➕ SALSAS*
${o.cart.additions.filter(t=>t.group=="SALSAS").map(t=>` ${t.name}`).join(`
`)}

`),d.value+=`*📍 DIRECCIÓN*
${p.user.address} BARRIO ${(r=(h=b.location)==null?void 0:h.neigborhood)==null?void 0:r.name}

*📞 TELEFONO*
${p.user.phone_number}

*📝 NOTAS*
${o.cart.order_notes||"Sin notas"}

*💰 METODO DE PAGO*
${p.user.payment_method_option.name}

*Muchas Gracias* 🙏`,console.log(d.value)});const x=T(()=>{const h="https://api.whatsapp.com/send",r=new URLSearchParams({phone:"573053447255",text:d.value});return`${h}?${r.toString()}`});return M(()=>{o.cart={products:[],total_cost:0,additions:[]}}),(h,r)=>{const t=A("Button"),m=A("router-link");return a(),i("div",fe,[e("div",xe,[e("p",Se," 🤩"+n(s(p).user.name.toUpperCase())+"🤩",1),$e,e("p",we,[Ae,v(),Ie,v(" #"+n(s(o).last_order),1)]),ke,e("div",Ce,[g(ve)]),e("div",Re,[e("a",Ee,[g(t,{class:"mt-3",icon:"pi ",iconPos:"right",severity:"warning",style:{"font-weight":"bold",width:"100%"},label:"PUEDES RASTREARLO AQUI"})]),s(p).user.payment_method_option.id==6?(a(),i("a",{key:0,href:x.value,target:"_blank"},[g(t,{icon:"pi pi-whatsapp",severity:"danger",class:"wsp",style:{"font-weight":"bold","background-color":"#00b66c",border:"none",width:"100%"},label:"REALIZAR TRANSFERENCIA"})],8,Oe)):I("",!0),g(m,{to:"/call-center-vender/"},{default:j(()=>[g(t,{icon:"pi pi-arrow-left",severity:"danger",outlined:"",style:{"font-weight":"bold",border:"none",width:"100%"},label:"VOLVER AL MENU"})]),_:1})])])])}}},je=E(De,[["__scopeId","data-v-047022eb"]]);export{je as default};
