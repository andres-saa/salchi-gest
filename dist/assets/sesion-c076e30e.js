import{a as B,u as T}from"./site-184baab4.js";import{_ as O,g as V,H as D,h as P,O as L,e as N,o as u,c as p,a as t,u as g,U as A,t as v,b as M,f as R,P as U,p as Y,k as j,F as x,r as w}from"./index-fb835a1d.js";import{f as z}from"./formatoPesos-374ef498.js";/* empty css                                                               */import{u as F}from"./ventas-c9bb8ba7.js";const E=_=>(Y("data-v-ec91d501"),_=_(),j(),_),H={class:"imagen"},q=["data-src"],G={class:"texto"},J={class:"texto-content"},K=E(()=>t("div",{class:"flex-row-center-space-between"},null,-1)),Q={class:"max-width-100"},W={class:"flex-row-center-space-between"},X={class:"flex-center-gap"},Z={class:"text-xl p-0 m-0 precio"},ee=E(()=>t("i",{class:"pi pi-plus text-xl fw-100",style:{"font-weight":"bold"}},null,-1)),te={__name:"MenuCard",props:{product:{type:Object,default:{}},index:{type:Number,default:12}},setup(_){const m=B(),s=V(null),f=e=>{m.addProductToCart(e)},b=e=>{m.setCurrentProduct(e),m.setVisible("currentProduct",!0)},c=_,i=D(()=>{var o;const e=((o=c.product)==null?void 0:o.productogeneral_descripcionweb)||"";return e.length>100?e.substring(0,100)+"...":e||"..."});let d=null;const a=e=>{const o=e.dataset.src;o&&(e.src=o,e.classList.remove("lazy"),e.classList.add("cargado"))};return P(()=>{"IntersectionObserver"in window?(d=new IntersectionObserver((e,o)=>{e.forEach(l=>{l.isIntersecting&&(a(l.target),o.unobserve(l.target))})},{rootMargin:"0px 0px 50px 0px",threshold:.01}),s.value&&d.observe(s.value)):s.value&&a(s.value)}),L(()=>{d&&s.value&&d.unobserve(s.value)}),(e,o)=>{const l=N("Button");return u(),p("div",{class:"container shadow-3 col-12 product-card",onClick:o[1]||(o[1]=n=>b(c.product))},[t("div",H,[t("img",{ref_key:"productImage",ref:s,class:"imagen-producto lazy","data-src":`${g(A)}/get-image?image_url=${c.product.productogeneral_urlimagen}`,src:"https://media.tenor.com/IfbOs_yh89AAAAAM/loading-buffering.gif",alt:"Descripción del producto"},null,8,q)]),t("div",G,[t("h5",null,[t("b",null,v(c.product.productogeneral_descripcion),1)]),t("div",J,[K,t("span",Q,v(i.value),1),t("div",W,[t("div",X,[t("h2",Z,[t("b",null,v(g(z)(c.product.productogeneral_precio||c.product.lista_presentacion[0].producto_precio)),1)])])])])]),M(l,{class:"add-to-cart-button",onClick:o[0]||(o[0]=U(n=>f(c.product),["stop"])),severity:"danger",rounded:""},{default:R(()=>[ee]),_:1})])}}},oe=O(te,[["__scopeId","data-v-ec91d501"]]),se={class:"container"},re=["id"],ne={class:"category-header"},ce={class:"category-name"},ae=["onClick","src"],ie={class:"section"},de={class:"card-container"},le={__name:"sesion",setup(_){T();const m=F(),s=B(),f=[10,26,8,9,13,27,11,4,5],b=i=>{s.setCurrentProduct(i),s.setVisible("currentProduct",!0)},c=i=>{const d=document.getElementById(i);if(d){const o=d.getBoundingClientRect().top+window.pageYOffset-160;window.scrollTo({top:o,behavior:"smooth"})}m.currentSection=i,setTimeout(()=>{const a=document.getElementById(`categoryButton-${i}`);a&&a.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},1e3)};return P(()=>{s.currentSection&&c(s.currentSection)}),(i,d)=>{var a,e,o,l;return u(),p("div",se,[(u(!0),p(x,null,w((l=(o=(e=(a=g(s))==null?void 0:a.menu)==null?void 0:e.listaCategorias)==null?void 0:o.filter(n=>f.includes(parseInt(n.categoria_id))))==null?void 0:l.sort((n,I)=>f.indexOf(parseInt(n.categoria_id))-f.indexOf(parseInt(I.categoria_id))),(n,I)=>{var $,y,C,k,S;return u(),p("div",{id:n.categoria_id,class:"container-button",key:n.categoria_id},[t("div",ne,[t("span",ce,[t("b",null,v(n.categoria_descripcion),1)]),(u(!0),p(x,null,w((y=($=g(s))==null?void 0:$.menu)==null?void 0:y.data.filter(r=>r.categoria_id===n.categoria_id).map(r=>({imagen:r.productogeneral_urlimagen,producto:r})).slice(0,4),(r,h)=>(u(),p("img",{onClick:ue=>b(r.producto),key:h,class:"category-img",src:`${g(A)}/get-image?image_url=${r.imagen}`,alt:"Imagen de categoría"},null,8,ae))),128))]),t("div",ie,[(u(!0),p(x,null,w((S=(k=(C=g(s))==null?void 0:C.menu)==null?void 0:k.data)==null?void 0:S.filter(r=>r.categoria_id==n.categoria_id&&r.productogeneral_estado=="Activo"),(r,h)=>(u(),p("div",{key:r.id,class:"",style:{width:"100%"}},[t("div",de,[M(oe,{style:{height:"100%"},id:`tarjeta-${h}`,index:h+1,product:r},null,8,["id","index","product"])])]))),128))])],8,re)}),128))])}}},he=O(le,[["__scopeId","data-v-8743e8f9"]]);export{he as default};
