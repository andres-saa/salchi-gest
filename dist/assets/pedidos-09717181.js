import{_ as N,X as O,g,Y as D,h as k,J as E,D as b,d as w,o as l,c as r,a as t,F as h,r as f,e as a,m as v,b as P,u as d,f as A,Z as U,j as M,$ as I,n as R,p as $,k as j}from"./index-eb2a5b3d.js";import{D as z}from"./OrderItem.vue_vue_type_style_index_0_scoped_bbba8067_lang-73c1213e.js";import{O as y}from"./OrderItem-73065a9b.js";import{s as F}from"./siteService-3f6a07d8.js";import"./ventas-460884b0.js";import"./formatoPesos-8aa989a0.js";const m=x=>($("data-v-1ef2107a"),x=x(),j(),x),L={class:"grid xl:mx-0 mx-0 py-0 mt-6 px-0",style:{"background-color":"white",width:"100%"}},G={class:"pb-0 p-0",style:{display:"flex","flex-wrap":"wrap",gap:"1rem","list-style":"none","overflow-x":"auto"}},J={style:{display:"flex",gap:"1rem"}},X=["vif"],Y={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#ffad53"}},Z={style:{height:"100%",width:"100%"}},q=m(()=>t("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[t("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[t("i",{class:"pi pi-envelope text-2xl"}),v(" RECIBIDOS")])],-1)),H={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},K={class:"px-3 py-2"},Q={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},W={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#8e3693"}},ee={style:{height:"100%",width:"100%"}},te=m(()=>t("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[t("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[t("i",{class:"pi pi-clock text-2xl"}),v(" EN PREPARACION")])],-1)),se={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},oe={class:"px-3 py-2"},le={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},re={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#00bf7a"}},ae={class:"lg:pb-8",style:{height:"100%",width:"100%"}},de=m(()=>t("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[t("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[t("i",{class:"pi pi-send text-2xl"}),v(" ENVIADOS")])],-1)),ne={style:{height:"100%","overflow-y":"auto"}},ie={class:"px-3 py-2"},ce={key:0,class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},pe={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"red"}},ue={class:"lg:pb-8",style:{height:"100%",width:"100%"}},_e=m(()=>t("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[t("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[t("i",{class:"pi pi-times text-2xl"}),v(" CANCELADOS")])],-1)),he={style:{height:"100%","overflow-y":"auto"}},fe={class:"px-3 py-2"},ve={__name:"pedidos",setup(x){O();const u=g([]),o=O(),_=D(),i=g(""),c=g("");k(()=>{o.startOrderUpdates()}),E(()=>{o.stopOrderUpdates()}),k(async()=>{u.value=await F.getSites(),o.getTodayOrders()}),b(()=>_.site,()=>{o.getTodayOrders()}),b(i,()=>{c.value=""}),b(c,()=>{i.value=""});const S=()=>{var n;if(i.value!="")V(i.value);else if(c.value!="")C((n=c.value)==null?void 0:n.split(" ").join(""));else return},V=async n=>{const s=await I.getOrderById(n);s!=null&&s.order_id?(o.setVisible("currentOrder",!0),o.setOrder(s),_.site=u.value.filter(p=>p.site_id==s.site_id)[0],o.currentSearchingOrder=s):alert("Orden no encontrada")},C=async n=>{const s=await I.getOrderByPhone(n);s!=null&&s.order_id?(o.setVisible("currentOrder",!0),o.setOrder(s),_.site=u.value.filter(p=>p.site_id==s.site_id)[0],o.currentSearchingOrder=s):alert("Orden no encontrada")};return(n,s)=>{const p=w("Button"),T=w("InputText"),B=w("InputMask");return l(),r("div",L,[t("div",{class:P([u.value.length>0?"apear":"hide","col-12 py-0 px-2 shadow-1 my-0"])},[t("nav",null,[t("ul",G,[(l(!0),r(h,null,f(u.value.filter(e=>e.show_on_web),e=>(l(),r("li",null,[a(p,{class:"p-2 mb-2",onClick:xe=>d(_).site=e,style:R([d(_).site.site_id==e.site_id?"box-shadow:0 5px 0px var(--primary-color)":"",{"min-width":"max-content","border-radius":"0",color:"black"}]),text:"",label:e.site_name},null,8,["onClick","style","label"])]))),256)),t("li",J,[a(T,{style:{},modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),modelModifiers:{trim:!0},placeholder:"Buscar por id (sin #)"},null,8,["modelValue"]),v(),a(B,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e),prefix:"+57",id:"basic",mask:"999 999 9999",placeholder:"Buscar por telefono"},null,8,["modelValue"]),a(p,{onClick:s[2]||(s[2]=e=>S()),severity:"help",icon:"pi pi-search",label:"Buscar"})])])])],2),a(z),t("div",{vif:d(o).TodayOrders.filter(e=>e.current_status=="generada").length>0?"apear":"hide",class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},[t("div",Y,[t("div",Z,[q,t("div",H,[(l(!0),r(h,null,f(d(o).TodayOrders.filter(e=>e.current_status=="generada"),e=>(l(),r("div",K,[a(y,{order:e},null,8,["order"])]))),256))])])])],8,X),t("div",Q,[t("div",W,[t("div",ee,[te,t("div",se,[(l(!0),r(h,null,f(d(o).TodayOrders.filter(e=>e.current_status=="en preparacion"),e=>(l(),r("div",oe,[a(y,{order:e},null,8,["order"])]))),256))])])])]),t("div",le,[t("div",re,[t("div",ae,[de,t("div",ne,[a(U,{name:"fade",tag:"div"},{default:A(()=>[(l(!0),r(h,null,f(d(o).TodayOrders.filter(e=>e.current_status=="enviada"),e=>(l(),r("div",ie,[a(y,{id:e.order_id,order:e},null,8,["id","order"])]))),256))]),_:1})])])])]),d(o).TodayOrders.filter(e=>e.current_status=="cancelada").length>0?(l(),r("div",ce,[t("div",pe,[t("div",ue,[_e,t("div",he,[(l(!0),r(h,null,f(d(o).TodayOrders.filter(e=>e.current_status=="cancelada"),e=>(l(),r("div",fe,[a(y,{order:e},null,8,["order"])]))),256))])])])])):M("",!0)])}}},ke=N(ve,[["__scopeId","data-v-1ef2107a"]]);export{ke as default};
