import{_ as I,z as M,f as a,O as N,h as k,r as h,o as C,c as T,a as s,b as e,w as o,l as A,U as x,k as b,t as y,p as P,e as E}from"./index-d24165c6.js";import"./dropDownAux-8ff7e3cd.js";import{g as L}from"./userServices-73ec9b55.js";const f=c=>(P("data-v-1d177be3"),c=c(),E(),c),B={class:"grid"},D={class:"col-12"},F={class:""},R=f(()=>s("span",{class:"p-column-title"},"Image",-1)),j=["onClick","src","onError"],U=f(()=>s("div",null,null,-1)),V=f(()=>s("span",{class:"p-column-title"},"name",-1)),O=f(()=>s("span",{class:"p-column-title"},"Fecha de Nacimiento",-1)),G=f(()=>s("span",{class:"p-column-title"},"Category",-1)),J=f(()=>s("span",{class:"p-column-title"},"Teléfono",-1)),H={__name:"ShowUserBirth",props:{mes:String},setup(c){M();const u=a([]);a(!1),a(!1),a(null);const g=a(null),w=a(null),S=a(null);a(!1),a(null),a(null),a({name:"activo",code:"active"}),a(null),a(!1),a(!1),a(!1),a(!1),a(null),a(null),a(null),a(null),a(null),a(null),a(null),a(null),a(null),a(""),a([]),a([]),a("file:///home/ludi/Downloads/9aa6397c673a5906ed994997df3a66bdc3e4f68dr1-194-259v2_00.jpg"),a(null),a(null);const p=c;document.getElementById("fileInput"),document.getElementById("imagePreview");function m(t,i){return t.filter(_=>new Date(_.birth_date).getMonth()+1===i&&(_==null?void 0:_.status.toLowerCase().split(" ")[0])==="activo")}N(()=>{}),k(async()=>{L().then(t=>u.value=t)}),console.log(m(u.value,3),"hikaaaaaaaaaaaaaa");const l=t=>{visibleImage.value=!0,bigImage.value=`${x}/read-product-image/600/employer-${t}`},v=(t,i)=>{const d={masculino:"/images/male-avatar.png",femenino:"/images/female-avatar.png",default:"/images/who.png"};!t||t==""?i.target.src=d.default:i.target.src=d[t.toLowerCase()]};return(t,i)=>{const d=h("Column"),_=h("DataTable");return C(),T("div",B,[s("div",D,[s("div",F,[e(_,{ref_key:"dt",ref:w,value:m(u.value,p.mes),selection:g.value,"onUpdate:selection":i[0]||(i[0]=r=>g.value=r),dataKey:"id",paginator:!0,rows:10,filters:S.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} products",responsiveLayout:"scroll",scrollable:"","scroll-height":"62vh",frozenValue:t.lockedCustomers},{header:o(()=>[]),default:o(()=>[e(d,{header:"Image",headerStyle:"width:5%; min-width:5rem;"},{body:o(r=>[R,s("div",null,[s("img",{onClick:$=>l(r.data.dni),src:`${A(x)}/read-product-image/96/employer-${r.data.dni}`,onError:$=>v(r.data.gender,$),class:"shadow-2 img-profile",style:{border:"none",position:"relative",height:"3rem",width:"3rem","object-fit":"cover","border-radius":"50%"}},null,40,j)]),U]),_:1}),e(d,{field:"name",header:"Nombre",sortable:!0,headerStyle:"width:max-content; min-width:5rem; "},{body:o(r=>[V,b(" "+y(r.data.name),1)]),_:1}),e(d,{field:"birth_date",header:"Fecha de Nacimiento",sortable:!0,headerStyle:"width:12%; min-width:10rem;"},{body:o(r=>[O,b(" "+y(r.data.birth_date),1)]),_:1}),e(d,{field:"site_name",header:"Sede",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:o(r=>[G,b(" "+y(r.data.site_name),1)]),_:1}),e(d,{field:"phone",header:"Teléfono",sortable:!0,headerStyle:"width:12%; min-width:10rem;"},{body:o(r=>[J,b(" "+y(r.data.phone),1)]),_:1})]),_:1},8,["value","selection","filters","frozenValue"])])])])}}},n=I(H,[["__scopeId","data-v-1d177be3"]]);const z=c=>(P("data-v-e7ff9b43"),c=c(),E(),c),K={class:"cont p-2"},Y=z(()=>s("h5",{class:"m-auto col-12 text-center text-5xl",style:{"font-weight":"bold",color:""}},[b(" Cumples "),s("i",{class:"pi pi-spin pi-star-fill",style:{"font-size":"3rem"}})],-1)),Z={class:"m-auto col-12 text-center text-2xl"},q={class:"lg:col-6 md:col-9 m-auto p-4",style:{"border-radius":"1REM","box-shadow":"0 0 20px rgba(0, 0, 0, 0.433)","background-color":"rgb(255, 206, 206)"}},Q={style:{display:"flex","justify-content":"space-between","align-items":"center"}},W=z(()=>s("h2",{class:"justify-center text-2xl",style:{height:"100%","font-weight":"bold"}}," Este mes ",-1)),X={__name:"cumples",setup(c){const u=a(""),g=a(),w=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];return k(async()=>{try{const m=await(await fetch(`${x}/server_time`)).json();if(!m||!m.trim())throw new Error("Respuesta del servidor no válida o vacía");const l=new Date(m.replace(" ","T")+"Z");if(isNaN(l.getTime()))throw new Error("La fecha del servidor no es válida");const v=l.getDate(),t=l.getMonth(),i=l.getFullYear();g.value=t,u.value=`${v} de ${w[t]} de ${i}`}catch(p){console.error("Error al obtener la hora del servidor:",p),u.value="Fecha no disponible"}}),(p,m)=>{const l=h("Avatar"),v=h("AvatarGroup"),t=h("AccordionTab"),i=h("Accordion");return C(),T("div",K,[Y,s("h5",Z," Hoy: "+y(u.value),1),s("div",q,[s("div",Q,[W,e(v,{class:"mb-3 avatar",onClick:m[0]||(m[0]=d=>p.$refs.currentCumple.click())},{default:o(()=>[e(l,{image:"demo/images/avatar/amyelsner.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(l,{image:"demo/images/avatar/asiyajavayant.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(l,{image:"demo/images/avatar/onyamalimba.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(l,{image:"demo/images/avatar/ionibowcher.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(l,{image:"demo/images/avatar/xuxuefeng.png",size:"xlarge",shape:"circle"},null,8,["image"]),e(l,{label:"+2",shape:"circle",size:"xlarge",style:{"background-color":"#9c27b0",color:"#ffffff"}})]),_:1})]),e(i,{activeIndex:g.value},{default:o(()=>[e(t,{header:"Enero"},{default:o(()=>[e(n,{mes:1})]),_:1}),e(t,{header:"Febrero"},{default:o(()=>[e(n,{mes:2})]),_:1}),e(t,{header:"Marzo"},{default:o(()=>[e(n,{mes:3})]),_:1}),e(t,{header:"Abril"},{default:o(()=>[e(n,{mes:4})]),_:1}),e(t,{header:"Mayo"},{default:o(()=>[e(n,{mes:5})]),_:1}),e(t,{header:"Junio"},{default:o(()=>[e(n,{mes:6})]),_:1}),e(t,{header:"Julio"},{default:o(()=>[e(n,{mes:7})]),_:1}),e(t,{header:"Agosto"},{default:o(()=>[e(n,{mes:8})]),_:1}),e(t,{header:"Septiembre"},{default:o(()=>[e(n,{mes:9})]),_:1}),e(t,{header:"Octubre"},{default:o(()=>[e(n,{mes:10})]),_:1}),e(t,{header:"Noviembre"},{default:o(()=>[e(n,{mes:11})]),_:1}),e(t,{header:"Diciembre"},{default:o(()=>[e(n,{mes:12})]),_:1})]),_:1},8,["activeIndex"])])])}}},oe=I(X,[["__scopeId","data-v-e7ff9b43"]]);export{oe as default};
