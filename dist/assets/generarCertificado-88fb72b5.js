import{_ as M,f as _,z as V,h as P,S as B,T as H,g as U,r as z,o as b,c as x,a as e,b as E,k as N,w as L,A as C,t as n,q as W,Q as q,R as G,d as f,V as Y,U as T,W as J,X as Q,n as X,P as K,p as Z,e as ee}from"./index-9eb5ea3a.js";import{_ as te}from"./logo-c69ae777.js";import{f as oe}from"./formatoPesos-2a38d2e7.js";import{h as se,E as ae}from"./jspdf.es.min-225ff4f5.js";const ne="/images/sello gestion humana.png";const l=v=>(Z("data-v-0040eb0e"),v=v(),ee(),v),le={class:"m-2 m-auto"},re=l(()=>e("p",{class:"text-2xl lg:text-3xl text-center my-4 mt-8",style:{"font-weight":"bold"}},"Generar Certificado Laboral",-1)),ie={class:"mb-6 col-12",style:{display:"flex",height:"auto"}},ce=l(()=>e("span",{style:{color:"white"}},"Buscar",-1)),de={key:0,class:"text-1xl m-auto col-6 p-0",style:{color:"var(--primary-color)"}},me={key:1,class:"text-5xl m-auto col-12"},he={key:2,class:"col-12 p-0 m-auto",style:{height:"max-content","background-color":"transparent"}},ue=l(()=>e("h6",{class:"text-center p-2 m-0 mb-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"INFORMACIÓN DEL EMPLEADO",-1)),pe={class:"px-0 grid",style:{display:""}},_e=l(()=>e("h6",{class:"col-6 m-0 text-left text-md"},"NOMBRE",-1)),fe={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},ve=l(()=>e("h6",{class:"col-6 m-0 py-2 text-left"},"ESTADO",-1)),ye={class:"col-6 m-0 py-2 text-right",style:{"font-weight":"300","min-width":"max-content"}},ge={class:"px-0 grid",style:{}},be=l(()=>e("h6",{class:"col-6 m-0 text-left"},"DOCUMENTO",-1)),xe={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},we={class:"px-0 grid",style:{}},Se=l(()=>e("h6",{class:"col-6 m-0 text-left"},"FECHA DE INICIO",-1)),Ee={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ne={class:"px-0 grid",style:{"background-color":""}},Ce=l(()=>e("h6",{class:"col-6 m-0 text-left"},"CARGO",-1)),Ie={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},ke=l(()=>e("h6",{class:"text-center p-2 mb-5",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"DETALLES ADICIONALES",-1)),De={class:"px-0 grid",style:{}},Ae=l(()=>e("h6",{class:"col-6 m-0 text-left"},"TIPO DE CONTRATO",-1)),Oe={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Pe={class:"px-0 grid",style:{}},ze=l(()=>e("h6",{class:"col-6 m-0 text-left"},"SALARIO",-1)),Le={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Te={style:{color:"white"}},Re={class:"col-12 p-0 mt-6",style:{"overflow-x":"auto","box-shadow":"0 0 20px rgba(0, 0, 0, 0.308)"},ref:"contenidoParaPDF"},$e={class:"a4-size p-8 mi-clase",style:{"box-shadow":"0 0 10px rgba(0, 0, 0, 0.508)"}},je=l(()=>e("img",{class:"",src:te,style:{width:"10%"},alt:""},null,-1)),Fe={class:"py-4",style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},Me=l(()=>e("h6",{class:"text-center py-5",style:{"font-size":"12pt","font-weight":"bold",color:"black","font-family":"Arial, Helvetica, sans-serif"}}," INVERSIONES SALCHIMONSTER SAS ",-1)),Ve=l(()=>e("h6",{style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"text-center"},"NIT: 901.420.874-0",-1)),Be={class:"text-center py-4",style:{"font-weight":"bold"}},He={style:{"text-transform":"uppercase"}},Ue={class:"text-md text-justify",style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},We={style:{"text-transform":"uppercase"}},qe={style:{"text-transform":"uppercase"}},Ge={style:{"text-transform":"uppercase"}},Ye={style:{"font-size":"12pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"py-1 mt-0"},Je=Y('<p class="py-6" data-v-0040eb0e> Cordialmente, </p><img style="width:20rem;border-bottom:2px solid;padding-right:3rem;padding-bottom:1rem;" src="'+ne+'" alt="" data-v-0040eb0e><p class="py-0 my-0" data-v-0040eb0e> Oficina de Gestión Humana</p><p class="py-0 my-0" data-v-0040eb0e>INVERSIONES SALCHIMONSTER SAS</p><p class="py-0 my-0" data-v-0040eb0e> NIT. 901420874-0 </p>',5),Qe={__name:"generarCertificado",setup(v){const I=_(window.innerWidth),k=V(()=>I.value<600),D=()=>{I.value=window.innerWidth};P(()=>{window.addEventListener("resize",D)}),B(()=>{window.removeEventListener("resize",D)});const a=_({}),p=_(H()),A=_(),w=_("2029-12-21 16:19"),S=_();document.getElementsByClassName("mi-clase");const R=t=>{let o=new Date(t),c=o.getDate(),h=o.getMonth(),r=o.getFullYear(),u=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][h];return`los ${c} días del mes de ${u} de ${r}`};U(p,(t,o)=>{console.log(`El valor de usrDni ha cambiado de ${o} a ${t}`)});const $=async t=>{fetch(`${T}/employer/dni/${t}`).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{console.log("Employer data:",o),a.value=o,S.value=""}).catch(o=>{console.error("There has been a problem with your fetch operation:",o),a.value={},S.value="  No hay un usuario para el número de documento "+p.value,A.value="error"})},j=async()=>{fetch(`${T}/server_time`).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{console.log("Employer data:",t),w.value=t}).catch(t=>{console.error("There has been a problem with your fetch operation:",t),A.value="error"})};P(async()=>{j()});function O(t){t||(t="2029-12-21 16:19");const o=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];let[c,h]=t.split(" "),[r,d,u]=c.split("-").map(Number),s=o[d-1];return`${u} de ${s} de ${r}`}function y(t){const o=["cero","un","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],c=["diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve"],h=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];function r(s){let i="",m="cien";if(s[0]>1?(i+=o[s[0]]+"cientos ",m=""):s[0]===1&&(i+=m+" "),s[1]>1)i+=h[s[1]]+" y ";else if(s[1]===1)return i+c[s[2]];return(s[2]!==0||s[0]===0&&s[1]===0)&&(i+=o[s[2]]),i}if(t===0)return o[0];if(t<0)return"menos "+y(-t);let d=[];for(;t>0;)d.push(t%1e3),t=Math.floor(t/1e3);return d.map((s,i)=>{if(s===0)return"";let m=r([Math.floor(s/100),Math.floor(s%100/10),s%10]);return i===1?s===1?"mil":m+" mil":i===2?s===1?"un millón":m+" millones":m}).reverse().join(" ").trim()}console.log(y(16e5)),console.log(y(16e5)),console.log(y(1111111));const g=_(k.value),F=async()=>{const t=k.value;g.value=!1,await J();let o=document.querySelector(".mi-clase");if(o)try{const h=(await se(o,{scale:2.5})).toDataURL("image/jpeg",.9),r=new ae({orientation:"portrait",unit:"px",format:"a4"}),d=r.internal.pageSize.getWidth(),u=r.internal.pageSize.getHeight();r.addImage(h,"JPEG",0,0,d,u),r.save(`certificado laboral - ${a.value.name}.pdf`)}catch(c){console.error("Error al exportar PDF: ",c)}finally{g.value=t}else console.error("No se encontró el elemento para convertir a PDF"),g.value=t};return(t,o)=>{var r,d,u,s,i;const c=z("InputNumber"),h=z("Button");return b(),x("div",le,[re,e("span",ie,[E(c,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=m=>p.value=m),disabled:((r=N(Q)())==null?void 0:r.toLowerCase())!="gerente",class:"mr-5",style:{width:"100%"},placeholder:"Cedula del empleado"},null,8,["modelValue","disabled"]),E(h,{style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"},onClick:o[1]||(o[1]=m=>$(p.value))},{default:L(()=>[ce]),_:1})]),p.value==null?(b(),x("p",de," Por favor digite el numero de decumento del usuario y presione Buscar")):C("",!0),!a.value.dni&&p.value?(b(),x("p",me,n(S.value),1)):C("",!0),a.value.dni&&p.value?(b(),x("div",he,[ue,e("div",pe,[_e,e("h6",fe,n(a.value.name),1)]),e("div",{class:"px-0 grid p-0",style:W([{display:"","border-radius":"2rem"},((u=(d=a.value)==null?void 0:d.status)==null?void 0:u.toLowerCase().split(" ")[0])=="activo"?"background-color:rgb(193, 255, 100);":"background-color: rgb(255, 132, 132);"])},[ve,e("h6",ye,n(a.value.status),1)],4),e("div",ge,[be,e("h6",xe,n(a.value.dni),1)]),e("div",we,[Se,e("h6",Ee,n(a.value.entry_date),1)]),e("div",Ne,[Ce,e("h6",Ie,n(a.value.position),1)]),ke,e("div",De,[Ae,e("h6",Oe,n(a.value.contract_type),1)]),e("div",Pe,[ze,e("h6",Le,n(N(oe)(a.value.salary)),1)]),E(h,{onClick:o[2]||(o[2]=m=>F()),style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:L(()=>[e("span",Te,[e("i",{class:X(N(K).UPLOAD)},null,2),f(" Descargar certificado")])]),_:1})])):C("",!0),q(e("div",Re,[e("div",$e,[je,e("h6",Fe,n(O(w.value)),1),Me,Ve,e("h6",Be,[f(" CERTIFICA A: "),e("span",He,n(a.value.name),1)]),e("h5",Ue,[f(" El(la) señor(a) "),e("b",We,n(a.value.name),1),f(" identificado con CC No. "),e("b",null,n(a.value.dni),1),f(" labora en nuestra empresa con un contrato "),e("b",qe,n(a.value.contract_type),1),f(" desde el dia "+n(O(a.value.entry_date))+" activo a la fecha desempeñando el cargo de ",1),e("b",Ge,n(a.value.position)+". ",1),e("h5",Ye,[f(" Para constancia de lo anterior se firma en Yumbo a "+n(R(w.value))+" ",1),Je])])])],512),[[G,((i=(s=a.value)==null?void 0:s.status)==null?void 0:i.toLowerCase().split(" ")[0])=="activo"&&!g.value]])])}}},tt=M(Qe,[["__scopeId","data-v-0040eb0e"]]);export{tt as default};
