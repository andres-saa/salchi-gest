import{d as M}from"./dailyInventoryService-c4e4ba03.js";import{_ as T,r as o,A as j,i as $,D as A,a as r,o as F,c as R,g as s,w as n,b as l,F as E,s as P,t as I,u as G,p as L,h as q}from"./index-07031b74.js";import{p as b}from"./purchaseOrderService-d9494f73.js";import"./sass.default-a5b7a582.js";const S=c=>(L("data-v-7e7361bf"),c=c(),q(),c),z={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},H=S(()=>l("span",null,"Nombre del Item",-1)),J=S(()=>l("span",null,"Unidad de medida ",-1)),K={style:{display:"flex","justify-content":"end"}},Q={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},W={style:{display:"flex","justify-content":"end"}},X={class:"m-2",style:{width:"100%"}},Y={style:{display:"flex","justify-content":"center","align-items":"center"}},Z={style:{"text-transform":"uppercase"}},ee={style:{display:"flex",height:"1.5rem","justify-content":"end"}},te={class:"col-12 p-0",style:{display:"flex","justify-content":"end"}},se={__name:"purchaseOrderSettingsSesion",setup(c){const C=a=>{_.value=a,d.value=!0},D=async a=>{await b.disableOrderPUrchaseItem(a),d.value=!1,p()},d=o(!1),_=o({}),g=o([]),v=j(),y=o({}),w=o([]),f=o({}),u=o(!1),h=o({}),k=()=>{y.value={global:{value:null,matchMode:P.CONTAINS}}},p=async()=>{const a=v.params.sesion;g.value=await b.getAllpurchaseOrderItems(a),w.value=await M.getAllDailyInventoryUnitMeasures()};$(async()=>{p()}),A(()=>v.params.sesion,async a=>{p()});const U=async a=>{const e=v.params.id;a.unit_measure_id=h.value.id,a.order_purchase_item_group_id=e,await b.InsertPurchaserOrderItem(a),u.value=!1,p()};k();const V=()=>{u.value=!0,p()};return(a,e)=>{const N=r("InputText"),O=r("Dropdown"),i=r("Button"),x=r("Dialog"),m=r("Column"),B=r("DataTable");return F(),R(E,null,[s(x,{class:"mx-2",header:"Nuevo item",style:{width:"30rem"},modal:"",visible:u.value,"onUpdate:visible":e[4]||(e[4]=t=>u.value=t)},{footer:n(()=>[l("div",K,[s(i,{onClick:e[2]||(e[2]=t=>u.value=!1),severity:"danger",label:"Cerrar"}),s(i,{onClick:e[3]||(e[3]=t=>U(f.value)),severity:"help",label:"Guardar"})])]),default:n(()=>[l("div",z,[H,s(N,{modelValue:f.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value.name=t)},null,8,["modelValue"]),J,s(O,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=t=>h.value=t),optionLabel:"name",options:w.value},null,8,["modelValue","options"])])]),_:1},8,["visible"]),s(x,{class:"mx-2",header:"Borrar item",style:{width:"30rem"},modal:"",visible:d.value,"onUpdate:visible":e[7]||(e[7]=t=>d.value=t)},{footer:n(()=>[l("div",W,[s(i,{onClick:e[5]||(e[5]=t=>d.value=!1),severity:"help",label:"No"}),s(i,{onClick:e[6]||(e[6]=t=>D(_.value.item_id)),severity:"danger",label:"Borrar"})])]),default:n(()=>{var t;return[l("div",Q,[l("span",null,"Esta seguro de eliminar el item "+I((t=_.value)==null?void 0:t.item_name)+" ?",1)])]}),_:1},8,["visible"]),l("div",X,[s(B,{stripedRows:"",style:{"border-radius":"0.5rem","min-height":"70vh"},filters:y.value,"onUpdate:filters":e[8]||(e[8]=t=>y.value=t),class:"col-12 shadow-3 my-0 mx-auto",value:g.value,tableStyle:"min-width:30rem"},{header:n(()=>[l("div",Y,[l("span",Z,I(G(v).params.sesion),1)])]),footer:n(()=>[l("div",te,[s(i,{onClick:V,class:"",label:"Nuevo item",severity:"help",style:{"border-radius":"0.5rem",height:"2rem"},icon:"pi pi-plus"})])]),default:n(()=>[s(m,{style:{width:"10%"},class:"py-1 pr-2 pl-0",field:"item_id",header:"Id"}),s(m,{style:{width:"50%"},class:"py-1 px-2",field:"item_name",header:"Nombre"}),s(m,{style:{width:"20%"},class:"py-1 px-2",field:"stock",header:"Stock"}),s(m,{style:{width:"20%","min-width":"10rem"},class:"py-1 px-2",field:"unit_of_measure_name",header:"Unidad de medida"}),s(m,{style:{width:"20%"},class:"py-1 pl-2 pr-0",field:"item_name",header:""},{body:n(t=>[l("div",ee,[s(i,{onClick:le=>C(t.data),severity:"danger",class:"p-0 m-0 shadow-2",icon:"pi pi-trash"},null,8,["onClick"])])]),_:1})]),_:1},8,["filters","value"])])],64)}}},re=T(se,[["__scopeId","data-v-7e7361bf"]]);export{re as default};
