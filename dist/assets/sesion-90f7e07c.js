import{u as P,p as $}from"./ProductService-eb225b1d.js";import{_ as j,h as v,I as T,g as w,o as r,c as n,a as t,f as d,w as C,v as D,b as B,u as g,U as I,t as l,l as V,C as E,i as b,G as L,D as S,q as M,F as U,r as F,K as N}from"./index-25fedaca.js";import{f as z}from"./formatoPesos-2293ab52.js";import{u as R}from"./site-765bad4f.js";const q={class:"container p-shadow col-12 shadow-2 p-3",style:{"border-radius":"0.5rem","background-color":"white",height:"100%",position:"relative"}},G={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.2rem","z-index":"9"}},K={class:"imagen",style:{overflow:"hidden"}},O=["src"],A={class:"texto",style:{}},H={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},J={style:{display:"grid","grid-template-columns":"auto auto",width:"100%","justify-content":"space-between","align-items":"center"}},Q={style:{"text-transform":"uppercase"}},W={style:{display:"flex","justify-content":"space-between","align-items":"c"}},X={style:{display:"flex","align-items":"center",gap:"1rem"}},Y={class:"text-xl"},Z={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(f){const a=P(),e=f,i=v(!1),u=()=>{i.value=!0},h=o=>{a.visibles.dialogEditProduct=!0,a.currentProductToEdit=o},c=o=>{a.visibles.dialogDeleteProduct=!0,a.currentProductToDelete=o},p=async o=>{try{const s=await $.updateProductInstanceStatus(e.product.id,o);s&&console.log("Status updated:",s)}catch(s){console.error("Failed to update status:",s)}},_=T(()=>e.product.product_description.substring(0,100)+"...");return(o,s)=>{var x;const y=w("Button"),k=w("InputSwitch");return r(),n("div",q,[t("div",G,[d(y,{class:"shadow-2",onClick:s[0]||(s[0]=m=>c(e.product)),severity:"danger",style:{width:"2rem",height:"2rem",right:"0",top:"0"},rounded:"",icon:"pi pi-times"}),d(y,{class:"shadow-2",onClick:s[1]||(s[1]=m=>h(e.product)),severity:"warning",style:{"font-weight":"bold",width:"2rem",height:"2rem",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),t("div",K,[C(t("img",{onLoad:u,class:B([i.value?"cargado":"sin-cargar",""]),style:{width:"100%","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`${g(I)}/read-photo-product/${e.product.img_identifier}/600`,alt:""},null,42,O),[[D,i.value]])]),t("div",A,[t("div",H,[t("div",J,[t("span",null,[t("b",Q,l(e.product.product_name),1)]),d(y,{class:"elipsis",text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),t("span",null,l((x=_.value)==null?void 0:x.toLocaleLowerCase()),1),t("div",W,[d(k,{modelValue:e.product.status,"onUpdate:modelValue":[s[2]||(s[2]=m=>e.product.status=m),s[3]||(s[3]=m=>p(e.product.status))]},null,8,["modelValue"]),t("div",X,[t("span",Y,[t("b",null,l(g(z)(e.product.price)),1)])])])])])])}}},tt=j(Z,[["__scopeId","data-v-c0d79e42"]]),et={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},st=t("div",{style:{width:"100%",height:"3px","background-color":"#ff6200"}},null,-1),ot={class:"text-3xl",style:{width:"min-content"}},at={style:{"min-width":"max-content"}},it=t("div",{style:{width:"100%",height:"3px","background-color":"#ff6200"}},null,-1),rt={key:0,class:"grid p-1 pb-8",style:{"max-width":"900px",margin:"auto"}},nt={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8 p-0"},pt={__name:"sesion",setup(f){const a=V(),e=R(),i=E(),u=v([]),h=v(!1);b(()=>{a.bar_color="var(--primary-color)"}),L(()=>{a.bar_color="rgba(0, 1, 22, 1)"}),b(async()=>{c()});const c=async()=>{let p=i.params.category_id,_=e.site.site_id;u.value=await $.getProductsByCategorySite(p,_)};return S(()=>i.params.category_id,async()=>{c()},{deep:!0}),S(()=>e.site,async()=>{e.site&&(c(),await N())},{deep:!0}),(p,_)=>(r(),n("div",null,[t("p",et,[st,t("span",ot,[t("p",at,l(g(i).params.menu_name)+" DE",1),M(" "+l(g(e).site.site_name),1)]),it]),h.value?(r(),n("p",nt," Selecciona una sede y una categoria. ")):(r(),n("div",rt,[(r(!0),n(U,null,F(u.value,(o,s)=>(r(),n("div",{key:o.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[d(tt,{style:{width:"100%"},id:`tarjeta-${s}`,product:o},null,8,["id","product"])]))),128))]))]))}};export{pt as default};
