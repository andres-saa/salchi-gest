import{_ as V,X as b,g,Y as N,h as O,J as D,D as w,d as k,o as r,c as l,a as e,F as u,r as h,e as a,b as E,u as d,f as P,Z as A,j as U,$ as S,n as R,p as $,k as j,m as y}from"./index-eb2a5b3d.js";import{D as z}from"./OrderItem.vue_vue_type_style_index_0_scoped_bbba8067_lang-73c1213e.js";import{O as v}from"./OrderItem-73065a9b.js";import{s as F}from"./siteService-3f6a07d8.js";import"./ventas-460884b0.js";import"./formatoPesos-8aa989a0.js";const m=f=>($("data-v-f950d613"),f=f(),j(),f),L={class:"grid xl:mx-0 mx-0 py-0 mt-6 px-0",style:{"background-color":"white",width:"100%"}},M={class:"pb-0 p-0",style:{display:"flex","flex-wrap":"wrap",gap:"1rem","list-style":"none","overflow-x":"auto"}},G={style:{display:"flex",gap:"1rem"}},J=["vif"],X={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#ffad53"}},Y={style:{height:"100%",width:"100%"}},Z=m(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-envelope text-2xl"}),y(" RECIBIDOS")])],-1)),q={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},H={class:"px-3 py-2"},K={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},Q={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#8e3693"}},W={style:{height:"100%",width:"100%"}},ee=m(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-clock text-2xl"}),y(" EN PREPARACION")])],-1)),te={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},se={class:"px-3 py-2"},oe={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},re={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#00bf7a"}},le={class:"lg:pb-8",style:{height:"100%",width:"100%"}},ae=m(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-send text-2xl"}),y(" ENVIADOS")])],-1)),de={style:{height:"100%","overflow-y":"auto"}},ie={class:"px-3 py-2"},ne={key:0,class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},ce={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"red"}},pe={class:"lg:pb-8",style:{height:"100%",width:"100%"}},_e=m(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-times text-2xl"}),y(" CANCELADOS")])],-1)),ue={style:{height:"100%","overflow-y":"auto"}},he={class:"px-3 py-2"},fe={__name:"modificar_ordenes",setup(f){b();const p=g([]),o=b(),_=N(),n=g(""),x=g("");O(()=>{o.startOrderUpdates()}),D(()=>{o.stopOrderUpdates()}),O(async()=>{p.value=await F.getSites(),o.getTodayOrders()}),w(()=>_.site,()=>{o.getTodayOrders()}),w(n,()=>{x.value=""}),w(x,()=>{n.value=""});const I=()=>{var i;if(n.value!="")C(n.value);else if(x.value!="")T((i=x.value)==null?void 0:i.split(" ").join(""));else return},C=async i=>{const s=await S.getOrderById(i);s!=null&&s.order_id?(o.setVisible("currentOrder",!0),o.setOrder(s),_.site=p.value.filter(c=>c.site_id==s.site_id)[0],o.currentSearchingOrder=s):alert("Orden no encontrada")},T=async i=>{const s=await S.getOrderByPhone(i);s!=null&&s.order_id?(o.setVisible("currentOrder",!0),o.setOrder(s),_.site=p.value.filter(c=>c.site_id==s.site_id)[0],o.currentSearchingOrder=s):alert("Orden no encontrada")};return(i,s)=>{const c=k("Button"),B=k("InputText");return r(),l("div",L,[e("div",{class:E([p.value.length>0?"apear":"hide","col-12 py-0 px-2 shadow-1 my-0"])},[e("nav",null,[e("ul",M,[(r(!0),l(u,null,h(p.value.filter(t=>t.show_on_web),t=>(r(),l("li",null,[a(c,{class:"p-2 mb-2",onClick:xe=>d(_).site=t,style:R([d(_).site.site_id==t.site_id?"box-shadow:0 5px 0px var(--primary-color)":"",{"min-width":"max-content","border-radius":"0",color:"black"}]),text:"",label:t.site_name},null,8,["onClick","style","label"])]))),256)),e("li",G,[a(B,{style:{},modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),modelModifiers:{trim:!0},placeholder:"Buscar por id (sin #)"},null,8,["modelValue"]),a(c,{onClick:s[1]||(s[1]=t=>I()),severity:"help",icon:"pi pi-search",label:"Buscar"})])])])],2),a(z),e("div",{vif:d(o).TodayOrders.filter(t=>t.current_status=="generada").length>0?"apear":"hide",class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},[e("div",X,[e("div",Y,[Z,e("div",q,[(r(!0),l(u,null,h(d(o).TodayOrders.filter(t=>t.current_status=="generada"),t=>(r(),l("div",H,[a(v,{order:t},null,8,["order"])]))),256))])])])],8,J),e("div",K,[e("div",Q,[e("div",W,[ee,e("div",te,[(r(!0),l(u,null,h(d(o).TodayOrders.filter(t=>t.current_status=="en preparacion"),t=>(r(),l("div",se,[a(v,{order:t},null,8,["order"])]))),256))])])])]),e("div",oe,[e("div",re,[e("div",le,[ae,e("div",de,[a(A,{name:"fade",tag:"div"},{default:P(()=>[(r(!0),l(u,null,h(d(o).TodayOrders.filter(t=>t.current_status=="enviada"),t=>(r(),l("div",ie,[a(v,{id:t.order_id,order:t},null,8,["id","order"])]))),256))]),_:1})])])])]),d(o).TodayOrders.filter(t=>t.current_status=="cancelada").length>0?(r(),l("div",ne,[e("div",ce,[e("div",pe,[_e,e("div",ue,[(r(!0),l(u,null,h(d(o).TodayOrders.filter(t=>t.current_status=="cancelada"),t=>(r(),l("div",he,[a(v,{order:t},null,8,["order"])]))),256))])])])])):U("",!0)])}}},Oe=V(fe,[["__scopeId","data-v-f950d613"]]);export{Oe as default};
