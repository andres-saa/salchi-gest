import{_ as k,x as S,y as x,r,i as I,j as c,U as u,a as _,o as U,c as $,b as e,g as l,p as R,h as B}from"./index-9a073ae1.js";const d=n=>(R("data-v-0d4e5bc4"),n=n(),B(),n),C={class:"container px-2"},D={style:{width:"100%"}},F={style:{width:"100%","align-items":"center",gap:"1rem"}},N=d(()=>e("h5",{class:"m-0 my-3"},[e("b",null,"Fecha")],-1)),j={style:{width:"100%","align-items":"center",gap:"1rem"}},E=d(()=>e("h5",{class:"m-0 my-3"},[e("b",null,"Cajero")],-1)),L={style:{width:"100%","align-items":"center",gap:"1rem"}},M=d(()=>e("h5",{class:"m-0 my-3"},[e("b",null,"Jornada")],-1)),J={style:{width:"100%","align-items":"center",gap:"1rem"}},P=d(()=>e("h5",{class:"m-0 my-3"},[e("b",null,"Sede")],-1)),T={style:{width:"100%","align-items":"center",gap:"1rem"}},Y=d(()=>e("h5",{class:"m-0 my-3"},[e("b",null,"Valor")],-1)),q={style:{width:"100%",display:"flex","align-items":"center",gap:"1rem",padding:"2rem 0","justify-content":"end"}},z={__name:"Registros",setup(n){const g=S();x();const t=r({cachier_id:0,work_schedule_id:0,value:0,site_id:0,date:""}),w=s=>{const a=new Date(s),m=String(a.getDate()).padStart(2,"0"),i=String(a.getMonth()+1).padStart(2,"0");return`${a.getFullYear()}-${i}-${m}`},V=()=>{t.value={cachier_id:0,work_schedule_id:0,value:0,site_id:0,date:""}},p=r([]),h=r([]),v=r([]),b=async()=>{const s={cachier_id:t.value.cachier_id,work_schedule_id:t.value.work_schedule_id,value:t.value.value,site_id:t.value.site_id,date:w(t.value.date)};if(!s.cachier_id||!s.work_schedule_id||!s.value||!s.site_id||!s.date){alert("Por favor, completa todos los campos.");return}try{await c.post(`${u}/create-cachier-entry`,s),g.add({severity:"success",summary:"Éxito",detail:"Enviado con éxito",life:3e3}),V()}catch{alert("Error al registrar los datos")}};return I(async()=>{h.value=await c.get(`${u}/employers-basic`),v.value=await c.get(`${u}/get-work-schedule`),p.value=await c.get(`${u}/sites`)}),(s,a)=>{const m=_("Calendar"),i=_("Dropdown"),y=_("InputNumber"),f=_("Button");return U(),$("div",C,[e("div",D,[e("div",F,[N,l(m,{modelValue:t.value.date,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value.date=o),style:{width:"100%"},dateFormat:"dd-mm-yy",placeholder:"Selecciona una fecha"},null,8,["modelValue"])]),e("div",j,[E,l(i,{modelValue:t.value.cachier_id,"onUpdate:modelValue":a[1]||(a[1]=o=>t.value.cachier_id=o),options:h.value,optionLabel:"name",optionValue:"id",filter:"",style:{width:"100%"}},null,8,["modelValue","options"])]),e("div",L,[M,l(i,{modelValue:t.value.work_schedule_id,"onUpdate:modelValue":a[2]||(a[2]=o=>t.value.work_schedule_id=o),options:v.value,optionLabel:"name",optionValue:"id",style:{width:"100%"}},null,8,["modelValue","options"])]),e("div",J,[P,l(i,{modelValue:t.value.site_id,"onUpdate:modelValue":a[3]||(a[3]=o=>t.value.site_id=o),options:p.value.filter(o=>o.show_on_web),optionLabel:"site_name",optionValue:"site_id",style:{width:"100%"}},null,8,["modelValue","options"])]),e("div",T,[Y,l(y,{modelValue:t.value.value,"onUpdate:modelValue":a[4]||(a[4]=o=>t.value.value=o),style:{width:"100%"},placeholder:"Ingresa el valor"},null,8,["modelValue"])]),e("div",q,[l(f,{label:"Registrar",severity:"help",onClick:b})])])])}}},G=k(z,[["__scopeId","data-v-0d4e5bc4"]]);export{G as default};
