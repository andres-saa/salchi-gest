import{u as k,p as S}from"./ProductService-c41021fe.js";import{_ as P,g as v,H as j,e as w,o as n,c as r,a as t,b as d,w as T,v as C,d as D,u as h,U as B,t as l,C as V,h as E,D as b,m as I,F as L,r as M,R as F}from"./index-2b62de6a.js";import{f as N}from"./formatoPesos-8aa989a0.js";import{u as R}from"./site-0da3cc8d.js";const U={class:"container p-shadow col-12 shadow-2 p-3",style:{"border-radius":"0.5rem","background-color":"white",height:"100%",position:"relative"}},z={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.2rem","z-index":"9"}},H={class:"imagen",style:{overflow:"hidden"}},O=["src"],q={class:"texto",style:{}},A={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},G={style:{display:"grid","grid-template-columns":"auto auto",width:"100%","justify-content":"space-between","align-items":"center"}},J={style:{"text-transform":"uppercase"}},K={style:{display:"flex","justify-content":"space-between","align-items":"c"}},Q={style:{display:"flex","align-items":"center",gap:"1rem"}},W={class:"text-xl"},X={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(f){const o=k(),e=f,a=v(!1),g=()=>{a.value=!0},c=i=>{o.visibles.dialogEditProduct=!0,o.currentProductToEdit=i},u=i=>{o.visibles.dialogDeleteProduct=!0,o.currentProductToDelete=i},p=async i=>{try{const s=await S.updateProductInstanceStatus(e.product.id,i);s&&console.log("Status updated:",s)}catch(s){console.error("Failed to update status:",s)}},_=j(()=>e.product.product_description.substring(0,100)+"...");return(i,s)=>{var x;const y=w("Button"),$=w("InputSwitch");return n(),r("div",U,[t("div",z,[d(y,{class:"shadow-2",onClick:s[0]||(s[0]=m=>u(e.product)),severity:"danger",style:{width:"2rem",height:"2rem",right:"0",top:"0"},rounded:"",icon:"pi pi-times"}),d(y,{class:"shadow-2",onClick:s[1]||(s[1]=m=>c(e.product)),severity:"warning",style:{"font-weight":"bold",width:"2rem",height:"2rem",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),t("div",H,[T(t("img",{onLoad:g,class:D([a.value?"cargado":"sin-cargar",""]),style:{width:"100%","aspect-ratio":"1 / 1","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`${h(B)}/read-photo-product/${e.product.img_identifier}/600`,alt:""},null,42,O),[[C,a.value]])]),t("div",q,[t("div",A,[t("div",G,[t("span",null,[t("b",J,l(e.product.product_name),1)]),d(y,{class:"elipsis",text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),t("span",null,l((x=_.value)==null?void 0:x.toLocaleLowerCase()),1),t("div",K,[d($,{modelValue:e.product.status,"onUpdate:modelValue":[s[2]||(s[2]=m=>e.product.status=m),s[3]||(s[3]=m=>p(e.product.status))]},null,8,["modelValue"]),t("div",Q,[t("span",W,[t("b",null,l(h(N)(e.product.price)),1)])])])])])])}}},Y=P(X,[["__scopeId","data-v-c0d79e42"]]),Z={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},tt=t("div",{style:{width:"100%",height:"3px","background-color":"#ff6200"}},null,-1),et={class:"text-3xl",style:{width:"min-content"}},st={style:{"min-width":"max-content"}},ot=t("div",{style:{width:"100%",height:"3px","background-color":"#ff6200"}},null,-1),it={key:0,class:"grid p-1 pb-8",style:{"max-width":"900px",margin:"auto"}},at={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8 p-0"},lt={__name:"sesion",setup(f){const o=R(),e=V(),a=v([]),g=v(!1);E(async()=>{c()});const c=async()=>{let u=e.params.category_id,p=o.site.site_id;a.value=await S.getProductsByCategorySite(u,p)};return b(()=>e.params.category_id,async()=>{c()},{deep:!0}),b(()=>o.site,async()=>{o.site&&(c(),await F())},{deep:!0}),(u,p)=>(n(),r("div",null,[t("p",Z,[tt,t("span",et,[t("p",st,l(h(e).params.menu_name)+" DE",1),I(" "+l(h(o).site.site_name),1)]),ot]),g.value?(n(),r("p",at," Selecciona una sede y una categoria. ")):(n(),r("div",it,[(n(!0),r(L,null,M(a.value,(_,i)=>(n(),r("div",{key:_.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[d(Y,{style:{width:"100%"},id:`tarjeta-${i}`,product:_},null,8,["id","product"])]))),128))]))]))}};export{lt as default};
