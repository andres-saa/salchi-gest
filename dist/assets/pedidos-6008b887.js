import{D as F}from"./OrderItem.vue_vue_type_style_index_0_scoped_b09f2bb4_lang-08a5d44d.js";import{_ as q}from"./WhatsApp.svg-2bf29679.js";import{_ as D,Q as U,a as w,o,c as l,d as i,w as y,q as d,t as u,b as e,F as k,e as O,f as x,m as b,s as j,u as g,O as z,p as L,g as M,r as N,R as W,h as T,x as H,k as R,S as P}from"./index-3dce908f.js";import{s as J}from"./siteService-20f46674.js";import"./formatoPesos-374ef498.js";const S=n=>(L("data-v-b09f2bb4"),n=n(),M(),n),Q={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Y={style:{display:"flex","align-items":"center",gap:".5rem","flex-wrap":"wrap"}},Z={style:{"min-width":"max-content",color:"black"}},G={style:{width:"3rem",height:"100%"}},K={style:{position:"relative"}},X=["src"],ee={class:"text-xl",style:{display:"flex",gap:"1rem","align-items":"center"}},te={style:{"min-width":"max-content",color:"black"}},se={key:1,style:{"font-weight":"bold"}},oe=S(()=>e("b",null,"RESPONSABLE:",-1)),re={key:4},le=S(()=>e("b",null,"OBSERVACIONES:",-1)),ae=S(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),de=S(()=>e("br",null,null,-1)),ie={key:7},ne=S(()=>e("p",{style:{color:"black"},class:"py-0 my-1"},[e("b",null,"Vendido por")],-1)),ce={key:9,class:"pr-2",style:{height:"2rem",position:"absolute",bottom:"1rem",right:".5rem"},src:q,alt:""},_e={key:10,class:"pr-2",style:{height:"1.5rem",position:"absolute",bottom:"1rem",right:".5rem"},src:z,alt:""},pe={__name:"OrderItem",props:{order:{type:Object,default:{}}},setup(n){const h=U(),a=()=>{h.setVisible("currentOrder",!0),h.setOrder(t.order)},t=n;return(f,v)=>{var r,p,E,I,s,V;const c=w("Tag"),B=w("Button"),C=w("ProgressSpinner"),_=w("P");return o(),l("div",{onClick:a,class:"col-12",style:j([g(h).currentSearchingOrder.order_id==t.order.order_id?"border:3px solid var(--primary-color)":"",{"background-color":"rgba(255, 255, 255, 0.506)",padding:".6rem",position:"relative","border-radius":"0.5rem",cursor:"pointer"}])},[i(c,{style:{"border-radius":".3rem"},class:"text mb-2",severity:t.order.user_phone=="1111111111"?"danger":"help"},{default:y(()=>{var m;return[d(u(t.order.user_phone=="1111111111"?"ES UNA PRUEBA, RELAJATE":`CLIENTE --> ${(m=t.order.user_name)==null?void 0:m.toUpperCase()}`),1)]}),_:1},8,["severity"]),e("div",Q,[e("div",Y,[e("b",Z," #"+u((r=t.order)==null?void 0:r.order_id),1),(o(!0),l(k,null,O(t.order.products.slice(0,3),m=>(o(),l("div",G,[e("div",K,[e("img",{style:{width:"100%","border-radius":"10%","background-color":"white"},src:`https://backend.salchimonster.com/read-product-image/96/${m.name}`,alt:""},null,8,X),i(B,{severity:"danger",class:"p-0",rounded:"",label:m.quantity,style:{width:"1.5rem",position:"absolute",top:"-.5rem",right:"-.5rem","z-index":"99",height:"1.5rem","border-radius":"1rem"}},null,8,["label"])])]))),256))]),e("span",ee,[e("b",te,u((V=(s=(I=(E=(p=t.order)==null?void 0:p.latest_status_timestamp)==null?void 0:E.split("T")[1])==null?void 0:I.split(".")[0])==null?void 0:s.split(":").slice(0,2))==null?void 0:V.join(":")),1),t.order.current_status=="en preparacion"?(o(),x(C,{key:0,style:{width:"50px",height:"50px"},strokeWidth:"8",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):b("",!0)])]),t.order.calcel_sol_state!=null?(o(),x(c,{key:0,style:{"border-radius":".3rem"},severity:t.order.calcel_sol_state?"success":"danger"},{default:y(()=>[d(u(t.order.calcel_sol_state?"REVISADO":" EN REVISION..."),1)]),_:1},8,["severity"])):b("",!0),d(),t.order.calcel_sol_state?(o(),l("span",se," Y ")):b("",!0),t.order.calcel_sol_state?(o(),x(c,{key:2,style:{"border-radius":".3rem"},severity:t.order.calcel_sol_asnwer?"success":"danger"},{default:y(()=>[d(u(t.order.calcel_sol_asnwer?"APROBADO":"RECHAZADO"),1)]),_:1},8,["severity"])):b("",!0),t.order.calcel_sol_state?(o(),x(_,{key:3,class:"m-0"},{default:y(()=>{var m;return[oe,d(" "+u((m=t.order.cancelation_solve_responsible)==null?void 0:m.split(" ").slice(0,3).join(" ")),1)]}),_:1})):b("",!0),t.order.responsible_observation?(o(),l("span",re,[e("p",null,[le,d(" "+u(t.order.responsible_observation||"sin observaciones"),1)])])):b("",!0),t.order.responsible_id?(o(),x(c,{key:5,style:{"border-radius":".3rem"},severity:"success"},{default:y(()=>[ae,d(" TRANSFERENCIA APROBADA")]),_:1})):b("",!0),d(),de,t.order.responsible_id?(o(),x(c,{key:6,style:{"border-radius":".3rem"},severity:"success"},{default:y(()=>[d(u(t.order.name),1)]),_:1})):b("",!0),t.order.inserted_by_name?(o(),l("div",ie,[ne,i(c,{style:{"border-radius":".3rem","background-color":"black"}},{default:y(()=>[d(u(t.order.inserted_by_name)+" -> ",1)]),_:1})])):(o(),x(c,{key:8,style:{"border-radius":".3rem","background-color":"var(--primary-color)"}},{default:y(()=>[d(" DIRECTO DE WEB -> ")]),_:1})),t.order.inserted_by_name?(o(),l("img",ce)):(o(),l("img",_e))],4)}}},$=D(pe,[["__scopeId","data-v-b09f2bb4"]]);const A=n=>(L("data-v-c8833b83"),n=n(),M(),n),ue={class:"grid xl:mx-0 mx-0 py-0 mt-6 px-0"},he={class:"col-12 py-0 px-2 shadow-2 my-0"},me={class:""},ye={class:"pb-0 p-0",style:{display:"flex","flex-wrap":"wrap",gap:"1rem","list-style":"none","overflow-x":"auto"}},be={style:{display:"flex",gap:"1rem"}},fe={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},ve={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#ffad53"}},xe={style:{height:"100%",width:"100%"}},ge=A(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-envelope text-2xl"}),d(" RECIBIDOS")])],-1)),we={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},ke={class:"px-3 py-2"},Oe={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},Se={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#8e3693"}},Ee={style:{height:"100%",width:"100%"}},Ie=A(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-clock text-2xl"}),d(" EN PREPARACION")])],-1)),$e={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},Ae={class:"px-3 py-2"},Be={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},Ce={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#00bf7a"}},Ve={class:"lg:pb-8",style:{height:"100%",width:"100%"}},Ne=A(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-send text-2xl"}),d(" ENVIADOS")])],-1)),Re={style:{height:"100%","overflow-y":"auto"}},Te={class:"px-3 py-2"},Pe={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},De={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"red"}},Ue={class:"lg:pb-8",style:{height:"100%",width:"100%"}},je=A(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-times text-2xl"}),d(" CANCELADOS")])],-1)),Le={style:{height:"100%","overflow-y":"auto"}},Me={class:"px-3 py-2"},Fe={__name:"pedidos",setup(n){const h=N([]),a=U(),t=W(),f=N(""),v=N("");T(()=>{a.startOrderUpdates()}),H(()=>{a.stopOrderUpdates()}),T(async()=>{h.value=await J.getSites(),a.getTodayOrders()}),R(()=>t.site,()=>{a.getTodayOrders()}),R(f,()=>{v.value=""}),R(v,()=>{f.value=""});const c=()=>{var _;if(f.value!="")B(f.value);else if(v.value!="")C((_=v.value)==null?void 0:_.split(" ").join(""));else return},B=async _=>{const r=await P.getOrderById(_);r!=null&&r.order_id?(a.setVisible("currentOrder",!0),a.setOrder(r),t.site=h.value.filter(p=>p.site_id==r.site_id)[0],a.currentSearchingOrder=r):alert("Orden no encontrada")},C=async _=>{const r=await P.getOrderByPhone(_);r!=null&&r.order_id?(a.setVisible("currentOrder",!0),a.setOrder(r),t.site=h.value.filter(p=>p.site_id==r.site_id)[0],a.currentSearchingOrder=r):alert("Orden no encontrada")};return(_,r)=>{const p=w("Button"),E=w("InputText"),I=w("InputMask");return o(),l("div",ue,[e("div",he,[e("nav",me,[e("ul",ye,[(o(!0),l(k,null,O(h.value.filter(s=>s.show_on_web),s=>(o(),l("li",null,[i(p,{class:"p-2 mb-2",onClick:V=>g(t).site=s,style:j([g(t).site.site_id==s.site_id?"box-shadow:0 5px 0px var(--primary-color)":"",{"min-width":"max-content","border-radius":"0",color:"black"}]),text:"",label:s.site_name},null,8,["onClick","style","label"])]))),256)),e("li",be,[i(E,{style:{},modelValue:f.value,"onUpdate:modelValue":r[0]||(r[0]=s=>f.value=s),modelModifiers:{trim:!0},placeholder:"Buscar por id (sin #)"},null,8,["modelValue"]),d(),i(I,{modelValue:v.value,"onUpdate:modelValue":r[1]||(r[1]=s=>v.value=s),prefix:"+57",id:"basic",mask:"999 999 9999",placeholder:"Buscar por telefono"},null,8,["modelValue"]),i(p,{onClick:r[2]||(r[2]=s=>c()),severity:"help",icon:"pi pi-search",label:"Buscar"})])])])]),i(F),e("div",fe,[e("div",ve,[e("div",xe,[ge,e("div",we,[(o(!0),l(k,null,O(g(a).TodayOrders.filter(s=>s.current_status=="generada"),s=>(o(),l("div",ke,[i($,{order:s},null,8,["order"])]))),256))])])])]),e("div",Oe,[e("div",Se,[e("div",Ee,[Ie,e("div",$e,[(o(!0),l(k,null,O(g(a).TodayOrders.filter(s=>s.current_status=="en preparacion"),s=>(o(),l("div",Ae,[i($,{order:s},null,8,["order"])]))),256))])])])]),e("div",Be,[e("div",Ce,[e("div",Ve,[Ne,e("div",Re,[(o(!0),l(k,null,O(g(a).TodayOrders.filter(s=>s.current_status=="enviada"),s=>(o(),l("div",Te,[i($,{order:s},null,8,["order"])]))),256))])])])]),e("div",Pe,[e("div",De,[e("div",Ue,[je,e("div",Le,[(o(!0),l(k,null,O(g(a).TodayOrders.filter(s=>s.current_status=="cancelada"),s=>(o(),l("div",Me,[i($,{order:s},null,8,["order"])]))),256))])])])])])}}},Qe=D(Fe,[["__scopeId","data-v-c8833b83"]]);export{Qe as default};
