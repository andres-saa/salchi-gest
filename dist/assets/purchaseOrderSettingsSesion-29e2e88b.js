import{d as B}from"./dailyInventoryService-b2268270.js";import{_ as M,r as o,u as T,i as $,k as j,a as r,o as A,c as F,d as s,w as n,b as a,F as E,A as P,t as I,l as R,p as G,g as L}from"./index-09fa7f18.js";import{p as b}from"./purchaseOrderService-6e7e2bb1.js";const S=p=>(G("data-v-5d85b991"),p=p(),L(),p),q={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},z=S(()=>a("span",null,"Nombre del Item",-1)),H=S(()=>a("span",null,"Unidad de medida ",-1)),J={style:{display:"flex","justify-content":"end"}},K={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},Q={style:{display:"flex","justify-content":"end"}},W={class:"m-2"},X={style:{display:"flex","justify-content":"center","align-items":"center"}},Y={style:{"text-transform":"uppercase"}},Z={style:{display:"flex","justify-content":"end"}},ee={class:"col-12 p-0",style:{display:"flex","justify-content":"end"}},te={__name:"purchaseOrderSettingsSesion",setup(p){const C=l=>{_.value=l,d.value=!0},k=async l=>{await b.disableOrderPUrchaseItem(l),d.value=!1,c()},d=o(!1),_=o({}),g=o([]),m=T(),y=o({}),x=o([]),f=o({}),u=o(!1),h=o({}),D=()=>{y.value={global:{value:null,matchMode:P.CONTAINS}}},c=async()=>{const l=m.params.sesion;g.value=await b.getAllpurchaseOrderItems(l),x.value=await B.getAllDailyInventoryUnitMeasures()};$(async()=>{c()}),j(()=>m.params.sesion,async l=>{c()});const U=async l=>{const e=m.params.id;l.unit_measure_id=h.value.id,l.order_purchase_item_group_id=e,await b.InsertPurchaserOrderItem(l),u.value=!1,c()};return D(),(l,e)=>{const V=r("InputText"),N=r("Dropdown"),i=r("Button"),w=r("Dialog"),v=r("Column"),O=r("DataTable");return A(),F(E,null,[s(w,{class:"mx-2",header:"Nuevo item",style:{width:"30rem"},modal:"",visible:u.value,"onUpdate:visible":e[4]||(e[4]=t=>u.value=t)},{footer:n(()=>[a("div",J,[s(i,{onClick:e[2]||(e[2]=t=>u.value=!1),severity:"danger",label:"Cerrar"}),s(i,{onClick:e[3]||(e[3]=t=>U(f.value)),severity:"help",label:"Guardar"})])]),default:n(()=>[a("div",q,[z,s(V,{modelValue:f.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value.name=t)},null,8,["modelValue"]),H,s(N,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=t=>h.value=t),optionLabel:"name",options:x.value},null,8,["modelValue","options"])])]),_:1},8,["visible"]),s(w,{class:"mx-2",header:"Borrar item",style:{width:"30rem"},modal:"",visible:d.value,"onUpdate:visible":e[7]||(e[7]=t=>d.value=t)},{footer:n(()=>[a("div",Q,[s(i,{onClick:e[5]||(e[5]=t=>d.value=!1),severity:"help",label:"No"}),s(i,{onClick:e[6]||(e[6]=t=>k(_.value.item_id)),severity:"danger",label:"Borrar"})])]),default:n(()=>{var t;return[a("div",K,[a("span",null,"Esta seguro de eliminar el item "+I((t=_.value)==null?void 0:t.item_name)+" ?",1)])]}),_:1},8,["visible"]),a("div",W,[s(O,{style:{"max-width":"50rem","border-radius":"0.5rem","min-height":"70vh"},filters:y.value,"onUpdate:filters":e[9]||(e[9]=t=>y.value=t),class:"col-12 shadow-3 my-0 mx-auto",value:g.value,tableStyle:"min-width:30rem"},{header:n(()=>[a("div",X,[a("span",Y,I(R(m).params.sesion),1)])]),footer:n(()=>[a("div",ee,[s(i,{onClick:e[8]||(e[8]=t=>u.value=!0),class:"p-0",severity:"help",style:{"border-radius":"0.5rem",height:"2rem",padding:"0.3rem 0"},icon:"pi pi-plus"})])]),default:n(()=>[s(v,{style:{width:"10%"},class:"py-1 px-0",field:"item_id",header:"Id"}),s(v,{style:{width:"50%"},class:"py-1 px-0",field:"item_name",header:"Nombre"}),s(v,{style:{width:"20%"},class:"py-1 px-0",field:"unit_of_measure_name",header:"Unidad de medida"}),s(v,{style:{width:"20%"},class:"py-1 px-0",field:"item_name",header:""},{body:n(t=>[a("div",Z,[s(i,{onClick:se=>C(t.data),text:"",severity:"danger",class:"p-0 nav-bar--button-black m-0 shadow-2",icon:"pi pi-trash"},null,8,["onClick"])])]),_:1})]),_:1},8,["filters","value"])])],64)}}},ne=M(te,[["__scopeId","data-v-5d85b991"]]);export{ne as default};
