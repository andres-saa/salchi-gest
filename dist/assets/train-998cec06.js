import{_ as K,h as r,i as L,g as f,o as n,c as i,a,t as k,f as s,q as I,n as c,F as E,r as V,K as O,k as R,e as S,j,d as J,p as Q,m as W}from"./index-61523e71.js";const N=y=>(Q("data-v-9f907a5f"),y=y(),W(),y),Y={class:"mx-auto shadow-5 px-0 py-0 my-0",style:{"max-width":"900px","background-color":"rgb(21 67 96 / 31%)",position:"relative"}},G=N(()=>a("h1",{class:"text-center mb-1 p-5 shadow-4",style:{"margin-top":"3rem",color:"white","background-color":"rgb(21, 67, 96)"}},[a("b",null,"Entrenador SalchiðŸ¤–bot")],-1)),H={class:"m-0 text-center",style:{color:"rgb(21, 67, 96)"}},Z={class:"m-auto",style:{display:"flex","align-items":"center",width:"max-content"}},ee=N(()=>a("h4",{class:"m-0 p-0"},[a("b",null,"Etiqutas")],-1)),te={style:{display:"flex",gap:"1rem","max-width":"900px",overflow:"hidden",height:"75vh"},class:"mx-auto p-3"},ae={class:"col-12 md:col-6 px-2 py-0"},oe={class:"col-12 md:col-6 px-2 py-0",style:{height:"60vh",overflow:"auto"}},se={class:"col-12 md:col-6 px-2 py-0"},le={class:"col-12 md:col-6 px-2 py-0",style:{height:"60vh",overflow:"auto"}},ne={class:"col-12 m-0 pr-7"},re={key:0,class:"p-3",style:{position:"absolute","background-color":"rgba(21, 67, 96, 0.31)",bottom:"0",width:"97%"}},ie={style:{display:"flex","flex-direction":"column",gap:"1rem"}},de={__name:"train",setup(y){const o=r(1),w=r(!1),p=r(""),m=r(""),C=r(""),q=r([]),g=r({}),A=async()=>{q.value=await j.get("https://chatbot.salchimonster.com/get_tags","cargando Etiquedas")};L(()=>{A()});const B=["#1B2631","#2C3E50","#34495E","#1A1A1A","#4A235A","#512E5F","#7D3C98","#154360","#1B4F72","#17202A","#1C2833","#641E16","#78281F","#943126","#512E5F","#4D5656","#212F3D","#0B5345","#145A32","#1D8348","#6E2C00","#784212","#4E342E","#3E2723","#283747"];function X(){const l=Math.floor(Math.random()*B.length);return B[l]}const F=async()=>{const l={name:C.value};await j.post("https://chatbot.salchimonster.com/create_tag",l,"creando etiqueta"),await A(),w.value=!1},M=async()=>{if(!g.value.id){alert("etiqueta no seleccionado");return}if(!p.value){alert("Patrones no definidos");return}if(!m.value){alert("Respuestas no definidas");return}const l={intent_id:g.value.id,paterns:p.value.split(`
`).filter(t=>t.trim()!=="").map(t=>t.split(" ").map(v=>v.trim()).filter(v=>v.trim()!=="")),responses:m.value.split(`
`)};await j.post("https://chatbot.salchimonster.com/train",l,"enviando respuesta"),p.value="",m.value=" "},x=r([]),_=r(""),P=()=>{const l={id:Date.now(),text:_.value};x.value.push(l),_.value="",U(l.text)},U=async l=>{const u={method:"POST",headers:{Authorization:"9yqQJxLc0hcSx47-_9Ya1k8KiLrIdMs-45xOWrYEQWI","Content-Type":"application/json"},body:JSON.stringify({answer:l,client_id:"andres"})};npm;try{const d=await fetch("https://chatbot.salchimonster.com/chat",u);if(!d.ok)throw new Error("Respuesta de red no fue ok");const b=await d.json(),D={id:Date.now(),text:b.response};x.value.push(D)}catch(d){console.error("Error al enviar el mensaje:",d),x.value.push({id:Date.now(),text:"Error al obtener respuesta de la API"})}};return(l,t)=>{const v=f("Dropdown"),u=f("Button"),d=f("Textarea"),b=f("Tag"),D=f("InputText"),$=f("Dialog");return n(),i("div",Y,[G,a("h2",H,[a("b",null,k(o.value==1?"Patrones":o.value==2?"Respuestas":"Chat"),1)]),a("div",Z,[ee,s(v,{style:{width:"100%","max-width":"20rem","min-width":"15rem"},class:"my-3 mx-4",modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),options:q.value,optionLabel:"name"},null,8,["modelValue","options"]),I(),s(u,{onClick:t[1]||(t[1]=e=>w.value=!0),style:{"min-width":"max-content"},severity:"help",label:"Nueva Etiqueta"})]),s(u,{onClick:t[2]||(t[2]=e=>o.value==3?o.value=2:o.value=1),severity:"help",icon:"pi pi-arrow-left px-2",style:{position:"fixed","justify-content":"end",left:"-1rem",top:"40vh"}}),a("div",te,[a("div",{style:c([o.value==1?"transform: translateX(0)":o.value==2?"transform: translateX(-100%)":"transform: translateX(-200%)",{"min-width":"100%","overflow-y":"auto"}]),class:"grid m-0"},[a("div",ae,[s(d,{rows:"10",class:"p-3 shadow-4",modelValue:p.value,"onUpdate:modelValue":t[3]||(t[3]=e=>p.value=e),style:{height:"60vh",width:"100%","max-width":"100%",resize:"none"}},null,8,["modelValue"])]),a("div",oe,[(n(!0),i(E,null,V(p.value.split(`
`).filter(e=>e!==""),(e,h)=>(n(),i("div",{class:"mb-2",key:h},[a("div",{cla:"",style:c([`background-color: ${X()};`,{"border-radius":".3rem",transition:"all .3s ease"}]),class:"shadow-2"},[(n(!0),i(E,null,V(e.split(" ").filter(T=>T.trim()!==""),(T,z)=>(n(),J(b,{style:{"border-radius":".2rem","background-color":"#ffffff40"},class:"m-1 px-2",key:z},{default:S(()=>[I(k(T),1)]),_:2},1024))),128))],4)]))),128))])],4),a("div",{style:c([o.value==1?"transform: translateX(0)":o.value==2?"transform: translateX(-100%)":"transform: translateX(-200%)",{"min-width":"100%","overflow-y":"auto"}]),class:"grid m-0"},[a("div",se,[s(d,{rows:"10",class:"p-3 shadow-4",modelValue:m.value,"onUpdate:modelValue":t[4]||(t[4]=e=>m.value=e),style:{height:"60vh",width:"100%","max-width":"100%",resize:"none"}},null,8,["modelValue"])]),a("div",le,[(n(!0),i(E,null,V(m.value.split(`
`).filter(e=>e!==""),(e,h)=>(n(),i("div",{class:"mb-2",key:h},[a("div",{style:c([`background-color: ${X()};`,{"border-radius":".3rem",transition:"all .3s ease"}]),class:"shadow-2"},[s(b,{style:{"border-radius":".2rem","background-color":"#ffffff40"},class:"m-1 px-2"},{default:S(()=>[I(k(e),1)]),_:2},1024)],4)]))),128))])],4),a("div",{style:c([o.value==1?"transform: translateX(0)":o.value==2?"transform: translateX(-100%)":"transform: translateX(-200%)",{"min-width":"100%","overflow-y":"auto"}]),class:"grid m-0 pb-8 mb-8"},[a("div",ne,[(n(!0),i(E,null,V(x.value,(e,h)=>(n(),i("div",{style:c([h%2==0?"background-color: rgb(21, 67, 96);color:white ":"background-color: white;justify-content:end",{"border-radius":".3rem",display:"flex"}]),key:e.id,class:"p-3 shadow-4 my-3"},[a("p",{style:c([{width:"max-content"},h%2==0?"":"text-align:end"])},k(e.text),5)],4))),128))])],4),o.value==3?(n(),i("div",re,[s(d,{style:{width:"100%"},type:"text",modelValue:_.value,"onUpdate:modelValue":t[5]||(t[5]=e=>_.value=e),onKeyup:O(P,["enter"]),placeholder:"Escribe un mensaje..."},null,8,["modelValue"])])):R("",!0)]),s(u,{onClick:t[6]||(t[6]=e=>o.value==1?o.value=2:o.value=3),icon:"pi pi-arrow-right  px-2",severity:"help",style:{position:"fixed",right:"-1rem",top:"40vh","justify-content":"start"}}),s(u,{onClick:M,iconPos:"right",icon:"pi pi-arrow-up  px-2",label:"Entrenar",severity:"success",style:{position:"fixed",right:"1rem",bottom:"1rem","justify-content":"start"}}),s($,{header:"Nueva etiqueta",visible:w.value,"onUpdate:visible":t[8]||(t[8]=e=>w.value=e),modal:""},{default:S(()=>[a("div",ie,[s(D,{modelValue:C.value,"onUpdate:modelValue":t[7]||(t[7]=e=>C.value=e)},null,8,["modelValue"]),s(u,{onClick:F,label:"Crear",severity:"help"})])]),_:1},8,["visible"])])}}},ce=K(de,[["__scopeId","data-v-9f907a5f"]]);export{ce as default};
