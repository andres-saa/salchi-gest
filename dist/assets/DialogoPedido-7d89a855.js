import{_ as ke,y as xe,j as f,k as pe,m as $,U as E,I as me,r as V,o as n,c as a,e as c,f as p,a as e,N as X,t as l,u as s,ad as C,h as y,g as x,i as d,d as be,F as P,b as ee,q as Ce,x as De}from"./index-30f9c1fa.js";import{f as h}from"./formatoPesos-2293ab52.js";/* empty css                                                                  */const o=te=>(Ce("data-v-23863445"),te=te(),De(),te),$e=o(()=>e("h3",null,[e("b",null,"TRASLADO DE SEDE")],-1)),Ee=o(()=>e("span",{for:"responsible"},"SELECCIONE LA SEDE DESTINO",-1)),Ve=o(()=>e("h3",null,[e("b",null,"Cambiar Valor del Domicilio")],-1)),Pe=o(()=>e("span",null,"Valor actual del domicilio",-1)),Ne=o(()=>e("span",null,"Nuevo valor del domicilio",-1)),Se=o(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),je=o(()=>e("span",{for:"responsible"},"Responsable",-1)),Te=o(()=>e("span",{for:"reason"},"Razón",-1)),Le=o(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),ze=o(()=>e("span",{class:"advert",style:{"text-transform":"lowercase",color:"red","font-weight":"bold"}}," Desde el 16 de mayo de 2024, la cancelación de órdenes requerirá autorización.",-1)),Re=o(()=>e("span",{for:"responsible"},"Responsable",-1)),Ae=o(()=>e("span",{for:"reason"},"Razón",-1)),Ie={style:{"text-transform":"capitalize"}},Me={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},Ue={class:""},Be={id:"factura",style:{width:"100%"}},Fe=o(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),qe=o(()=>e("br",null,null,-1)),He={class:"",style:{width:"auto"}},Ge={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Ke={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Ye={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},Ze=o(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid","grid-template-columns":"auto auto"}},[e("div",{class:"px-2",style:{width:"100%"}},[e("b",null," productos")]),e("div",{class:"px-2"},[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),Je={style:{display:"grid",gap:"0 1rem","grid-template-columns":"auto auto"}},Qe={key:0,class:"p-0 m-0"},We=o(()=>e("br",null,null,-1)),Xe={key:1,class:"p-0 m-0"},et=o(()=>e("br",null,null,-1)),tt={key:0,style:{"text-align":"end",color:"black"}},st={key:1,style:{"text-align":"end",color:"black"}},rt={key:0,class:"p-0 m-0"},lt=o(()=>e("b",null,"COMBO INCLUYE",-1)),ot=[lt],nt={class:"p-0 m-0 ml-5",style:{}},it={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},at={class:"p-0 m-0",style:{}},dt={class:"p-0 m-0",style:{"text-align":"end"}},ct=o(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),ut={class:"",style:{display:"grid","margin-top":"1rem","grid-template-columns":"auto auto"}},_t=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),pt={class:""},mt={style:{"text-align":"end","font-weight":"bold",color:"black"}},bt=o(()=>e("div",{class:""},[e("span",{class:"m-0",style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),yt={class:""},ht={class:"m-0 p-0",style:{"text-align":"end","font-weight":"bold",color:"black"}},vt=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),gt={class:""},ft={class:"m-0 p-0",style:{"text-align":"end",color:"black","font-weight":"bold"}},Ot=o(()=>e("div",{class:""},null,-1)),wt=o(()=>e("p",{class:"px-2",style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),kt={class:"notas p-2 m-0",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},xt=o(()=>e("p",{class:"px-2",style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),Ct={style:{display:"grid",gap:"1rem 2rem","grid-template-columns":"auto auto","align-items":"start"}},Dt=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Nombre")])],-1)),$t={class:""},Et={style:{"text-align":"start",color:"black"}},Vt={key:0,class:"",style:{}},Pt=o(()=>e("span",null,[e("b",null,"Cedula / Nit")],-1)),Nt=[Pt],St={key:1,class:""},jt={style:{"text-align":"start",color:"black"}},Tt=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Metodo de entrega")])],-1)),Lt={class:""},zt={style:{"text-align":"start",color:"black"}},Rt={key:2,class:"",style:{}},At=o(()=>e("span",null,[e("b",null,"Fecha de entrega")],-1)),It=[At],Mt={key:3,class:""},Ut={style:{"text-align":"start",color:"black"}},Bt={key:4,class:"",style:{}},Ft=o(()=>e("span",null,[e("b",null,"Placa del vehiculo")],-1)),qt=[Ft],Ht={key:5,class:""},Gt={style:{"text-align":"start",color:"black"}},Kt=o(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),Yt={style:{"text-align":"start",color:"black"}},Zt={key:6,style:{}},Jt=o(()=>e("span",null,[e("b",null,"Correo")],-1)),Qt=[Jt],Wt={key:7},Xt={style:{"text-align":"start",color:"black"}},es={key:8,style:{}},ts=o(()=>e("span",null,[e("b",null,"direccion ")],-1)),ss=[ts],rs={key:9,style:{}},ls={style:{"text-align":"start",color:"black"}},os=o(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),ns={style:{"text-align":"start",color:"black"}},is={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},as={class:"mt-4",style:{display:"flex","align-items":"center",gap:"1rem"}},ds={class:""},cs={id:"factura",style:{width:"100%"}},us=o(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),_s=o(()=>e("br",null,null,-1)),ps={class:"",style:{width:"auto"}},ms={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},bs={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},ys={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},hs=o(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid",gap:"1rem","grid-template-columns":"1fr 3fr 1fr 1fr 1fr"}},[e("div",{class:"px-2",style:{width:"100%"}},[e("b",null," Cant.")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," producto")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," pres.")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," V. Kilo")]),e("div",{class:"px-2"},[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),vs={style:{display:"grid",gap:"0 1rem","grid-template-columns":"1fr 3fr 1fr 1fr 1fr"}},gs={key:0,class:"p-0 m-0"},fs=o(()=>e("br",null,null,-1)),Os={key:1,class:"p-0 m-0"},ws=o(()=>e("br",null,null,-1)),ks={key:2,class:"p-0 m-0"},xs=o(()=>e("br",null,null,-1)),Cs={key:3,class:"p-0 m-0"},Ds=o(()=>e("br",null,null,-1)),$s={key:0,style:{"text-align":"start",color:"black"}},Es={key:1,style:{"text-align":"start",color:"black"}},Vs={key:0,style:{"text-align":"end",color:"black"}},Ps={key:1,style:{"text-align":"end",color:"black"}},Ns={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},Ss={class:"p-0 m-0",style:{}},js={class:"p-0 m-0",style:{"text-align":"end"}},Ts=o(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),Ls={class:"",style:{display:"grid","margin-top":"1rem","grid-template-columns":"auto auto"}},zs=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),Rs={class:""},As={style:{"text-align":"end","font-weight":"bold",color:"black"}},Is=o(()=>e("div",{class:""},[e("span",{class:"m-0",style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),Ms={class:""},Us={class:"m-0 p-0",style:{"text-align":"end","font-weight":"bold",color:"black"}},Bs=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),Fs={class:""},qs={class:"m-0 p-0",style:{"text-align":"end",color:"black","font-weight":"bold"}},Hs=o(()=>e("div",{class:""},null,-1)),Gs=o(()=>e("p",{class:"px-2",style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),Ks={class:"notas p-2 m-0",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},Ys=o(()=>e("p",{class:"px-2",style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),Zs={style:{display:"grid",gap:"1rem 2rem","grid-template-columns":"auto auto","align-items":"start"}},Js=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Nombre")])],-1)),Qs={class:""},Ws={style:{"text-align":"start",color:"black"}},Xs={key:0,class:"",style:{}},er=o(()=>e("span",null,[e("b",null,"Cedula / Nit")],-1)),tr=[er],sr={key:1,class:""},rr={style:{"text-align":"start",color:"black"}},lr=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Metodo de entrega")])],-1)),or={class:""},nr={style:{"text-align":"start",color:"black"}},ir={key:2,class:"",style:{}},ar=o(()=>e("span",null,[e("b",null,"Fecha de entrega")],-1)),dr=[ar],cr={key:3,class:""},ur={style:{"text-align":"start",color:"black"}},_r={key:4,class:"",style:{}},pr=o(()=>e("span",null,[e("b",null,"Placa del vehiculo")],-1)),mr=[pr],br={key:5,class:""},yr={style:{"text-align":"start",color:"black"}},hr=o(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),vr={style:{"text-align":"start",color:"black"}},gr={key:6,style:{}},fr=o(()=>e("span",null,[e("b",null,"Correo")],-1)),Or=[fr],wr={key:7},kr={style:{"text-align":"start",color:"black"}},xr={key:8,style:{}},Cr=o(()=>e("span",null,[e("b",null,"direccion ")],-1)),Dr=[Cr],$r={key:9,style:{}},Er={style:{"text-align":"start",color:"black"}},Vr=o(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),Pr={style:{"text-align":"start",color:"black"}},Nr={key:10},Sr=o(()=>e("span",null,[e("b",null,"Estado del pago")],-1)),jr=[Sr],Tr={key:11},Lr=o(()=>e("span",{style:{"text-align":"start",color:"black"}}," Aprobado ",-1)),zr=[Lr],Rr={key:12},Ar=o(()=>e("span",null,[e("b",null,"Referencia de pago")],-1)),Ir=[Ar],Mr={key:13},Ur={style:{"text-align":"start",color:"black"}},Br={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},Fr={class:"mt-4",style:{display:"flex","align-items":"center",gap:"1rem"}},qr=o(()=>e("h3",null,[e("b",null,"Cambiar Método de Pago")],-1)),Hr=o(()=>e("span",{for:"paymentMethod"},"Método de Pago actual",-1)),Gr={for:"paymentMethod"},Kr=o(()=>e("span",{for:"paymentMethod"},"Nuevo método de Pago",-1)),Yr={__name:"DialogoPedido",setup(te){const t=xe(),D=f(!1),se=f(t.currentOrder.delivery_price),ye=async()=>{const _=se.value;await $.put(`${E}/changue-delivery/${t.currentOrder.order_id}`,{price:_}),D.value=!1,t.numberOders==1?t.numberOders=2:t.numberOders=1,t.visibles.currentOrder=!1},N=f(!1),re=f(null),de=f([]);pe(async()=>{try{const _=await $.get(`${E}/payment_methods`);de.value=_}catch(_){console.error("Error al obtener métodos de pago:",_)}t.currentOrder.value=t.currentOrder,ie.value=await $.get(`${E}/sites`)});const he=async()=>{if(re.value)try{await $.put(`${E}/change-method/${t.currentOrder.order_id}/${re.value}`,`Cambiando método de pago para la orden ${t.currentOrder.order_id}`),N.value=!1,t.visibles.currentOrder=!1,console.log("Método de pago cambiado exitosamente")}catch(_){console.error("Error al cambiar el método de pago:",_)}},ce=_=>{var g,u,O,k;const r=(k=(O=(u=(g=_.latest_status_timestamp)==null?void 0:g.split("T")[1])==null?void 0:u.split(":"))==null?void 0:O.slice(0,2))==null?void 0:k.join(":");switch(_.current_status){case"enviada":return`El pedido fue enviado a su domicilio a las ${r}`;case"cancelada":return`El pedido fue cancelado a las ${r}
Responsable: ${_.responsible}
Razón: ${_.reason}`;case"en preparacion":return`El pedido está en preparación desde las ${r} y será enviado en breve.`;case"generada":return`Hemos recibido su pedido a las ${r} y empezaremos a prepararlo en breve. Gracias por su espera.`;default:return""}},ne=f(0),S=f(!1),ve=me(()=>t.currentOrder.pe_json.listaPedidos.reduce((_,r)=>{var u;let g=r.pedido_cantidad*r.pedido_precio;if(r.modificadorseleccionList&&r.modificadorseleccionList.length>0){const k=((u=r.modificadorseleccionList)==null?void 0:u.filter(j=>j.pedido_productoid==r.pedido_productoid)).reduce((j,T)=>j+T.modificadorseleccion_cantidad*T.pedido_precio,0);g+=k}return _+g},0));me(()=>ve.value+t.currentOrder.delivery_price);const ge=async()=>{var r;const _={order_id:t.currentOrder.order_id,responsible:(r=v.value.responsible)==null?void 0:r.name,reason:v.value.reason};await C.create_cancellling_request(_),S.value=!1,t.Notification.pause(),t.Notification.currentTime=0},le=f(!1),fe=()=>{const _=document.getElementById("factura").innerHTML,r=window.open("","_blank");r.document.write("<html><head><title>Factura</title>");const g=document.getElementsByTagName("style");for(let u=0;u<g.length;u++)r.document.write(g[u].outerHTML);r.document.write("<style>  @media print { html{height: min-content;}  *{text-transform:uppercase;align-items:center; width:100%; font-family: sans-serif;padding:0;margin:0; font-size:o.9rem !IMPORTANT} body {  -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } }  </style>"),r.document.write("</head><body>"),r.document.write(_),r.document.write("</body></html>"),r.document.close(),r.print(),setTimeout(()=>{r.close()},.01)},ie=f([]);pe(async()=>{t.currentOrder.value=t.currentOrder,ie.value=await $.get(`${E}/sites`)});const ae=f(!1),oe=f(!1),v=f({responsible:null,reason:"Sin razon"}),ue=f([{name:"Restaurante",value:"restaurant"},{name:"Cliente",value:"client"}]),_e=()=>{v.value.responsible&&C.cancelOrder(t.currentOrder.order_id,v.value.reason,v.value.responsible.name).then(_=>{_&&(ae.value=!1,console.log("Order canceled successfully"))}).catch(_=>{console.error("Failed to cancel order:",_)})},Oe=async()=>{const _=t.currentOrder.order_id,r=ne.value;await $.put(`${E}/traslate-order`,{site_id:r,order_id:_},`trasladando orden ${_}`),t.visibles.currentOrder=!1,oe.value=!1},we=()=>{console.log(`Orden: ${t.currentOrder.order_id}, Nuevo Valor de Domicilio: ${se.value}`),D.value=!1};return(_,r)=>{const g=V("Dropdown"),u=V("Button"),O=V("Dialog"),k=V("Tag"),j=V("InputNumber"),T=V("Textarea");return n(),a(P,null,[c(O,{visible:oe.value,"onUpdate:visible":r[2]||(r[2]=i=>oe.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:p(()=>[$e]),default:p(()=>[e("form",{onSubmit:X(_e,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Ee,c(g,{style:{width:"100%"},id:"responsible",modelValue:ne.value,"onUpdate:modelValue":r[0]||(r[0]=i=>ne.value=i),optionValue:"site_id",options:ie.value.filter(i=>i.show_on_web),optionLabel:"site_name",placeholder:"Seleccione la sede destino"},null,8,["modelValue","options"]),c(u,{onClick:r[1]||(r[1]=i=>Oe()),style:{width:"100%","border-radius":"0.5rem"},label:"Trasladar",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),c(O,{visible:D.value,"onUpdate:visible":r[5]||(r[5]=i=>D.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:p(()=>[Ve]),default:p(()=>[e("form",{onSubmit:X(we,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Pe,c(k,{class:"px-4",severity:"warning"},{default:p(()=>[e("b",null,l(s(h)(s(t).currentOrder.delivery_price)),1)]),_:1}),Ne,c(j,{style:{width:"100%"},modelValue:se.value,"onUpdate:modelValue":r[3]||(r[3]=i=>se.value=i),mode:"currency",currency:"COP",locale:"es-CO",maxFractionalDigits:"0",placeholder:"Ingresa el nuevo valor",required:""},null,8,["modelValue"]),c(u,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help",onClick:r[4]||(r[4]=i=>ye())})],32)]),_:1},8,["visible"]),e("div",null,[c(O,{visible:ae.value,"onUpdate:visible":r[8]||(r[8]=i=>ae.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:p(()=>[Se]),default:p(()=>[e("form",{onSubmit:X(_e,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[je,c(g,{style:{width:"100%"},id:"responsible",modelValue:v.value.responsible,"onUpdate:modelValue":r[6]||(r[6]=i=>v.value.responsible=i),options:ue.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),Te,c(T,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:v.value.reason,"onUpdate:modelValue":r[7]||(r[7]=i=>v.value.reason=i),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),c(u,{style:{width:"100%","border-radius":"0.5rem"},label:"cancelar",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),c(O,{visible:S.value,"onUpdate:visible":r[11]||(r[11]=i=>S.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:p(()=>[Le]),default:p(()=>[e("form",{onSubmit:X(ge,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[ze,Re,c(g,{style:{width:"100%"},id:"responsible",modelValue:v.value.responsible,"onUpdate:modelValue":r[9]||(r[9]=i=>v.value.responsible=i),options:ue.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),Ae,c(T,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:v.value.reason,"onUpdate:modelValue":r[10]||(r[10]=i=>v.value.reason=i),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),c(u,{style:{width:"100%","border-radius":"0.5rem"},label:"solicitar cancelacion",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),c(O,{closable:!1,style:{width:"30rem"},modal:"",visible:le.value,"onUpdate:visible":r[14]||(r[14]=i=>le.value=i)},{footer:p(()=>[e("div",Me,[c(u,{text:"",size:"small",onClick:r[12]||(r[12]=()=>{s(C).deliveryZero(s(t).currentOrder.order_id),le.value=!1}),style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"si"}),c(u,{onClick:r[13]||(r[13]=i=>le.value=!1),size:"small",style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"no"})])]),default:p(()=>[e("span",Ie,[y(" Esta seguro de llevar a $0.00 el valor del domicilio para la orden "),e("b",null,l(s(t).currentOrder.order_id),1),y(" del cliente "),e("b",null,l(s(t).currentOrder.user_name),1),y("? ")])]),_:1},8,["visible"]),s(t).currentOrder.site_id!=32?(n(),x(O,{key:0,class:"mx-3",closeOnEscape:"",closable:!1,visible:s(t).visibles.currentOrder,"onUpdate:visible":r[22]||(r[22]=i=>s(t).visibles.currentOrder=i),modal:"",style:{"max-height":"95vh",width:"35rem",position:"relative"}},{footer:p(()=>[e("div",is,[s(t).currentOrder.current_status=="generada"?(n(),x(u,{key:0,size:"small",onClick:r[15]||(r[15]=i=>s(C).prepareOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):d("",!0),s(t).currentOrder.current_status=="en preparacion"?(n(),x(u,{key:1,size:"small",onClick:r[16]||(r[16]=i=>s(C).sendOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):d("",!0),c(u,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:r[17]||(r[17]=()=>oe.value=!0),severity:"warning",label:"TRASLADO"}),c(u,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:r[18]||(r[18]=i=>S.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",as,[c(u,{style:{width:"100%"},icon:"pi pi-sync",onClick:r[19]||(r[19]=i=>N.value=!0),label:" metodo de pago",severity:"success"}),c(u,{icon:"pi pi-sync",onClick:r[20]||(r[20]=i=>D.value=!0),label:" Domicilio",class:"p-button-warning",style:{width:"100%"}})])]),default:p(()=>{var i,L,z,R,A,I,M,U,B,F,q,H,G,K,Y,Z,J,m;return[e("div",Ue,[e("div",null,[e("p",{class:be(`estado ${(L=(i=s(t).currentOrder)==null?void 0:i.current_status)==null?void 0:L.split(" ")[0]}`)},l(ce(s(t).currentOrder)),3)])]),e("div",Be,[s(t).currentOrder.responsible_id?(n(),x(k,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:p(()=>[Fe,y(" TRANSFERENCIA APROBADA")]),_:1})):d("",!0),y(),qe,s(t).currentOrder.responsible_id?(n(),x(k,{key:1,class:"tag",severity:"success"},{default:p(()=>[y(l(s(t).currentOrder.name),1)]),_:1})):d("",!0),e("div",He,[e("p",Ge," ID:"+l(s(t).currentOrder.order_id),1),e("p",Ke,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1),e("p",Ye,[e("b",null," fecha: "+l((R=(z=s(t).currentOrder.latest_status_timestamp)==null?void 0:z.split("T")[0].split("-"))==null?void 0:R.reverse().join("-")),1),e("b",null," Hora: "+l((U=(M=(I=(A=s(t).currentOrder.latest_status_timestamp)==null?void 0:A.split("T")[1])==null?void 0:I.split(":"))==null?void 0:M.slice(0,2))==null?void 0:U.join(":")),1)]),Ze,(n(!0),a(P,null,ee((q=(F=(B=s(t))==null?void 0:B.currentOrder)==null?void 0:F.pe_json)==null?void 0:q.listaPedidos,b=>{var Q,W;return n(),a("div",null,[e("div",Je,[((Q=s(t).currentOrder)==null?void 0:Q.site_id)==32?(n(),a("p",Qe,[e("b",null," ( "+l(b.pedido_cantidad)+" kg ) ",1),y(" "+l(b.pedido_nombre_producto)+" ( "+l(b.pedido_cantidad/b.presentacion)+" "+l(b.presentation_unit_measure)+") ",1),We])):(n(),a("p",Xe,[e("b",null," ( "+l(b.pedido_cantidad)+" ) ",1),y(" "+l(b.pedido_nombre_producto)+" ",1),et])),e("div",null,[b.pedido_base_price?(n(),a("p",tt,l(s(h)(b.pedido_base_price*b.pedido_cantidad)),1)):(n(),a("p",st,l(s(h)(b.pedido_precio)),1))])]),((W=b.lista_productocombo)==null?void 0:W.length)>0?(n(),a("p",rt,ot)):d("",!0),b.lista_productocombo?(n(!0),a(P,{key:1},ee(b.lista_productocombo,w=>(n(),a("p",nt,[y(" -- "),e("b",null,l(w.pedido_cantidad),1),y(" "+l(w.pedido_nombre),1)]))),256)):d("",!0),(n(!0),a(P,null,ee(b.modificadorseleccionList,w=>(n(),a("div",it,[e("p",at,[y(" - ( "+l(b.pedido_cantidad)+" ) ",1),e("b",null,l(w.modificadorseleccion_cantidad),1),y(" "+l(w.modificadorseleccion_nombre),1)]),e("p",dt,l(s(h)(w.pedido_precio*w.modificadorseleccion_cantidad*b.pedido_cantidad)),1)]))),256)),ct])}),256)),e("div",ut,[_t,e("div",pt,[e("p",mt,[e("b",null,l(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon-((G=(H=s(t).currentOrder.pe_json)==null?void 0:H.delivery)==null?void 0:G.delivery_costoenvio))),1)])]),bt,e("div",yt,[e("p",ht,[e("b",null,l(s(h)((Y=(K=s(t).currentOrder.pe_json)==null?void 0:K.delivery)==null?void 0:Y.delivery_costoenvio)),1)])]),vt,e("div",gt,[e("p",ft,[e("b",null,l(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),Ot]),wt,e("p",kt,l((Z=s(t).currentOrder.order_notes)==null?void 0:Z.toLowerCase()),1),xt,e("div",Ct,[Dt,e("div",$t,[e("span",Et,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Vt,Nt)):d("",!0),s(t).currentOrder.site_id==32?(n(),a("div",St,[e("span",jt,l(s(t).currentOrder.cedula_nit),1)])):d("",!0),Tt,e("div",Lt,[e("span",zt,l(s(t).currentOrder.order_type),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Rt,It)):d("",!0),s(t).currentOrder.site_id==32?(n(),a("div",Mt,[e("p",Ut,l(s(t).currentOrder.pe_json.delivery.delivery_horaentrega),1)])):d("",!0),s(t).currentOrder.placa?(n(),a("div",Bt,qt)):d("",!0),s(t).currentOrder.placa?(n(),a("div",Ht,[e("p",Gt,l(s(t).currentOrder.placa),1)])):d("",!0),Kt,e("div",null,[e("span",Yt,l(s(t).currentOrder.user_phone),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Zt,Qt)):d("",!0),s(t).currentOrder.site_id==32?(n(),a("div",Wt,[e("span",Xt,l(s(t).currentOrder.email),1)])):d("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",es,ss)):d("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",rs,[e("span",ls,l((J=s(t).currentOrder.user_address)==null?void 0:J.toLowerCase()),1)])):d("",!0),os,e("div",null,[e("span",ns,l((m=s(t).currentOrder.payment_method)==null?void 0:m.toLowerCase()),1)])])])]),c(u,{class:"shadow-4",onClick:r[21]||(r[21]=b=>s(t).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"])):(n(),x(O,{key:1,class:"mx-3",closeOnEscape:"",closable:!1,visible:s(t).visibles.currentOrder,"onUpdate:visible":r[29]||(r[29]=i=>s(t).visibles.currentOrder=i),modal:"",style:{"max-height":"95vh",width:"50rem",position:"relative"}},{footer:p(()=>[e("div",Br,[s(t).currentOrder.current_status=="generada"?(n(),x(u,{key:0,size:"small",onClick:r[23]||(r[23]=i=>s(C).prepareOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):d("",!0),s(t).currentOrder.current_status=="en preparacion"?(n(),x(u,{key:1,size:"small",onClick:r[24]||(r[24]=i=>s(C).sendOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):d("",!0),c(u,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:fe,severity:"warning",label:"imprimir"}),c(u,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:r[25]||(r[25]=i=>S.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",Fr,[c(u,{style:{width:"100%"},icon:"pi pi-sync",onClick:r[26]||(r[26]=i=>N.value=!0),label:" metodo de pago",severity:"success"}),c(u,{icon:"pi pi-sync",onClick:r[27]||(r[27]=i=>D.value=!0),label:" Domicilio",class:"p-button-warning",style:{width:"100%"}})])]),default:p(()=>{var i,L,z,R,A,I,M,U,B,F,q,H,G,K,Y,Z,J;return[e("div",ds,[e("div",null,[e("p",{class:be(`estado ${(L=(i=s(t).currentOrder)==null?void 0:i.current_status)==null?void 0:L.split(" ")[0]}`)},l(ce(s(t).currentOrder)),3)])]),e("div",cs,[s(t).currentOrder.responsible_id?(n(),x(k,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:p(()=>[us,y(" TRANSFERENCIA APROBADA")]),_:1})):d("",!0),y(),_s,s(t).currentOrder.responsible_id?(n(),x(k,{key:1,class:"tag",severity:"success"},{default:p(()=>[y(l(s(t).currentOrder.name),1)]),_:1})):d("",!0),e("div",ps,[e("p",ms," ID:"+l(s(t).currentOrder.order_id),1),e("p",bs,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1),e("p",ys,[e("b",null," fecha: "+l((z=s(t).currentOrder.latest_status_timestamp)==null?void 0:z.split("T")[0]),1),e("b",null," Hora: "+l((M=(I=(A=(R=s(t).currentOrder.latest_status_timestamp)==null?void 0:R.split("T")[1])==null?void 0:A.split(":"))==null?void 0:I.slice(0,2))==null?void 0:M.join(":")),1)]),hs,(n(!0),a(P,null,ee((F=(B=(U=s(t))==null?void 0:U.currentOrder)==null?void 0:B.pe_json)==null?void 0:F.listaPedidos,m=>{var b,Q,W;return n(),a("div",null,[e("div",vs,[((b=s(t).currentOrder)==null?void 0:b.site_id)==32?(n(),a("p",gs,[e("b",null," ( "+l(m.pedido_cantidad)+" "+l(m.unit_measure)+" ) ",1),fs])):d("",!0),((Q=s(t).currentOrder)==null?void 0:Q.site_id)==32?(n(),a("p",Os,[y(l(m.pedido_nombre_producto)+" ",1),ws])):d("",!0),((W=s(t).currentOrder)==null?void 0:W.site_id)==32?(n(),a("p",ks,[y(l(m.presentacion)+" "+l(m.unit_measure)+" ",1),xs])):(n(),a("p",Cs,[e("b",null," ( "+l(m.pedido_cantidad)+" ) ",1),y(" "+l(m.pedido_nombre_producto)+" ",1),Ds])),e("div",null,[m.pedido_base_price?(n(),a("p",$s,l(s(h)(m.pedido_precio)),1)):(n(),a("p",Es,l(s(h)(m.pedido_precio)),1))]),e("div",null,[m.pedido_base_price?(n(),a("p",Vs,l(s(h)(m.pedido_base_price*m.pedido_cantidad)),1)):(n(),a("p",Ps,l(s(h)(m.pedido_precio)),1))])]),(n(!0),a(P,null,ee(m.modificadorseleccionList,w=>(n(),a("div",Ns,[e("p",Ss,[y(" - ( "+l(m.pedido_cantidad)+" ) ",1),e("b",null,l(w.modificadorseleccion_cantidad),1),y(" "+l(w.modificadorseleccion_nombre),1)]),e("p",js,l(s(h)(w.pedido_precio*w.modificadorseleccion_cantidad*m.pedido_cantidad)),1)]))),256)),Ts])}),256)),e("div",Ls,[zs,e("div",Rs,[e("p",As,[e("b",null,l(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon-((H=(q=s(t).currentOrder.pe_json)==null?void 0:q.delivery)==null?void 0:H.delivery_costoenvio))),1)])]),Is,e("div",Ms,[e("p",Us,[e("b",null,l(s(h)((K=(G=s(t).currentOrder.pe_json)==null?void 0:G.delivery)==null?void 0:K.delivery_costoenvio)),1)])]),Bs,e("div",Fs,[e("p",qs,[e("b",null,l(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),Hs]),Gs,e("p",Ks,l((Y=s(t).currentOrder.order_notes)==null?void 0:Y.toLowerCase()),1),Ys,e("div",Zs,[Js,e("div",Qs,[e("span",Ws,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Xs,tr)):d("",!0),s(t).currentOrder.site_id==32?(n(),a("div",sr,[e("span",rr,l(s(t).currentOrder.cedula_nit),1)])):d("",!0),lr,e("div",or,[e("span",nr,l(s(t).currentOrder.order_type),1)]),s(t).currentOrder.site_id==32?(n(),a("div",ir,dr)):d("",!0),s(t).currentOrder.site_id==32?(n(),a("div",cr,[e("p",ur,l(s(t).currentOrder.pe_json.delivery.delivery_horaentrega),1)])):d("",!0),s(t).currentOrder.placa?(n(),a("div",_r,mr)):d("",!0),s(t).currentOrder.placa?(n(),a("div",br,[e("p",yr,l(s(t).currentOrder.placa),1)])):d("",!0),hr,e("div",null,[e("span",vr,l(s(t).currentOrder.user_phone),1)]),s(t).currentOrder.site_id==32?(n(),a("div",gr,Or)):d("",!0),s(t).currentOrder.site_id==32?(n(),a("div",wr,[e("span",kr,l(s(t).currentOrder.email),1)])):d("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",xr,Dr)):d("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",$r,[e("span",Er,l((Z=s(t).currentOrder.user_address)==null?void 0:Z.toLowerCase()),1)])):d("",!0),Vr,e("div",null,[e("span",Pr,l((J=s(t).currentOrder.payment_method)==null?void 0:J.toLowerCase()),1)]),s(t).currentOrder.epayco_ref?(n(),a("div",Nr,jr)):d("",!0),s(t).currentOrder.epayco_ref?(n(),a("div",Tr,zr)):d("",!0),s(t).currentOrder.epayco_ref?(n(),a("div",Rr,Ir)):d("",!0),s(t).currentOrder.epayco_ref?(n(),a("div",Mr,[e("span",Ur,l(s(t).currentOrder.epayco_ref),1)])):d("",!0)])])]),c(u,{class:"shadow-4",onClick:r[28]||(r[28]=m=>s(t).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"]))]),c(O,{visible:N.value,"onUpdate:visible":r[31]||(r[31]=i=>N.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:p(()=>[qr]),default:p(()=>[e("form",{onSubmit:X(he,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Hr,c(k,{class:"px-4",severity:"warning"},{default:p(()=>[e("span",Gr,[e("b",null,l(s(t).currentOrder.payment_method),1)])]),_:1}),Kr,c(g,{style:{width:"100%"},id:"paymentMethod",modelValue:re.value,"onUpdate:modelValue":r[30]||(r[30]=i=>re.value=i),options:de.value,optionLabel:"name",optionValue:"id",placeholder:"Selecciona un método de pago",required:""},null,8,["modelValue","options"]),c(u,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help"})],32)]),_:1},8,["visible"])],64)}}},Wr=ke(Yr,[["__scopeId","data-v-23863445"]]);export{Wr as D};
