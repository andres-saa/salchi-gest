import{_ as f,o as n,c as i,F as x,d as y,b as e,t as d,n as h,C as v,p as w,e as k,f as u,h as _,a as I}from"./index-b829fc2a.js";import{g as C}from"./userServices-3c17e2bd.js";const m=a=>(w("data-v-dc884dd6"),a=a(),k(),a),B={class:"list-unstyled pt-0 5 m-0 mt-5 px-0",style:{position:"",display:"flex","list-style":"none"}},E={class:"py-3 mx-6 py-3 px-0"},N=m(()=>e("i",{class:""},null,-1)),O={class:"tex-center p-0",style:{height:"auto",position:"relative","min-width":"max-content","background-color":"rgba(255, 255, 255, 0)",border:"2px",display:"flex","justify-content":"center"}},S=["src","onError"],$=m(()=>e("div",{style:{position:"absolute",height:"82px",bottom:"100%","background-color":"rgb(0, 0, 0)",width:"5px"}},null,-1)),A={class:"p-0 text-center",style:{width:"",overflow:"hidden",position:"absolute",height:"auto",bottom:"115%","max-width":"400px","background-color":"rgb(255, 255, 255)"}},V={cla:"",class:"text-center p-0 text-sm p-0 m-0",style:{"min-width":"max-content","font-weight":"bold",color:"black",width:"100%"}},j={cla:"",class:"text-center p-0 text-sm p-0",style:{"min-width":"max-content",width:"100%"}},F={key:0,style:{width:"100%",top:"27px",height:"5px","border-radius":"10rem","background-color":"rgb(0, 0, 0)",position:"absolute"}},L={__name:"OrganigramaItem",props:{items:{type:Array,default:()=>[]}},setup(a){const p=(s,r)=>{const t={masculino:"/images/male-avatar.png",femenino:"/images/female-avatar.png",default:"/images/who.png"};!s||s==""||s=="N/A"?r.target.src=t.default:r.target.src=t[s.trim().toLowerCase()]};return(s,r)=>(n(),i("ul",B,[(n(!0),i(x,null,y(a.items,t=>{var o;return n(),i("li",{class:"px-0",key:t.position},[e("div",E,[N,e("div",O,[e("img",{style:{width:"1.5cm","z-index":"100","background-color":"white",height:"1.5cm","border-radius":"50%","object-fit":"cover",border:"5px solid rgb(0, 0, 0)"},src:`${s.URI}/read-product-image/96/employer-${t.dni}`,onError:c=>p(t.gender,c),class:"shadow-2 img-profile"},null,40,S),$,e("div",A,[e("p",V,d(t.subordinates?t.position.slice(0,30):t.position.slice(0,15))+" "+d(!t.subordinates&&t.position.length>10||t.subordinates&&t.position.length>20?"...":""),1),e("p",j,d(t.subordinates?t.name.slice(0,30):t.name.slice(0,15))+" "+d(!t.subordinates&&t.name.length>10||t.subordinates&&t.name.length>20?"...":""),1)]),((o=t.subordinates)==null?void 0:o.length)>1?(n(),i("div",F)):h("",!0)])]),t.subordinates&&t.subordinates.length?(n(),v(b,{key:0,items:t.subordinates},null,8,["items"])):h("",!0)])}),128))]))}},b=f(L,[["__scopeId","data-v-dc884dd6"]]),U={ref:"scrollContainer mt-8",class:"m-auto col",style:{"overflow-x":"auto","background-color":"rgb(255, 255, 255)"}},M={__name:"organigrama",props:{items:{type:Array,default:()=>[]}},setup(a){const p=u();u(null),_(()=>{});const s=u([]);function r(t,o=null){const c=[];for(const l of t)if(l.boss_id===o){const g=r(t,l.id);g.length>0&&(l.subordinates=g),c.push(l)}return c}return _(async()=>{C().then(t=>{p.value=t;const o=r(t);s.value=o})}),(t,o)=>(n(),i("div",U,[I(b,{class:"pt-8",items:s.value,ref:"organigramaItem"},null,8,["items"])],512))}};export{M as default};
