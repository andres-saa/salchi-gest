import{_ as D,l as $,r as d,i as B,j as x,U as S,a as h,o as v,c as g,b as e,t as u,u as I,g as p,w as k,f as N,k as U,p as j,h as C,m as E}from"./index-f4486754.js";import"./index-558f534d.js";import"./_commonjsHelpers-23102255.js";const s=n=>(j("data-v-0d7b0a0b"),n=n(),C(),n),G={class:"container m-auto px-3"},z=s(()=>e("h4",{class:"title"},[e("i",{class:"fa-duotone fa-solid fa-person-circle-question"}),E(),e("b",null," Solicitud de Requisición")],-1)),R={style:{"text-transform":"capitalize"}},T=s(()=>e("span",null,[e("h6",null,"Sede")],-1)),A={class:"flex align-items-center"},F=["src"],L={class:"selected-option flex align-items-center"},M=["src"],H=s(()=>e("span",null,[e("h6",null,"Area de la vacante")],-1)),J=s(()=>e("h6",null,"Requiere verificacion de Gerencia?",-1)),Y={key:0},K={key:1},O=s(()=>e("span",null,[e("h6",null,"Justificacion de la requisicion")],-1)),P={style:{display:"flex","justify-content":"end",width:"100%"}},Q={__name:"requests",setup(n){function q(i=new Date){const a=i.getDate(),l=i.getMonth(),_=i.getFullYear(),m=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],c=a<10?`0${a}`:a,r=m[l];return`${c} / ${r} / ${_}`}const V=$(),y=d([]),o=d({}),f=d([]),b=d({});return B(async()=>{y.value=await x.get(`${S}/get-requisition-areas`),f.value=await x.get(`${S}/sites`)}),(i,a)=>{var c,r,w;const l=h("Dropdown"),_=h("Textarea"),m=h("Button");return v(),g("div",G,[z,e("span",null,[e("h6",R,"Solicitante: "+u((w=(r=(c=I(V))==null?void 0:c.rawUserData)==null?void 0:r.name)==null?void 0:w.toLowerCase()),1)]),e("span",null,[e("h6",null,"Fecha: "+u(q()),1)]),T,p(l,{options:f.value.filter(t=>t.show_on_web),modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=t=>b.value=t)},{option:k(t=>[e("div",A,[e("img",{style:{"aspect-ratio":"1 / 1",height:"2rem"},src:`https://backend.salchimonster.com/read-product-image/600/site-${t.option.site_id}`,class:"option-image mr-3",alt:""},null,8,F),e("span",null,u(t.option.site_name),1)])]),value:k(t=>[e("div",L,[e("img",{style:{"aspect-ratio":"1 / 1",height:"1.5rem"},src:`https://backend.salchimonster.com/read-product-image/600/site-${t.value.site_id}`,class:"selected-image mr-3",alt:""},null,8,M),e("span",null,u(t.value.site_name),1)])]),_:1},8,["options","modelValue"]),H,p(l,{options:y.value,modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=t=>o.value=t),optionLabel:"name",style:{height:"3.1rem"}},null,8,["options","modelValue"]),J,e("div",{style:U([{width:"100%",height:"4rem","border-radius":".4rem",padding:"1rem","min-height":"max-content"},o.value.validation_type_id==1?"background-color: #ff000021;":"background-color: rgb(0 255 76 / 20%)"])},[o.value.validation_type_id==1?(v(),g("h6",Y," Esta área requiere validación por parte de la Gerencia. El proceso podría extenderse, agradecemos su paciencia. ")):o.value.validation_type_id==2?(v(),g("h6",K," ¡Buenas noticias! Esta solicitud no requiere validación de Gerencia y será procesada directamente por Gestión Humana. ")):N("",!0)],4),O,p(_,{style:{width:"100%",resize:"none"},rows:"8"}),e("div",P,[p(m,{icon:"pi pi-check",style:{width:"min-content"},label:"Solicitar",severity:"help"})])])}}},ee=D(Q,[["__scopeId","data-v-0d7b0a0b"]]);export{ee as default};
