import{f as p}from"./formatoPesos-374ef498.js";import{a as F,u as z}from"./site-2ae45613.js";import{_ as R,g as I,C as D,h as L,D as O,e as k,o,c as i,a as t,F as x,r as w,t as s,m as S,u as e,j as b,n as j,x as d,f as h,b as y,p as E,k as M}from"./index-7dd807de.js";import{u as U,o as N}from"./resumen.vue_vue_type_style_index_0_scoped_0fb255f5_lang-f2e6fe7a.js";const c=g=>(E("data-v-0fb255f5"),g=g(),M(),g),$={class:"p-1 my-5 md:my-0 5g12"},q={class:"sticky-summary p-3 m-0"},A=c(()=>t("h5",null,[t("b",null,"Resumen")],-1)),G=c(()=>t("h5",null,[t("b",null,"productos")],-1)),H={class:"mb-0 pb-0 product-line"},J={class:"5g6 py-2 mb-0 m-0"},K={class:"m-0"},Q={class:"span-minwidth"},W={style:{"font-weight":"400"}},X={style:{"margin-right":".5rem"}},Y={class:"font-weight-400"},Z={class:"5g6 my-0 text-right py-2"},tt={key:0,class:"text-right"},et={key:1,class:"text-right"},ot={class:"addition-item-inner"},st={class:"text adicion"},nt={key:0,class:"pl-2 text-sm"},it=c(()=>t("div",{class:"5g12 p-0 mt-1"},null,-1)),at=c(()=>t("hr",{class:"p-0 mt-2"},null,-1)),lt={class:"summary-grid"},rt=c(()=>t("div",{class:"5g6 my-0 py-0"},[t("span",null,[t("b",null,"Subtotal")])],-1)),dt={class:"5g6 my-0 text-right py-0 text-right"},ct={class:"5g6 my-0 py-0"},ut=c(()=>t("b",null,"Domicilio",-1)),_t=[ut],pt={class:"5g6 my-0 text-right py-0 text-right"},ht={key:0,class:"primary-color"},mt={key:1},bt=c(()=>t("div",{class:"5g6 my-0 py-0"},[t("span",null,[t("b",null,"Total")])],-1)),yt={key:0,class:"5g6 my-0 text-right py-0 text-right"},gt=c(()=>t("div",null,null,-1)),vt={__name:"resumen",setup(g){const C=I(!1),l=D(),v=F(),a=z(),T=U();return I({}),L(()=>{var f;((f=T.user.payment_method_option)==null?void 0:f.id)!=7&&!l.path.includes("reservas")?a.setNeighborhoodPrice():a.setNeighborhoodPriceCero()}),O(()=>v.cart.additions,()=>{update()},{deep:!0}),(f,_)=>{var P,B;const u=k("Button"),m=k("router-link"),V=k("Tag");return o(),i("div",$,[t("div",q,[A,G,(o(!0),i(x,null,w(e(v).cart,n=>(o(),i("div",{key:n.productogeneral_id},[t("div",H,[t("div",J,[t("h6",K,[t("span",Q,"( "+s(n.pedido_cantidad)+" ) ",1),t("span",W,s(n.pedido_nombre_producto),1)]),(o(!0),i(x,null,w(n.lista_productocombo,r=>(o(),i("h6",{class:"m-0 ml-3",style:{"margin-left":"1rem"},key:r.producto_id},[S(" ( "+s(n.pedido_cantidad)+" ) ",1),t("b",X,s(parseInt(r.pedido_cantidad)),1),t("span",Y,s(r.pedido_nombre),1)]))),128))]),t("div",Z,[n.modificadorseleccionList.length<1?(o(),i("h6",tt,s(e(p)(n.pedido_precio*n.pedido_cantidad)),1)):(o(),i("h6",et,s(e(p)(n.pedido_base_price*n.pedido_cantidad)),1))])]),(o(!0),i(x,null,w(n.modificadorseleccionList,r=>(o(),i("div",{class:"addition-item",key:r},[t("div",ot,[t("span",st,[t("span",null,[t("b",null,"- ( "+s(n.pedido_cantidad)+" ) "+s(r.modificadorseleccion_cantidad/n.pedido_cantidad),1)]),S(" "+s(r.modificador_nombre),1)]),r.pedido_precio>0?(o(),i("span",nt,[t("b",null,s(e(p)(r.pedido_precio*r.modificadorseleccion_cantidad)),1)])):b("",!0)])]))),128))]))),128)),it,at,t("div",lt,[rt,t("div",dt,[t("span",null,[t("b",null,s(e(p)(e(v).cartTotal)),1)])]),t("div",ct,[t("span",{style:j(e(a).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},_t,4)]),t("div",pt,[e(a).location.neigborhood.delivery_price==0?(o(),i("span",ht,[t("b",null,s(e(l).path.includes("reservas")?"Ir a la sede":"Recoger en local"),1)])):e(a).location.neigborhood.delivery_price?(o(),i("span",mt,[t("b",null,s(e(p)(e(a).location.neigborhood.delivery_price)),1)])):b("",!0)]),bt,e(a).location.neigborhood.delivery_price?(o(),i("div",yt,[t("span",null,[t("b",null,s(e(p)(e(v).cartTotal+e(a).location.neigborhood.delivery_price)),1)])])):(o(),d(u,{key:1,onClick:_[0]||(_[0]=n=>e(a).visibles.currentSite=!0),label:"Calcular mi domicilio",style:{"min-width":"max-content"}}))]),e(l).path.includes("cart")?(o(),d(m,{key:0,to:"/call-center-vender"},{default:h(()=>[y(u,{outlined:"",icon:"pi pi-shopping-cart",label:"Volver al menu'",class:"mt-4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):e(l).path!="/reservas"?(o(),d(m,{key:1,to:"/call-center-vender/cart"},{default:h(()=>[y(u,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"mt-4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):b("",!0),((P=e(a).status)==null?void 0:P.status)=="closed"&&e(l).path!="/reservas"?(o(),d(V,{key:2,class:"mt-2 tag-fullheight",severity:"danger"},{default:h(()=>[S(" Cerrado, abre a las "+s(e(a).status.next_opening_time),1)]),_:1})):b("",!0),gt,e(l).path.includes("cart")&&((B=e(a).status)==null?void 0:B.status)!=="closed"&&e(l).path=="/reservas"?(o(),d(m,{key:3,to:"/pay"},{default:h(()=>[y(u,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):e(l).path.includes("reservas")?(o(),d(m,{key:4,to:"/pay"},{default:h(()=>[y(u,{onClick:_[1]||(_[1]=()=>{e(N).sendOrderReserva(),C.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):e(l).path=="/call-center-vender/cart"?(o(),d(m,{key:5,to:"/call-center-vender/pay"},{default:h(()=>[y(u,{iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):e(l).path=="/call-center-vender/pay"?(o(),d(u,{key:6,onClick:_[2]||(_[2]=()=>{e(N).sendOrder(),C.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})):b("",!0)])])}}},St=R(vt,[["__scopeId","data-v-0fb255f5"]]);export{St as r};
