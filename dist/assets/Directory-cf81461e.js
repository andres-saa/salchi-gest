import{s as L}from"./siteService-dbe3b9ff.js";import{_ as te,f,h as se,g as oe,U as h,r as O,o as c,c as u,a as e,d as i,w as _,t as p,k as V,J as Z,n as g,V as we,F as P,p as ae,e as ie,x as be,l as N,b as B}from"./index-9a9a1d69.js";import{u as le}from"./directorio-36716731.js";const ee=U=>(ae("data-v-96e5c673"),U=U(),ie(),U),xe={class:"p-0",style:{"border-radius":"1rem"}},ke={class:"p-1"},Le=ee(()=>e("span",{class:"p-column-title"},"Code",-1)),Se=ee(()=>e("span",{class:"p-column-title"},"Code",-1)),Ce={class:"col-12 px-1",style:{display:"flex",position:"relative","align-items":"center",gap:"0.5rem","justify-content":"end"}},De={key:0,class:"fa-solid fa-pen-to-square mr-2"},Ve={key:1,class:"fa-solid fa-rotate-right mr-2"},$e=ee(()=>e("i",{class:"fa-solid fa-floppy-disk mr-2"},null,-1)),Ee={__name:"horarios",setup(U){const S=f(!1),a=()=>{S.value&&m().then(w=>I.value=w),S.value=!S.value},W=f(!1),I=f([]),J=f(!1),z=le();se(()=>{m().then(w=>I.value=w)}),oe(()=>z.currentSite,w=>{m().then(q=>I.value=q)});const m=async()=>{J.value=!0,localStorage.getItem("siteId");try{const w=await fetch(`${h}/site-schedule/${z.currentSite.site_id}/`);if(!w.ok)throw"paila";const q=await w.json();return q.forEach(y=>{y.opening_time=new Date(`1970-01-01T${y.opening_time}`),y.closing_time=new Date(`1970-01-01T${y.closing_time}`)}),J.value=!1,q}catch(w){J.value=!1,console.log(w)}};f("");const R=async()=>{W.value=!0;try{const w=I.value.map(y=>{const j=y.opening_time instanceof Date?y.opening_time.toLocaleTimeString():y.opening_time,C=y.closing_time instanceof Date?y.closing_time.toLocaleTimeString():y.closing_time;return{...y,opening_time:j.split(" ")[0],closing_time:C.split(" ")[0]}});if(!(await fetch(`${h}/site-schedule/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)})).ok)throw"Error al enviar los datos";S.value=!1,W.value=!1}catch(w){console.log(w),W.value=!1}},$=f(["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"]);return(w,q)=>{const y=O("Column"),j=O("Calendar"),C=O("DataTable"),G=O("Button");return c(),u(P,null,[e("div",xe,[i(C,{ref:"dt",class:"",value:I.value,dataKey:"id",style:{border:"1rem",overflow:"hidden"},rows:7,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25,100],currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} scheldules",responsiveLayout:"scroll",scrollable:""},{default:_(()=>[i(y,{class:"p-0",field:"day_of_week",header:"Dia",headerStyle:"width:1rem; min-width:1rem;"},{body:_(T=>{var b;return[e("span",ke,p((b=$.value[T.data.day_of_week-1])==null?void 0:b.slice(0,3)),1)]}),_:1}),i(y,{class:"p-0",field:"opening_time",header:"Abre",headerStyle:"width:2rem; min-width:2rem;"},{body:_(T=>[Le,i(j,{class:"p-0",disabled:!S.value,hourFormat:"12",timeOnly:"",modelValue:T.data.opening_time,"onUpdate:modelValue":b=>T.data.opening_time=b},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1}),i(y,{class:"p-1",field:"closing_time",header:"Cierra",headerStyle:"width:2rem; min-width:2rem;"},{body:_(T=>[Se,i(j,{disabled:!S.value,hourFormat:"12",timeOnly:"",modelValue:T.data.closing_time,"onUpdate:modelValue":b=>T.data.closing_time=b},null,8,["disabled","modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value"])]),e("div",Ce,[i(G,{severity:S.value?"help":"info",onClick:a,size:"small",class:"",style:{transition:"all  .5s","min-width":"max-content","align-items":"","font-weight":"bold","border-radius":"0.5rem"}},{default:_(()=>[S.value?(c(),u("i",Ve)):(c(),u("i",De)),V(" "+p(S.value?"Restablecer":"Modificar horario"),1)]),_:1},8,["severity","onClick"]),i(we,{name:"fade"},{default:_(()=>[S.value?(c(),Z(G,{key:0,size:"small",severity:"success",onClick:R,style:{"font-weight":"bold","min-height":"max-content","border-radius":"0.5rem"},class:""},{default:_(()=>[$e,V(" Guardar")]),_:1})):g("",!0)]),_:1})])],64)}}},Ne=te(Ee,[["__scopeId","data-v-96e5c673"]]);const n=U=>(ae("data-v-5e9e4690"),U=U(),ie(),U),Ue={class:"field col-12 pb-0 px-0"},je=n(()=>e("label",{for:"appName"},"Nombre de la aplicación",-1)),Te={class:"field col-12 pb-0 px-0"},Ae=n(()=>e("label",{for:"username"},"Nombre de usuario",-1)),Pe={class:"field col-12 pb-0 px-0"},Oe=n(()=>e("label",{for:"password"},"Contraseña",-1)),qe={class:"field col-12 pb-0 px-0"},Ie=n(()=>e("label",{for:"pageName"},"Nombre de la página",-1)),Be={class:"field col-12 pb-0 px-0"},Re=n(()=>e("label",{for:"username"},"Nombre de usuario",-1)),Fe={class:"field col-12 pb-0 px-0"},We=n(()=>e("label",{for:"password"},"Contraseña",-1)),Je={class:"field col-12 pb-0 px-0"},Me=n(()=>e("label",{for:"uniqueCode"},"Código único",-1)),He={class:"field col-12 pb-0 px-0"},ze=n(()=>e("label",{for:"externalCode"},"Código externo",-1)),Ge={class:"field col-12 pb-0 px-0"},Ke=n(()=>e("label",{for:"wifiUsername"},"Nombre de usuario",-1)),Qe={class:"field col-12 pb-0 px-0"},Xe=n(()=>e("label",{for:"wifiPassword"},"Contraseña",-1)),Ye={class:"field col-12 pb-0 px-0"},Ze=n(()=>e("label",{for:"username"},"Nombre de usuario",-1)),et={class:"field col-12 pb-0 px-0"},tt=n(()=>e("label",{for:"password"},"Contraseña",-1)),st={class:"field col-12 pb-0 px-0"},ot=n(()=>e("label",{for:"boxName"},"Nombre de la caja",-1)),at={class:"field col-12 pb-0 px-0"},it=n(()=>e("label",{for:"password"},"Contraseña",-1)),lt={class:"col-12 mx-auto md:shadow-3 my-4 md:p-3 p-0",style:{"max-width":"600px","border-radius":"1rem"}},nt=n(()=>e("p",{class:"p-3 text-2xl text-center",style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-folder-open"}),V(" Directorio")],-1)),rt={class:"p-0",style:{overflow:"hidden"}},dt={class:"col-12 p-0 my-5"},ct=["src"],ut={class:"field col-12 pb-0 px-0 col-12 mt-2 mb-6 p-0",style:{display:"flex","justify-content":"end",gap:"1rem"}},pt=n(()=>e("i",{class:"fa-solid fa-camera"},null,-1)),mt=n(()=>e("i",{class:"fa-solid fa-spinner"},null,-1)),ft=n(()=>e("i",{class:"fa-solid fa-floppy-disk"},null,-1)),_t={class:"grid p-0 m-0",style:{}},vt=n(()=>e("p",{class:"text-xl mb-1 col-12",style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-circle-info mr-3"}),V(" INFORMACION BASICA")],-1)),ht={style:{"overflow-x":"auto"},class:"py-3 md:py-0"},yt={class:"p-0"},gt={style:{"font-weight":"bold","min-width":"10rem"}},wt={key:0,class:"",style:{"min-width":"max-content"}},bt=["href"],xt=n(()=>e("div",{class:"col-12 p-0 my-4",style:{display:"flex","justify-content":"start","align-items":"center"}},[e("div",{style:{"background-color":"#a855f7",height:"0.3rem","border-radius":"0 1rem 1rem 0",width:"100%"}})],-1)),kt={class:"col-12 mt-4 mb-1 col-12",style:{"background-color":"#f6f7c1","border-radius":"0.5rem",position:"relative"}},Lt={class:"text-xl p-0 mb-1 col-12",style:{display:"flex","justify-content":"space-between"}},St=n(()=>e("p",{style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-video mr-3"}),V(" CAMARAS")],-1)),Ct=n(()=>e("i",{class:"fa-solid fa-plus text-xl"},null,-1)),Dt={style:{display:"flex","align-items":"center",gap:"1rem"}},Vt={class:"p-0"},$t={style:{"font-weight":"bold","min-width":"10rem"}},Et={key:0,class:"",style:{"min-width":"max-content"}},Nt={style:{display:"flex","align-items":"center",gap:"1rem"}},Ut={class:"p-0"},jt={style:{"font-weight":"bold","min-width":"10rem"}},Tt={key:0,class:"",style:{"min-width":"max-content"}},At={class:"col-12 mt-4 mb-1 col-12",style:{"background-color":"#84e4ff",position:"relative","border-radius":"0.5rem"}},Pt={class:"text-xl p-0 mb-1 col-12",style:{display:"flex","justify-content":"space-between"}},Ot=n(()=>e("p",{style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-shield mr-3"}),V(" CAJAS FUERTES")],-1)),qt=n(()=>e("i",{class:"fa-solid fa-plus text-xl"},null,-1)),It={style:{"overflow-x":"auto"}},Bt={style:{display:"flex","align-items":"center",gap:"1rem"}},Rt={class:"p-0"},Ft={style:{"font-weight":"bold","min-width":"10rem"}},Wt={key:0,class:"",style:{"min-width":"max-content"}},Jt={style:{display:"flex","align-items":"center",gap:"1rem"}},Mt={class:"p-0"},Ht={style:{"font-weight":"bold","min-width":"10rem"}},zt={key:0,class:"",style:{"min-width":"max-content"}},Gt={class:"col-12 mt-4 mb-1 col-12",style:{"background-color":"#d0f5be",position:"relative","border-radius":"0.5rem"}},Kt={class:"text-xl p-0 mb-1 col-12",style:{display:"flex","justify-content":"space-between"}},Qt=n(()=>e("p",{style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-wifi mr-3"}),V(" WIFI'S")],-1)),Xt=n(()=>e("i",{class:"fa-solid fa-plus text-xl"},null,-1)),Yt={style:{"overflow-x":"auto"}},Zt={style:{display:"flex","align-items":"center",gap:"1rem"}},es=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Nombre:")],-1)),ts={key:0,class:"",style:{"min-width":"max-content"}},ss={style:{display:"flex","align-items":"center",gap:"1rem"}},os=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Clave:")],-1)),as={key:0,class:"",style:{"min-width":"max-content"}},is={class:"col-12 mt-4 mb-1 col-12",style:{"background-color":"#e7ceff",position:"relative","border-radius":"0.5rem"}},ls={class:"text-xl p-0 mb-1 col-12",style:{display:"flex","justify-content":"space-between"}},ns=n(()=>e("p",{style:{"font-weight":"bold"}},[e("i",{class:"fa-regular fa-credit-card mr-3"}),V(" DATAFONOS")],-1)),rs=n(()=>e("i",{class:"fa-solid fa-plus text-xl"},null,-1)),ds={style:{display:"flex","align-items":"center",gap:"1rem"}},cs={class:"p-0"},us={style:{"font-weight":"bold","min-width":"10rem"}},ps={key:0,class:"",style:{"min-width":"max-content"}},ms={style:{display:"flex","align-items":"center",gap:"1rem"}},fs={class:"p-0"},_s={style:{"font-weight":"bold","min-width":"10rem"}},vs={key:0,class:"",style:{"min-width":"max-content"}},hs={class:"col-12 mt-4 mb-1 col-12",style:{"background-color":"rgb(237 120 85 / 43%)","border-radius":"0.5rem",position:"relative"}},ys={class:"text-xl p-0 mb-1 col-12",style:{display:"flex","justify-content":"space-between"}},gs=n(()=>e("p",{style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-paper-plane mr-3"}),V(" PAGINAS WEB")],-1)),ws=n(()=>e("i",{class:"fa-solid fa-plus text-xl"},null,-1)),bs={style:{display:"flex","align-items":"center",gap:"1rem"}},xs=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Nombre :")],-1)),ks={key:0,class:"",style:{"min-width":"max-content"}},Ls={style:{display:"flex","align-items":"center",gap:"1rem"}},Ss=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Usuario:")],-1)),Cs={key:0,class:"",style:{"min-width":"max-content"}},Ds={style:{display:"flex","align-items":"center",gap:"1rem"}},Vs=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Clave:")],-1)),$s={key:0,class:"",style:{"min-width":"max-content"}},Es={class:"col-12 mt-4 mb-1 col-12",style:{"background-color":"#ddedea","border-radius":"0.5rem",position:"relative"}},Ns={class:"text-xl p-0 mb-1 col-12",style:{display:"flex","justify-content":"space-between"}},Us=n(()=>e("p",{style:{"font-weight":"bold"}},[e("i",{class:"fa-brands fa-app-store-ios mr-3"}),V("APLICACIONES")],-1)),js=n(()=>e("i",{class:"fa-solid fa-plus text-xl"},null,-1)),Ts={style:{display:"flex","align-items":"center",gap:"1rem"}},As=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Nombre :")],-1)),Ps={key:0,class:"",style:{"min-width":"max-content"}},Os={style:{display:"flex","align-items":"center",gap:"1rem"}},qs=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Usuario:")],-1)),Is={key:0,class:"",style:{"min-width":"max-content"}},Bs={style:{display:"flex","align-items":"center",gap:"1rem"}},Rs=n(()=>e("div",{class:"p-0"},[e("p",{style:{"font-weight":"bold","min-width":"10rem"}},"Clave:")],-1)),Fs={key:0,class:"",style:{"min-width":"max-content"}},Ws=n(()=>e("div",{class:"col-12 p-0 my-4",style:{display:"flex","justify-content":"start","align-items":"center"}},[e("div",{style:{"background-color":"#ef4444",height:"0.3rem","border-radius":"0 1rem 1rem 0",width:"100%"}})],-1)),Js=n(()=>e("p",{class:"text-xl mb-1 col-12",style:{"font-weight":"bold"}},[e("i",{class:"fa-solid fa-clock mr-3"}),V(" HORARIO")],-1)),Ms={class:"col-12"},Hs={__name:"Directory",setup(U){const S=f(),a=be(),W=l=>{confirm("¿Estás seguro de que quieres eliminar esta red Wi-Fi?")&&I(l)},I=l=>{a.setLoading(!0,"borrando");const o=`${h}/site/${r.currentSite.site_id}/wifi-network/${l}`;fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw a.setLoading(!1,"borrando"),new Error("Network response was not ok");return t.json()}).then(()=>{a.setLoading(!1,"borrando"),L.siteDirectory(r.currentSite.site_id).then(t=>m.value=t)}).catch(t=>{a.setLoading(!1,"borrando"),console.error("Error:",t)})},J=l=>{confirm("¿Estás seguro de que quieres eliminar esta caja fuerte?")&&z(l)},z=l=>{a.setLoading(!0,"borrando");const o=`${h}/site/${r.currentSite.site_id}/safe-box/${l}`;fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw a.setLoading(!1,"enviando"),new Error("Network response was not ok");return t.json()}).then(()=>{a.setLoading(!1,"enviando"),L.siteDirectory(r.currentSite.site_id).then(t=>m.value=t)}).catch(t=>{a.setLoading(!1,"enviando"),console.error("Error:",t)})},m=f({}),R=f(!1),$=f({username:"",password:""}),w=()=>{if(a.setLoading(!0,"enviando"),!$.value.username||!$.value.password){alert("Por favor, completa todos los campos.");return}const l={site_id:r.currentSite.site_id,username:$.value.username,password:$.value.password},o=`${h}/site/camera`;fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return a.setLoading(!1,"enviando"),t.json()}).then(t=>{console.log("Success:",t),R.value=!1,L.siteDirectory(r.currentSite.site_id).then(d=>m.value=d),a.setLoading(!1,"enviando")}).catch(t=>{a.setLoading(!1,"enviando"),console.error("Error:",t)})},q=l=>{confirm("¿Estás seguro de que quieres eliminar este datáfono?")&&y(l)},y=l=>{a.setLoading(!0,"borrando");const o=`${h}/site/${r.currentSite.site_id}/dataphone/${l}`;fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw a.setLoading(!1,"borrando"),new Error("Network response was not ok");return t.json()}).then(()=>{a.setLoading(!1,"enviando"),L.siteDirectory(r.currentSite.site_id).then(t=>m.value=t)}).catch(t=>{a.setLoading(!1,"enviando"),console.error("Error:",t)})},j=f(!1),C=f({boxName:"",password:""}),G=l=>{confirm("¿Estás seguro de que quieres eliminar esta aplicación?")&&T(l)},T=l=>{a.setLoading(!0,"borrando");const o=`${h}/site/${r.currentSite.site_id}/application/${l}`;fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return a.setLoading(!1,"enviando"),t.json()}).then(()=>{a.setLoading(!1,"enviando"),L.siteDirectory(r.currentSite.site_id).then(t=>m.value=t)}).catch(t=>{console.error("Error:",t)})},b=f(null),F=f(""),ne=l=>{const o=l.target.files[0];o&&(console.log("Archivo seleccionado:",o),b.value=o,F.value=URL.createObjectURL(o))},re=()=>{if(a.setLoading(!0,"enviando"),!C.value.boxName||!C.value.password){alert("Por favor, completa todos los campos.");return}const l={site_id:r.currentSite.site_id,box_name:C.value.boxName,password:C.value.password},o=`${h}/site/safe-box`;fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(t=>{if(a.setLoading(!1,"enviando"),!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{a.setLoading(!1,"enviando"),console.log("Success:",t),L.siteDirectory(r.currentSite.site_id).then(d=>m.value=d),j.value=!1,C.value.boxName="",C.value.password=""}).catch(t=>{a.setLoading(!1,"enviando"),console.error("Error:",t)})},K=f(!1),E=f({username:"",password:""}),de=()=>{if(a.setLoading(!0,"enviando"),!E.value.username||!E.value.password){alert("Por favor, completa todos los campos.");return}const l={site_id:r.currentSite.site_id,username:E.value.username,password:E.value.password},o=`${h}/site/wifi-network`;fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(t=>{if(!t.ok)throw a.setLoading(!1,"enviando"),new Error("Network response was not ok");return t.json()}).then(t=>{a.setLoading(!1,"enviando"),console.log("Success:",t),K.value=!1,E.value.username="",E.value.password="",L.siteDirectory(r.currentSite.site_id).then(d=>m.value=d)}).catch(t=>{a.setLoading(!1,"enviando"),console.error("Error:",t)})},ce=l=>{confirm("¿Estás seguro de que quieres eliminar esta página web?")&&ue(l)},ue=l=>{a.setLoading(!0,"borrando");const o=`${h}/site/${r.currentSite.site_id}/web-page/${l}`;fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw a.setLoading(!1,"borrando"),new Error("Network response was not ok");return t.json()}).then(()=>{a.setLoading(!1,"borrando"),L.siteDirectory(r.currentSite.site_id).then(t=>m.value=t)}).catch(t=>{a.setLoading(!1,"borrando"),console.error("Error:",t)})},Q=f(!1),A=f({unique_code:"",external_code:""}),pe=()=>{if(a.setLoading(!0,"enviando"),!A.value.unique_code){alert("Por favor, completa todos los campos.");return}const l={site_id:r.currentSite.site_id,unique_code:A.value.unique_code,external_code:A.value.external_code},o=`${h}/site/dataphone`;fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(t=>{if(!t.ok)throw a.setLoading(!1,"borrando"),new Error("Network response was not ok");return t.json()}).then(t=>{a.setLoading(!1,"borrando"),console.log("Success:",t),Q.value=!1,L.siteDirectory(r.currentSite.site_id).then(d=>m.value=d)}).catch(t=>{a.setLoading(!1,"borrando"),console.error("Error:",t)}),A.value.unique_code="",A.value.external_code=""},me=l=>{confirm("¿Estás seguro de que quieres eliminar esta cámara?")&&fe(l)},fe=l=>{a.setLoading(!0,"borrando");const o=`${h}/site/${r.currentSite.site_id}/camera/${l}`;fetch(o,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>{if(!t.ok)throw a.setLoading(!1,"enviando"),new Error("Network response was not ok");return t.json()}).then(()=>{a.setLoading(!1,"enviando"),L.siteDirectory(r.currentSite.site_id).then(t=>m.value=t)}).catch(t=>{console.error("Error:",t)})},X=f(!1),x=f({page:"",username:"",password:""}),_e=()=>{if(a.setLoading(!0,"enviando"),!x.value.page||!x.value.username||!x.value.password){alert("Por favor, completa todos los campos.");return}const l={site_id:r.currentSite.site_id,page:x.value.page,username:x.value.username,password:x.value.password},o=`${h}/siteweb-page`;fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(t=>{if(!t.ok)throw a.setLoading(!1,"borrando"),new Error("Network response was not ok");return t.json()}).then(t=>{a.setLoading(!1,"borrando"),console.log("Success:",t),X.value=!1,L.siteDirectory(r.currentSite.site_id).then(d=>m.value=d)}).catch(t=>{a.setLoading(!1,"borrando"),console.error("Error:",t)}),x.value.page="",x.value.username="",x.value.password=""},Y=f(!1),k=f({name:"",username:"",password:""}),ve=()=>{if(a.setLoading(!0,"enviando"),!k.value.name||!k.value.username||!k.value.password){alert("Por favor, completa todos los campos.");return}const l={site_id:r.currentSite.site_id,name:k.value.name,username:k.value.username,password:k.value.password},o=`${h}/site/application`;fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(t=>{if(a.setLoading(!1,"borrando"),!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{a.setLoading(!1,"borrando"),console.log("Success:",t),Y.value=!1,L.siteDirectory(r.currentSite.site_id).then(d=>m.value=d)}).catch(t=>{a.setLoading(!1,"borrando"),console.error("Error:",t)}),k.value.name="",k.value.username="",k.value.password=""},he=[{label:"Nombre",value:"site_name"},{label:"Direccion",value:"site_address"},{label:"Telefono",value:"site_phone"},{label:"Correo",value:"email_address"},{label:"Link de WhatsApp",value:"wsp_link",isLink:!0},{label:"Link de Maps",value:"maps",isLink:!0}],r=le();f(r.currentSite),se(async()=>{await L.getSites().then(l=>S.value=l),await L.siteDirectory(r.currentSite.site_id).then(l=>m.value=l),r.currentSite||r.setSite(S.value[0]),F.value=`${h}/read-product-image/600/site-${r.currentSite.site_id}`,b=""});function ye(l,o){const t=`${h}/upload-product-image/site-${o}`;a.setLoading(!0,"sibiendo imagen");const d=new FormData;d.append("file",l),fetch(t,{method:"POST",body:d}).then(D=>{D.ok?(console.log("Archivo photo cargado con éxito"),b.value="",a.setLoading(!1,"sibiendo imagen")):(console.error("Error al cargar foto de perfil:",D.status,D.statusText),a.setLoading(!1,"sibiendo imagen"))}).catch(D=>{console.error("Error en la solicitud:",D),a.setLoading(!1,"sibiendo imagen")})}return oe(()=>r.currentSite,l=>{a.setLoading(!0,`cargando información de ${l.site_name}`),a.setLoading(!1),L.siteDirectory(r.currentSite.site_id).then(o=>m.value=o),F.value=`${h}/read-product-image/600/site-${r.currentSite.site_id}`,b.value=""}),(l,o)=>{const t=O("InputText"),d=O("Button"),D=O("Dialog"),ge=O("Dropdown"),M=O("Divider");return c(),u(P,null,[i(D,{header:"Agregar nueva aplicación",visible:Y.value,"onUpdate:visible":o[3]||(o[3]=s=>Y.value=s),modal:"",style:{width:"450px"}},{default:_(()=>[e("div",Ue,[je,i(t,{class:"col-12",id:"appName",modelValue:k.value.name,"onUpdate:modelValue":o[0]||(o[0]=s=>k.value.name=s)},null,8,["modelValue"])]),e("div",Te,[Ae,i(t,{class:"col-12",id:"username",modelValue:k.value.username,"onUpdate:modelValue":o[1]||(o[1]=s=>k.value.username=s)},null,8,["modelValue"])]),e("div",Pe,[Oe,i(t,{class:"col-12",id:"password",type:"password",modelValue:k.value.password,"onUpdate:modelValue":o[2]||(o[2]=s=>k.value.password=s)},null,8,["modelValue"])]),i(d,{label:"Agregar",severity:"success",onClick:ve})]),_:1},8,["visible"]),i(D,{header:"Agregar nueva página web",visible:X.value,"onUpdate:visible":o[7]||(o[7]=s=>X.value=s),modal:"",style:{width:"450px"}},{default:_(()=>[e("div",qe,[Ie,i(t,{class:"col-12",id:"pageName",modelValue:x.value.page,"onUpdate:modelValue":o[4]||(o[4]=s=>x.value.page=s)},null,8,["modelValue"])]),e("div",Be,[Re,i(t,{class:"col-12",id:"username",modelValue:x.value.username,"onUpdate:modelValue":o[5]||(o[5]=s=>x.value.username=s)},null,8,["modelValue"])]),e("div",Fe,[We,i(t,{class:"col-12",id:"password",type:"password",modelValue:x.value.password,"onUpdate:modelValue":o[6]||(o[6]=s=>x.value.password=s)},null,8,["modelValue"])]),i(d,{label:"Agregar",severity:"success",onClick:_e})]),_:1},8,["visible"]),i(D,{header:"Agregar nuevo datáfono",visible:Q.value,"onUpdate:visible":o[10]||(o[10]=s=>Q.value=s),modal:"",style:{width:"450px"}},{default:_(()=>[e("div",Je,[Me,i(t,{class:"col-12",id:"uniqueCode",modelValue:A.value.unique_code,"onUpdate:modelValue":o[8]||(o[8]=s=>A.value.unique_code=s)},null,8,["modelValue"])]),e("div",He,[ze,i(t,{class:"col-12",id:"externalCode",modelValue:A.value.external_code,"onUpdate:modelValue":o[9]||(o[9]=s=>A.value.external_code=s)},null,8,["modelValue"])]),i(d,{label:"Agregar",severity:"success",onClick:pe})]),_:1},8,["visible"]),i(D,{header:"Agregar nueva red WiFi",visible:K.value,"onUpdate:visible":o[13]||(o[13]=s=>K.value=s),modal:"",style:{width:"450px"}},{default:_(()=>[e("div",Ge,[Ke,i(t,{class:"col-12",id:"wifiUsername",modelValue:E.value.username,"onUpdate:modelValue":o[11]||(o[11]=s=>E.value.username=s)},null,8,["modelValue"])]),e("div",Qe,[Xe,i(t,{class:"col-12",id:"wifiPassword",modelValue:E.value.password,"onUpdate:modelValue":o[12]||(o[12]=s=>E.value.password=s),type:"password"},null,8,["modelValue"])]),i(d,{label:"Agregar",severity:"success",onClick:de})]),_:1},8,["visible"]),i(D,{header:"Agregar nueva cámara",visible:R.value,"onUpdate:visible":o[16]||(o[16]=s=>R.value=s),modal:"",style:{width:"450px"},closable:!0,showHeader:!0},{default:_(()=>[e("div",Ye,[Ze,i(t,{class:"col-12",id:"username",modelValue:$.value.username,"onUpdate:modelValue":o[14]||(o[14]=s=>$.value.username=s)},null,8,["modelValue"])]),e("div",et,[tt,i(t,{class:"col-12",id:"password",modelValue:$.value.password,"onUpdate:modelValue":o[15]||(o[15]=s=>$.value.password=s)},null,8,["modelValue"])]),i(d,{label:"Agregar",severity:"success",onClick:w})]),_:1},8,["visible"]),i(D,{header:"Agregar nueva caja fuerte",visible:j.value,"onUpdate:visible":o[19]||(o[19]=s=>j.value=s),modal:"",style:{width:"450px"}},{default:_(()=>[e("div",st,[ot,i(t,{class:"col-12",id:"boxName",modelValue:C.value.boxName,"onUpdate:modelValue":o[17]||(o[17]=s=>C.value.boxName=s)},null,8,["modelValue"])]),e("div",at,[it,i(t,{class:"col-12",id:"password",modelValue:C.value.password,"onUpdate:modelValue":o[18]||(o[18]=s=>C.value.password=s),type:"password"},null,8,["modelValue"])]),i(d,{label:"Agregar",severity:"success",onClick:re})]),_:1},8,["visible"]),e("div",lt,[nt,e("div",rt,[i(ge,{modelValue:N(r).currentSite,"onUpdate:modelValue":o[20]||(o[20]=s=>N(r).currentSite=s),options:S.value,optionLabel:"site_name",style:{"max-width":"30rem"},class:"col-12 p-0 md:col-4 md:m-3",placeholder:"Sede"},null,8,["modelValue","options"]),e("div",dt,[e("img",{class:"img-profile-add p-0",style:{width:"100%","border-radius":"1rem","object-fit":"cover","aspect-ratio":"4 / 3","background-color":"#84e4ff"},src:F.value?F.value:`${N(h)}/read-product-image/600/site-${N(r).currentSite.site_id}`,alt:""},null,8,ct),e("div",ut,[e("input",{ref:"fileInput",type:"file",accept:"image/*",onChange:ne,style:{display:"none"}},null,544),i(d,{severity:"info",class:"",style:{width:"min-content"},onClick:o[21]||(o[21]=s=>{l.$refs.fileInput.click()})},{default:_(()=>[pt]),_:1}),b.value?(c(),Z(d,{key:0,severity:"help",class:"",style:{width:"min-content"},onClick:o[22]||(o[22]=()=>{F.value=`${N(h)}/read-product-image/600/site-${N(r).currentSite.site_id}`,b.value=""})},{default:_(()=>[mt]),_:1})):g("",!0),b.value?(c(),Z(d,{key:1,severity:"success",class:"",style:{width:"min-content"},onClick:o[23]||(o[23]=s=>ye(b.value,N(r).currentSite.site_id))},{default:_(()=>[ft]),_:1})):g("",!0)])]),e("div",_t,[vt,e("div",ht,[(c(),u(P,null,B(he,(s,v)=>e("div",{key:v,class:"my-0 p-3 py-0",style:{display:"flex","align-items":"center",gap:"1rem"}},[e("div",yt,[e("p",gt,p(s.label)+":",1)]),s.isLink?(c(),u("a",{key:1,class:"",style:{"min-width":"max-content"},href:N(r).currentSite[s.value]},p(N(r).currentSite[s.value]),9,bt)):(c(),u("div",wt,p(N(r).currentSite[s.value]),1))])),64))]),xt,e("div",kt,[e("div",Lt,[St,i(d,{onClick:o[24]||(o[24]=s=>R.value=!0),class:"p-0",rounded:"",style:{"aspect-ratio":"1 / 1",display:"flex","align-items":"center","justify-content":"center",width:"3rem",height:"3rem"},severity:"warning"},{default:_(()=>[Ct]),_:1})]),(c(!0),u(P,null,B(m.value.cameras,(s,v)=>(c(),u("div",{key:v,class:"my-0 col-12 py-0",style:{}},[i(d,{text:"",style:{position:"absolute",right:"1rem"},icon:"fa-solid fa-trash-can",class:"p-button-rounded p-button-danger p-0 text-2xl text-2xl",onClick:H=>me(s.camera_id)},null,8,["onClick"]),e("div",Dt,[e("div",Vt,[e("p",$t,"Usuario "+p(v+1)+":",1)]),s.isLink?g("",!0):(c(),u("div",Et,p(s.username),1))]),e("div",Nt,[e("div",Ut,[e("p",jt,"Clave "+p(v+1)+":",1)]),s.isLink?g("",!0):(c(),u("div",Tt,p(s.password),1))]),i(M,{class:"p-0 m-1"})]))),128))]),e("div",At,[e("div",Pt,[Ot,i(d,{onClick:o[25]||(o[25]=s=>j.value=!0),class:"p-0",rounded:"",style:{"aspect-ratio":"1 / 1",display:"flex","align-items":"center","justify-content":"center",width:"3rem",height:"3rem"},severity:"warning"},{default:_(()=>[qt]),_:1})]),e("div",It,[(c(!0),u(P,null,B(m.value.safe_boxes,(s,v)=>(c(),u("div",{key:v,class:"my-0 col-12 py-0",style:{}},[i(d,{style:{position:"absolute",right:"1rem"},icon:"fa-solid fa-trash-can",text:"",class:"p-button-rounded p-button-danger p-0 text-2xl",onClick:H=>J(s.safe_box_id)},null,8,["onClick"]),e("div",Bt,[e("div",Rt,[e("p",Ft,"Usuario "+p(v+1)+":",1)]),s.isLink?g("",!0):(c(),u("div",Wt,p(s.box_name),1))]),e("div",Jt,[e("div",Mt,[e("p",Ht,"Clave "+p(v+1)+":",1)]),s.isLink?g("",!0):(c(),u("div",zt,p(s.password),1))]),i(M,{class:"p-0 m-1"})]))),128))])]),e("div",Gt,[e("div",Kt,[Qt,i(d,{onClick:o[26]||(o[26]=s=>K.value=!0),class:"p-0",rounded:"",style:{"aspect-ratio":"1 / 1",display:"flex","align-items":"center","justify-content":"center",width:"3rem",height:"3rem"},severity:"warning"},{default:_(()=>[Xt]),_:1})]),e("div",Yt,[(c(!0),u(P,null,B(m.value.wifi_networks,(s,v)=>(c(),u("div",{style:{},key:v,class:"my-0 col-12 py-0"},[i(d,{style:{position:"absolute",right:"1rem"},icon:"fa-solid fa-trash-can",text:"",class:"p-button-rounded p-button-danger p-0 text-2xl",onClick:H=>W(s.wifi_id)},null,8,["onClick"]),e("div",Zt,[es,s.isLink?g("",!0):(c(),u("div",ts,p(s.username),1))]),e("div",ss,[os,s.isLink?g("",!0):(c(),u("div",as,p(s.password),1))]),i(M,{class:"p-0 m-1"})]))),128))])]),e("div",is,[e("div",ls,[ns,i(d,{onClick:o[27]||(o[27]=s=>Q.value=!0),class:"p-0",rounded:"",style:{"aspect-ratio":"1 / 1",display:"flex","align-items":"center","justify-content":"center",width:"3rem",height:"3rem"},severity:"warning"},{default:_(()=>[rs]),_:1})]),(c(!0),u(P,null,B(m.value.dataphones,(s,v)=>(c(),u("div",{key:v,class:"my-0 col-12 py-0",style:{}},[i(d,{style:{position:"absolute",right:"1rem"},icon:"fa-solid fa-trash-can",text:"",class:"p-button-rounded p-button-danger p-0 text-2xl",onClick:H=>q(s.dataphone_id)},null,8,["onClick"]),e("div",ds,[e("div",cs,[e("p",us,"Codigo unico "+p(v+1)+":",1)]),s.isLink?g("",!0):(c(),u("div",ps,p(s.unique_code),1))]),e("div",ms,[e("div",fs,[e("p",_s,"Codigo externo "+p(v+1)+":",1)]),s.isLink?g("",!0):(c(),u("div",vs,p(s.external_code),1))]),i(M,{class:"p-0 m-1"})]))),128))]),e("div",hs,[e("div",ys,[gs,i(d,{onClick:o[28]||(o[28]=s=>X.value=!0),class:"p-0",rounded:"",style:{"aspect-ratio":"1 / 1",display:"flex","align-items":"center","justify-content":"center",width:"3rem",height:"3rem"},severity:"warning"},{default:_(()=>[ws]),_:1})]),(c(!0),u(P,null,B(m.value.web_pages,(s,v)=>(c(),u("div",{key:v,class:"my-0 col-12 py-0",style:{}},[i(d,{style:{position:"absolute",right:"1rem"},icon:"fa-solid fa-trash-can",text:"",class:"p-button-rounded p-button-danger p-0 text-2xl",onClick:H=>ce(s.web_page_id)},null,8,["onClick"]),e("div",bs,[xs,s.isLink?g("",!0):(c(),u("div",ks,p(s.page),1))]),e("div",Ls,[Ss,s.isLink?g("",!0):(c(),u("div",Cs,p(s.username),1))]),e("div",Ds,[Vs,s.isLink?g("",!0):(c(),u("div",$s,p(s.password),1))]),i(M,{class:"p-0 m-1",style:{color:"red","background-color":"red"}})]))),128))]),e("div",Es,[e("div",Ns,[Us,i(d,{onClick:o[29]||(o[29]=s=>Y.value=!0),class:"p-0",rounded:"",style:{"aspect-ratio":"1 / 1",display:"flex","align-items":"center","justify-content":"center",width:"3rem",height:"3rem"},severity:"warning"},{default:_(()=>[js]),_:1})]),(c(!0),u(P,null,B(m.value.applications,(s,v)=>(c(),u("div",{key:v,class:"my-0 col-12 py-0",style:{}},[i(d,{style:{position:"absolute",right:"1rem"},icon:"fa-solid fa-trash-can",text:"",class:"p-button-rounded p-button-danger p-0 text-2xl",onClick:H=>G(s.application_id)},null,8,["onClick"]),e("div",Ts,[As,s.isLink?g("",!0):(c(),u("div",Ps,p(s.name),1))]),e("div",Os,[qs,s.isLink?g("",!0):(c(),u("div",Is,p(s.username),1))]),e("div",Bs,[Rs,s.isLink?g("",!0):(c(),u("div",Fs,p(s.password),1))])]))),128))]),Ws,Js,e("div",Ms,[i(Ne)])])])])],64)}}},Qs=te(Hs,[["__scopeId","data-v-5e9e4690"]]);export{Qs as default};
