import{a as z,u as N,f as _}from"./site-1b0d66eb.js";import{_ as R,h as T,C as D,i as L,D as O,g,o,c as i,a as t,F as k,r as x,t as s,q as w,u as e,k as p,n as q,d as r,e as h,f as m,p as E,m as M}from"./index-25fedaca.js";import{u as U,o as V}from"./orderService-2bf2b7a5.js";import{u as $}from"./ventas-e1b78150.js";const c=f=>(E("data-v-73e00d2e"),f=f(),M(),f),j={class:"43f1 43f5 md:43f0 43f12"},A={class:"sticky-summary 43f12 43f3 43f0"},G=c(()=>t("h5",null,[t("b",null,"Resumen")],-1)),H=c(()=>t("h5",null,[t("b",null,"productos")],-1)),J={class:"43f0 43f0 product-line"},K={class:"43f6 43f2 43f0 43f0"},Q={class:"43f0"},W={class:"span-minwidth"},X={style:{"font-weight":"400"}},Y={style:{"margin-right":".5rem"}},Z={class:"font-weight-400"},tt={class:"43f6 43f0 text-right 43f2"},et={key:0,class:"text-end"},ot={key:1,class:"text-end"},st={class:"addition-ite43finner"},nt={class:"text adicion"},it={key:0,class:"pl-2 text-sm"},at=c(()=>t("hr",{class:"43f0 43f2"},null,-1)),lt={class:"grid summary-grid"},dt=c(()=>t("div",{class:"col-6 my-0 py-0"},[t("span",null,[t("b",null,"Subtotal")])],-1)),rt={class:"col-6 my-0 text-right py-0 text-right text-end",style:{}},ct={class:"col-6 my-0 py-0"},ut=c(()=>t("b",null,"Domicilio",-1)),_t=[ut],pt={class:"col-6 my-0 text-right py-0 text-end"},ht={key:0,class:"primary-color"},bt=c(()=>t("div",{class:"col-6 my-0 py-0"},[t("span",null,[t("b",null,"Total")])],-1)),mt={key:0,class:"col-6 my-0 text-right py-0 text-end"},ft=c(()=>t("div",null,null,-1)),yt={__name:"resumen",setup(f){const S=$(),C=T(!1),d=D(),y=z(),a=N();return U(),T({}),L(()=>{}),O(()=>y.cart.additions,()=>{update()},{deep:!0}),(vt,v)=>{var B,I,P;const u=g("Button"),b=g("router-link"),F=g("Tag");return o(),i("div",j,[t("div",A,[G,H,(o(!0),i(k,null,x(e(y).cart,n=>(o(),i("div",{key:n.productogeneral_id},[t("div",J,[t("div",K,[t("h6",Q,[t("span",W,"( "+s(n.pedido_cantidad)+" ) ",1),t("span",X,s(n.pedido_nombre_producto),1)]),(o(!0),i(k,null,x(n.lista_productocombo,l=>(o(),i("h6",{class:"43f0 43f3",style:{"margin-left":"1rem"},key:l.producto_id},[w(" ( "+s(n.pedido_cantidad)+" ) ",1),t("b",Y,s(parseInt(l.pedido_cantidad)),1),t("span",Z,s(l.pedido_nombre),1)]))),128))]),t("div",tt,[n.modificadorseleccionList.length<1?(o(),i("h6",et,s(e(_)(n.pedido_precio*n.pedido_cantidad)),1)):(o(),i("h6",ot,s(e(_)(n.pedido_base_price*n.pedido_cantidad)),1))])]),(o(!0),i(k,null,x(n.modificadorseleccionList,l=>(o(),i("div",{class:"addition-item",key:l},[t("div",st,[t("span",nt,[t("span",null,[t("b",null,"- ( "+s(n.pedido_cantidad)+" ) "+s(l.modificadorseleccion_cantidad),1)]),w(" "+s(l.modificadorseleccion_nombre),1)]),l.pedido_precio>0?(o(),i("span",it,[t("b",null,s(e(_)(l.pedido_precio*l.modificadorseleccion_cantidad*n.pedido_cantidad)),1)])):p("",!0)])]))),128))]))),128)),at,t("div",lt,[dt,t("div",rt,[t("span",null,[t("b",null,s(e(_)(e(y).cartTotal)),1)])]),t("div",ct,[t("span",{style:q(e(a).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},_t,4)]),t("div",pt,[e(a).location.neigborhood.delivery_price===0&&e(a).location.site.site_id!=33?(o(),i("span",ht,[t("b",null,s(e(d).path.includes("reservas")?"Ir a la sede":"$0"),1)])):p("",!0),t("span",null,[t("b",null,s(e(_)(e(a).location.neigborhood.delivery_price)),1)])]),bt,e(a).location.neigborhood.delivery_price||e(a).location.neigborhood.delivery_price===0?(o(),i("div",mt,[t("span",null,[t("b",null,s(e(_)(e(y).cartTotal+e(a).location.neigborhood.delivery_price)),1)])])):p("",!0)]),e(d).path.includes("cart")?(o(),r(b,{key:0,to:"/call-center-vender"},{default:h(()=>[m(u,{outlined:"",icon:"pi pi-shopping-cart",label:"Volver al menu'",class:"43f4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):e(d).path!="/reservas"?(o(),r(b,{key:1,to:"/call-center-vender/cart"},{default:h(()=>[m(u,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"43f4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):p("",!0),((B=e(a).status)==null?void 0:B.status)=="closed"&&e(d).path!="/reservas"?(o(),r(F,{key:2,class:"43f2 tag-fullheight",severity:"danger"},{default:h(()=>[w(" Cerrado, abre a las "+s(e(a).status.next_opening_time),1)]),_:1})):p("",!0),ft,e(d).path.includes("cart")?(o(),r(b,{key:3,to:"/call-center-vender/pay"},{default:h(()=>[m(u,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):e(d).path.includes("reservas")?(o(),r(b,{key:4,to:"/pay"},{default:h(()=>[m(u,{onClick:v[0]||(v[0]=()=>{e(V).sendOrderReserva(),C.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):((I=e(a).status)==null?void 0:I.status)!=="closed"&&((P=e(a).status)!=null&&P.status)&&e(d).path=="/cart"?(o(),r(b,{key:5,to:"/pay"},{default:h(()=>[m(u,{iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):e(d).path=="/call-center-vender/pay"&&!e(S).loading.visible?(o(),r(u,{key:6,disabled:e(S).loading.visible,onClick:v[1]||(v[1]=()=>{e(V).sendOrder(),C.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"},null,8,["disabled"])):p("",!0)])])}}},St=R(yt,[["__scopeId","data-v-73e00d2e"]]);export{St as r};
