import{_ as H,B as I,C as j,h as y,i as B,j as M,U as N,D as U,g as d,o as x,c as h,a as t,f as l,u as n,F,r as L,b as V,e as w,n as E,q as R,t as A,p as O,m as P}from"./index-c6672384.js";const D=v=>(O("data-v-7e2bffd5"),v=v(),P(),v),W={class:"col-12 px-0 md:px-4 mx-auto",style:{position:"relative","max-width":"1366px","margin-top":"6rem"}},q={class:"grid",style:{"background-color":"rgba(250, 250, 250, 0)"}},G={class:"text-sm col-12 p-2 md:col-4 xl:col-6"},Y={class:"text-center col-12 p-2 md:col-3"},J={class:"col-12 md:col-1 md:p-0",style:{display:"flex","align-items":"center","justify-content":"start"}},K=D(()=>t("p",{class:"text-3xl px-0 mx-0 my-6 pb-0",style:{"font-weight":"bold"}},[t("i",{class:"fa-solid fa-chart-simple"}),R(" Vision General ")],-1)),Q={class:"contenedor mt-5",style:{position:"sticky",top:"3rem","z-index":"99"}},X={class:"col-12 px-0 py-0 my-0 p-0 m-auto",style:{"overflow-x":"auto","background-color":"#fafafa"}},Z={class:"px-0 mx-0",style:{width:"max-content","background-color":"#fafafa",display:"flex","align-items":"center","justify-content":"start",gap:"2rem"}},ee={class:"grid p-0 m-0"},te={class:"grid"},se={class:"col-12",style:{display:"flex","flex-wrap":"wrap",gap:"1rem"}},oe={class:"col-12",style:{display:"flex","flex-direction":"column",position:"relative"}},ae=D(()=>t("span",{style:{"font-weight":"bold"},class:"text-l"},"Desde",-1)),le={style:{position:"relative"}},ne={class:"col-12",style:{display:"flex","flex-direction":"column",position:"relative"}},ie=D(()=>t("span",{style:{"font-weight":"bold"},class:"text-l"},"Hasta",-1)),re={style:{position:"relative"}},de={class:"col-12 p-0",style:{display:"flex","justify-content":"center"}},ce={class:"col-12",style:{display:"flex","justify-content":"center"}},pe={__name:"reporteVentas",setup(v){const a=I(),$=j(),p=y(new Date),m=y(new Date),u=y(!1),C=y([{name:"Resumen",to:"/reporte-ventas/order-sumary",icon:"fa-solid fa-table"},{name:"Valor ventas",to:"/reporte-ventas/valor-ventas",icon:"fa-solid fa-dollar-sign"},{name:"No. Ordenes",to:"/reporte-ventas/no-ordenes",icon:"fa-solid fa-sort"},{name:"Ticket promedio",to:"/reporte-ventas/ticket",icon:"fa-solid fa-money-bill"},{name:"Ordenes",to:"/reporte-ventas/ordenes",icon:"fa-solid fa-table"},{name:"Modificar ordenes",to:"/reporte-ventas/modificar-ordenes",icon:"fa-solid fa-sync"}]);function b(i){const e=new Date(i),c=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0"),_=e.getHours().toString().padStart(2,"0"),g=e.getMinutes().toString().padStart(2,"0");return`${c}-${r}-${o} ${_}:${g}`}function f(i){const e=new Date,c=new Date(e).setDate(e.getDate()+1),r=new Date(e);r.setDate(e.getDate()-i),r.setHours(10,0,0,0);let o;i===0?(o=new Date(c),o.setHours(4,0,0,0)):i===1?(o=new Date(e),o.setHours(4,0,0,0)):(o=new Date(c),o.setHours(4,0,0,0)),p.value=r,m.value=o,a.setDateRange(p.value,m.value),u.value=!1,a.fetchSalesReport()}function z(){a.setDateRange(p.value,m.value),u.value=!1,a.fetchSalesReport()}return B(async()=>{a.sites=await M.get(`${N}/sites`)}),U(()=>a.order_status,(i,e)=>{console.log(`El estado de orden ha cambiado de ${e} a ${i}`),a.fetchSalesReport()}),(i,e)=>{var k;const c=d("MultiSelect"),r=d("InputText"),o=d("Button"),_=d("RouterLink"),g=d("RouterView"),S=d("Calendar"),T=d("Dialog");return x(),h("div",W,[t("div",q,[t("div",G,[l(c,{display:"chip",multiple:"",modelValue:n(a).selectedSites,"onUpdate:modelValue":e[0]||(e[0]=s=>n(a).selectedSites=s),optionLabel:"site_name",options:(k=n(a).sites)==null?void 0:k.filter(s=>s.show_on_web),class:"text-sm col-12 p-0",placeholder:"Sedes"},null,8,["modelValue","options"])]),t("div",Y,[l(r,{class:"col-12 p-3",onClick:e[1]||(e[1]=s=>u.value=!0),style:{height:"2.7rem"},value:n(a).dateRangeDifference.rangeName||`${b(n(a).dateRange.startDate)}  |  ${b(n(a).dateRange.endDate)}`,placeholder:"periodo"},null,8,["value"])]),t("div",J,[l(o,{icon:"pi pi-search",severity:"help",class:"text-center p-0 col-12 md:p-0",style:{height:"2.5rem",width:"min-content","aspect-ratio":"1/1","font-weight":"bold","border-radius":"50%",display:"flex","justify-content":"center"},onClick:e[2]||(e[2]=()=>n(a).reportar+=1)})])]),K,t("div",Q,[t("div",X,[t("div",Z,[(x(!0),h(F,null,L(C.value,s=>(x(),h("div",{key:s.to},[l(_,{to:s.to},{default:w(()=>[l(o,{size:"medium",style:E([n($).fullPath===s.to?"box-shadow: 0 4px 0 #ff6200; color:#000; font-weight:bold;":"",{"border-radius":"0"}]),class:"text-md px-0 pt-2 pb-4 my-0 mx-0",text:"",severity:"secondary"},{default:w(()=>[t("i",{class:V(["mr-2",s.icon])},null,2),R(" "+A(s.name),1)]),_:2},1032,["style"])]),_:2},1032,["to"])]))),128))])])]),t("div",ee,[t("div",{class:V(["p-0",n(a).visibleNotifications?"col-9":"col-12"])},[l(g)],2)]),l(T,{visible:u.value,"onUpdate:visible":e[10]||(e[10]=s=>u.value=s),modal:"",header:"Periodo",style:{width:"25rem"}},{default:w(()=>[t("div",te,[t("div",se,[l(o,{size:"small",severity:"help",style:{"flex-grow":"1","min-width":"max-content"},label:"Hoy",onClick:e[3]||(e[3]=s=>f(0))}),l(o,{size:"small",severity:"warning",style:{"flex-grow":"1"},label:"Ayer",onClick:e[4]||(e[4]=s=>f(1))}),l(o,{size:"small",severity:"success",style:{"flex-grow":"1"},label:"Últimos 7 días",onClick:e[5]||(e[5]=s=>f(7))}),l(o,{size:"small",severity:"danger",style:{"flex-grow":"1"},label:"Últimos 14 días",onClick:e[6]||(e[6]=s=>f(14))}),l(o,{size:"small",severity:"info",style:{"flex-grow":"1"},label:"Últimos 28 días",onClick:e[7]||(e[7]=s=>f(28))})]),t("div",oe,[ae,t("div",le,[l(S,{showTime:"",hourFormat:"12",style:{"min-width":"max-content",width:"100%"},modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=s=>p.value=s),showWeek:""},null,8,["modelValue"])])]),t("div",ne,[ie,t("div",re,[l(S,{showTime:"",hourFormat:"12",style:{"min-width":"max-content",width:"100%"},modelValue:m.value,"onUpdate:modelValue":e[9]||(e[9]=s=>m.value=s),showWeek:""},null,8,["modelValue"])])]),t("div",de,[t("div",ce,[l(o,{label:"Aplicar",severity:"help",onClick:z})])])])]),_:1},8,["visible"])])}}},ue=H(pe,[["__scopeId","data-v-7e2bffd5"]]);export{ue as default};
