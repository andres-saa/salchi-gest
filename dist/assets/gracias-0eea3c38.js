import{a as E,u as O}from"./site-5b25890c.js";import{u as z,o as B}from"./orderService-08036023.js";import{_ as D,j as T,G as H,k as G,H as M,r as $,o,c as a,a as e,F as S,b as I,t as s,h as C,u as t,i as w,n as N,g as k,f as P,e as v,q as L,x as A,C as V,I as U,K as j}from"./index-fe1dadbb.js";import{f}from"./formatoPesos-e824e30b.js";import{u as F}from"./ventas-329980d9.js";const h=d=>(L("data-v-2b80555d"),d=d(),A(),d),q={class:"43f1 43f5 md:43f0 43f12"},K={class:"sticky-summary 43f12 43f3 43f0"},J=h(()=>e("h5",null,[e("b",null,"Resumen")],-1)),Q=h(()=>e("h5",null,[e("b",null,"productos")],-1)),W={class:"43f0 43f0 product-line"},X={class:"43f6 43f2 43f0 43f0"},Y={class:"43f0"},Z={class:"span-minwidth"},ee={style:{"font-weight":"400"}},te={style:{"margin-right":".5rem"}},oe={class:"font-weight-400"},se={class:"43f6 43f0 text-right 43f2"},ne={key:0,class:"text-end"},ae={key:1,class:"text-end"},ie={class:"addition-ite43finner"},le={class:"text adicion"},re={key:0,class:"pl-2 text-sm"},de=h(()=>e("hr",{class:"43f0 43f2"},null,-1)),ce={class:"grid summary-grid"},pe=h(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),_e={class:"col-6 my-0 text-right py-0 text-right text-end",style:{}},ue={class:"col-6 my-0 py-0"},he=h(()=>e("b",null,"Domicilio",-1)),me=[he],be={class:"col-6 my-0 text-right py-0 text-end"},ye={key:0,class:"primary-color"},fe=h(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Total")])],-1)),ve={key:0,class:"col-6 my-0 text-right py-0 text-end"},ge=h(()=>e("div",null,null,-1)),xe={__name:"ResumenGracias",setup(d){const m=F(),_=T(!1),c=H(),b=E(),i=O();return z(),T({}),G(()=>{}),M(()=>b.cart.additions,()=>{update()},{deep:!0}),(R,y)=>{var p,x;const l=$("Button"),u=$("router-link");return o(),a("div",q,[e("div",K,[J,Q,(o(!0),a(S,null,I(t(b).cart,n=>(o(),a("div",{key:n.productogeneral_id},[e("div",W,[e("div",X,[e("h6",Y,[e("span",Z,"( "+s(n.pedido_cantidad)+" ) ",1),e("span",ee,s(n.pedido_nombre_producto),1)]),(o(!0),a(S,null,I(n.lista_productocombo,r=>(o(),a("h6",{class:"43f0 43f3",style:{"margin-left":"1rem"},key:r.producto_id},[C(" ( "+s(n.pedido_cantidad)+" ) ",1),e("b",te,s(parseInt(r.pedido_cantidad)),1),e("span",oe,s(r.pedido_nombre),1)]))),128))]),e("div",se,[n.modificadorseleccionList.length<1?(o(),a("h6",ne,s(t(f)(n.pedido_precio*n.pedido_cantidad)),1)):(o(),a("h6",ae,s(t(f)(n.pedido_base_price*n.pedido_cantidad)),1))])]),(o(!0),a(S,null,I(n.modificadorseleccionList,r=>(o(),a("div",{class:"addition-item",key:r},[e("div",ie,[e("span",le,[e("span",null,[e("b",null,"- ( "+s(n.pedido_cantidad)+" ) "+s(r.modificadorseleccion_cantidad),1)]),C(" "+s(r.modificadorseleccion_nombre),1)]),r.pedido_precio>0?(o(),a("span",re,[e("b",null,s(t(f)(r.pedido_precio*r.modificadorseleccion_cantidad*n.pedido_cantidad)),1)])):w("",!0)])]))),128))]))),128)),de,e("div",ce,[pe,e("div",_e,[e("span",null,[e("b",null,s(t(f)(t(b).cartTotal)),1)])]),e("div",ue,[e("span",{style:N(t(i).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},me,4)]),e("div",be,[t(i).location.neigborhood.delivery_price===0&&t(i).location.site.site_id!=33?(o(),a("span",ye,[e("b",null,s(t(c).path.includes("reservas")?"Ir a la sede":"$0"),1)])):w("",!0),e("span",null,[e("b",null,s(t(f)(t(i).location.neigborhood.delivery_price)),1)])]),fe,t(i).location.neigborhood.delivery_price||t(i).location.neigborhood.delivery_price===0?(o(),a("div",ve,[e("span",null,[e("b",null,s(t(f)(t(b).cartTotal+t(i).location.neigborhood.delivery_price)),1)])])):w("",!0)]),ge,t(c).path.includes("cart")?(o(),k(u,{key:0,to:"/call-center-vender/pay"},{default:P(()=>[v(l,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):t(c).path.includes("reservas")?(o(),k(u,{key:1,to:"/pay"},{default:P(()=>[v(l,{onClick:y[0]||(y[0]=()=>{t(B).sendOrderReserva(),_.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):((p=t(i).status)==null?void 0:p.status)!=="closed"&&((x=t(i).status)!=null&&x.status)&&t(c).path=="/cart"?(o(),k(u,{key:2,to:"/pay"},{default:P(()=>[v(l,{iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):t(c).path=="/call-center-vender/pay"&&!t(m).loading.visible?(o(),k(l,{key:3,disabled:t(m).loading.visible,onClick:y[1]||(y[1]=()=>{t(B).sendOrder(),_.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"},null,8,["disabled"])):w("",!0)])])}}},we=D(xe,[["__scopeId","data-v-2b80555d"]]);const g=d=>(L("data-v-4d564455"),d=d(),A(),d),ke={class:"p-2 col-12 my-6",style:{height:"auto","min-height":"90vh",padding:".5rem",display:"flex",gap:"rem","justify-content":"center","align-items":"center"}},$e={class:"shadow-7 p-0",style:{"border-radius":"0.5rem","max-width":"500px",display:"flex","flex-direction":"column",gap:"0rem","font-size":"1.3rem"}},Ce={class:"text-4xl text-center m-0",style:{"font-weight":"bold","text-align":"center"}},Se=g(()=>e("p",{class:"text-2xl text-center m-0",style:{"font-weight":"bold","text-align":"center"}},"🔥MUCHAS GRACIAS POR TU COMPRA!🔥",-1)),Ie={class:"text-4xl text-center my-0",style:{"font-weight":"bold","text-transform":"uppercase","text-align":"center"}},Pe=g(()=>e("span",{class:"text-2xl"},"ID DEL PEDIDO",-1)),Te=g(()=>e("br",null,null,-1)),Re=g(()=>e("p",{class:"text-2xl text-center my-3 p-3",style:{"border-radius":".3rem","background-color":"var(--primary-color)",padding:"1rem",color:"white"}}," Hemos recibido tu pedido y en breve será despachado",-1)),Be=g(()=>e("div",null,null,-1)),Ue={id:"factura",style:{width:"100%","text-transform":"uppercase"}},Ee={style:{display:"flex",gap:"1rem",padding:"1rem","min-width":"100%"}},ze={style:{width:"100%"}},De={__name:"gracias",setup(d){const m=T(""),_=E(),c=z(),b=F(),i=V(),R=U(()=>`https://salchimonster.com/pagar/${_.last_order}`);async function y(){const l=R.value;try{await navigator.clipboard.writeText(l),i.add({severity:"success",summary:"¡Copiado!",detail:"El enlace se copió al portapapeles",life:2500})}catch{const p=document.createElement("input");p.value=l,document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove(),i.add({severity:"info",summary:"Copiado con método alternativo",detail:"Tu navegador no soporta la API moderna de portapapeles",life:3e3})}}return G(()=>{b.setLoading(!1,"enviando tu pedido"),m.value=`Hola soy *${c.user.name.toUpperCase()}* 🤗 acabo de hacer el siguiente pedido en la página web. El número de la orden es *#${_.last_order}*.


  *Escribo para Realizar la Transferecia*


  *Muchas Gracias* 🙏`,console.log(m.value)}),U(()=>{const l="https://api.whatsapp.com/send",u=new URLSearchParams({phone:"573053447255",text:m.value});return`${l}?${u.toString()}`}),j(()=>{c.user={name:"",neigborhood:"",address:"",phone_number:"",payment_method_option:"",was_reserva:!1},_.cart=[]}),(l,u)=>{const p=$("InputText"),x=$("Button");return o(),a("div",ke,[e("div",$e,[e("p",Ce," 🤩"+s(t(c).user.name.toUpperCase())+"🤩",1),Se,e("p",Ie,[Pe,C(),Te,C(" #"+s(t(_).last_order),1)]),Re,Be,e("div",Ue,[v(we)]),e("div",Ee,[e("div",ze,[v(p,{style:{width:"100%"},value:`https://salchimonster.com/pagar/${t(_).last_order}`},null,8,["value"])]),v(x,{onClick:y,style:{"min-width":"max-content"},label:"Copiar link ",icon:"pi pi-copy",severity:"help"})])])])}}},He=D(De,[["__scopeId","data-v-4d564455"]]);export{He as default};
