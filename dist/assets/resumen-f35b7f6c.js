import{f as _}from"./formatoPesos-374ef498.js";import{a as L,u as O}from"./site-53b36d4e.js";import{_ as j,g as F,C as E,h as M,D as U,e as k,o,c as a,a as t,F as x,r as w,t as n,m as S,u as e,j as m,n as $,x as d,f as h,b as y,p as q,k as A}from"./index-63e6722e.js";import{u as G,o as z}from"./resumen.vue_vue_type_style_index_0_scoped_a0e611eb_lang-914c8edd.js";const c=v=>(q("data-v-a0e611eb"),v=v(),A(),v),H={class:"pe1 pe5 md:pe0 pe12"},J={class:"sticky-summary pe12 pe3 m-0"},K=c(()=>t("h5",null,[t("b",null,"Resumen")],-1)),Q=c(()=>t("h5",null,[t("b",null,"productos")],-1)),W={class:"mb-0 pb-0 product-line"},X={class:"pe6 py-2 mb-0 m-0"},Y={class:"m-0"},Z={class:"span-minwidth"},tt={style:{"font-weight":"400"}},et={style:{"margin-right":".5rem"}},ot={class:"font-weight-400"},st={class:"pe6 pe0 text-right py-2"},nt={key:0,class:"text-end"},it={key:1,class:"text-end"},at={class:"addition-item-inner"},lt={class:"text adicion"},rt={key:0,class:"pl-2 text-sm"},dt=c(()=>t("div",{class:"pe12 pe0 mt-1"},null,-1)),ct=c(()=>t("hr",{class:"pe0 mt-2"},null,-1)),ut={class:"summary-grid"},pt=c(()=>t("div",{class:"pe6 pe0 py-0"},[t("span",null,[t("b",null,"Subtotal")])],-1)),_t={class:"pe6 pe0 text-right py-0 text-end"},ht={class:"pe6 pe0 py-0"},bt=c(()=>t("b",null,"Domicilio",-1)),mt=[bt],yt={class:"pe6 pe0 text-right py-0 text-end"},vt={key:0,class:"primary-color"},gt={key:1},ft=c(()=>t("div",{class:"pe6 pe0 py-0"},[t("span",null,[t("b",null,"Total")])],-1)),kt={key:0,class:"pe6 pe0 text-right py-0 text-end"},xt=c(()=>t("div",null,null,-1)),wt={__name:"resumen",setup(v){const C=F(!1),l=E(),g=L(),s=O(),R=G();return F({}),M(()=>{var f;((f=R.user.payment_method_option)==null?void 0:f.id)!=7&&!l.path.includes("reservas")?s.setNeighborhoodPrice():s.setNeighborhoodPriceCero()}),U(()=>g.cart.additions,()=>{update()},{deep:!0}),(f,p)=>{var P,B,I,N,T,V;const u=k("Button"),b=k("router-link"),D=k("Tag");return o(),a("div",H,[t("div",J,[K,Q,(o(!0),a(x,null,w(e(g).cart,i=>(o(),a("div",{key:i.productogeneral_id},[t("div",W,[t("div",X,[t("h6",Y,[t("span",Z,"( "+n(i.pedido_cantidad)+" ) ",1),t("span",tt,n(i.pedido_nombre_producto),1)]),(o(!0),a(x,null,w(i.lista_productocombo,r=>(o(),a("h6",{class:"m-0 ml-3",style:{"margin-left":"1rem"},key:r.producto_id},[S(" ( "+n(i.pedido_cantidad)+" ) ",1),t("b",et,n(parseInt(r.pedido_cantidad)),1),t("span",ot,n(r.pedido_nombre),1)]))),128))]),t("div",st,[i.modificadorseleccionList.length<1?(o(),a("h6",nt,n(e(_)(i.pedido_precio*i.pedido_cantidad)),1)):(o(),a("h6",it,n(e(_)(i.pedido_base_price*i.pedido_cantidad)),1))])]),(o(!0),a(x,null,w(i.modificadorseleccionList,r=>(o(),a("div",{class:"addition-item",key:r},[t("div",at,[t("span",lt,[t("span",null,[t("b",null,"- ( "+n(i.pedido_cantidad)+" ) "+n(r.modificadorseleccion_cantidad/i.pedido_cantidad),1)]),S(" "+n(r.modificador_nombre),1)]),r.pedido_precio>0?(o(),a("span",rt,[t("b",null,n(e(_)(r.pedido_precio*r.modificadorseleccion_cantidad)),1)])):m("",!0)])]))),128))]))),128)),dt,ct,t("div",ut,[pt,t("div",_t,[t("span",null,[t("b",null,n(e(_)(e(g).cartTotal)),1)])]),t("div",ht,[t("span",{style:$(e(s).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},mt,4)]),t("div",yt,[e(s).location.neigborhood.delivery_price==0?(o(),a("span",vt,[t("b",null,n(e(l).path.includes("reservas")?"Ir a la sede":"Recoger en local"),1)])):e(s).location.neigborhood.delivery_price?(o(),a("span",gt,[t("b",null,n(e(_)(e(s).location.neigborhood.delivery_price)),1)])):m("",!0)]),ft,e(s).location.neigborhood.delivery_price?(o(),a("div",kt,[t("span",null,[t("b",null,n(e(_)(e(g).cartTotal+e(s).location.neigborhood.delivery_price)),1)])])):(o(),d(u,{key:1,onClick:p[0]||(p[0]=i=>e(s).visibles.currentSite=!0),label:"Calcular mi domicilio",style:{"min-width":"max-content"}}))]),e(l).path.includes("cart")?(o(),d(b,{key:0,to:"/"},{default:h(()=>[y(u,{outlined:"",icon:"pi pi-shopping-cart",label:"Volver al menu'",class:"mt-4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):e(l).path!="/reservas"?(o(),d(b,{key:1,to:"/cart"},{default:h(()=>[y(u,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"mt-4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):m("",!0),((P=e(s).status)==null?void 0:P.status)=="closed"&&e(l).path!="/reservas"?(o(),d(D,{key:2,class:"mt-2 tag-fullheight",severity:"danger"},{default:h(()=>[S(" Cerrado, abre a las "+n(e(s).status.next_opening_time),1)]),_:1})):m("",!0),xt,e(l).path.includes("cart")&&((B=e(s).status)==null?void 0:B.status)!=="closed"&&e(l).path=="/reservas"?(o(),d(b,{key:3,to:"/pay"},{default:h(()=>[y(u,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):e(l).path.includes("reservas")?(o(),d(b,{key:4,to:"/pay"},{default:h(()=>[y(u,{onClick:p[1]||(p[1]=()=>{e(z).sendOrderReserva(),C.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):((I=e(s).status)==null?void 0:I.status)!=="closed"&&((N=e(s).status)!=null&&N.status)&&e(l).path=="/cart"?(o(),d(b,{key:5,to:"/pay"},{default:h(()=>[y(u,{iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):((T=e(s).status)==null?void 0:T.status)!=="closed"&&((V=e(s).status)!=null&&V.status)&&e(l).path=="/pay"?(o(),d(u,{key:6,onClick:p[2]||(p[2]=()=>{e(z).sendOrder(),C.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})):m("",!0)])])}}},It=j(wt,[["__scopeId","data-v-a0e611eb"]]);export{It as r};
