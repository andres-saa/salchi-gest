import{_ as fe,Y as Oe,h as g,i as ue,j as J,U as Q,H as _e,g as D,o as n,c as i,f as u,e as m,a as e,P as le,t as r,u as s,a1 as C,q as b,d as k,k as c,b as pe,F as P,r as W,p as we,m as ke}from"./index-dffc30d1.js";import{f as h}from"./formatoPesos-2293ab52.js";/* empty css                                                                  */const o=X=>(we("data-v-613a4859"),X=X(),ke(),X),xe=o(()=>e("h3",null,[e("b",null,"Cambiar Valor del Domicilio")],-1)),Ce=o(()=>e("span",null,"Valor actual del domicilio",-1)),$e=o(()=>e("span",null,"Nuevo valor del domicilio",-1)),De=o(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),Pe=o(()=>e("span",{for:"responsible"},"Responsable",-1)),Ve=o(()=>e("span",{for:"reason"},"Razón",-1)),je=o(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),Ne=o(()=>e("span",{class:"advert",style:{"text-transform":"lowercase",color:"red","font-weight":"bold"}}," Desde el 16 de mayo de 2024, la cancelación de órdenes requerirá autorización.",-1)),Ee=o(()=>e("span",{for:"responsible"},"Responsable",-1)),ze=o(()=>e("span",{for:"reason"},"Razón",-1)),Te={style:{"text-transform":"capitalize"}},Me={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},Le={class:""},Re={id:"factura",style:{width:"100%"}},Se=o(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),Ie=o(()=>e("br",null,null,-1)),Ae={class:"",style:{width:"auto"}},Ue={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Be={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Fe={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},qe=o(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid","grid-template-columns":"auto auto"}},[e("div",{class:"px-2",style:{width:"100%"}},[e("b",null," productos")]),e("div",{class:"px-2"},[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),He={style:{display:"grid",gap:"0 1rem","grid-template-columns":"auto auto"}},Ye={key:0,class:"p-0 m-0"},Ge=o(()=>e("br",null,null,-1)),Ke={key:1,class:"p-0 m-0"},Ze=o(()=>e("br",null,null,-1)),Je={key:0,style:{"text-align":"end",color:"black"}},Qe={key:1,style:{"text-align":"end",color:"black"}},We={key:0,class:"p-0 m-0"},Xe=o(()=>e("b",null,"COMBO INCLUYE",-1)),et=[Xe],tt={class:"p-0 m-0 ml-5",style:{}},st={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},rt={class:"p-0 m-0",style:{}},lt={class:"p-0 m-0",style:{"text-align":"end"}},ot=o(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),nt={class:"",style:{display:"grid","margin-top":"1rem","grid-template-columns":"auto auto"}},it=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),at={class:""},dt={style:{"text-align":"end","font-weight":"bold",color:"black"}},ct=o(()=>e("div",{class:""},[e("span",{class:"m-0",style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),ut={class:""},_t={class:"m-0 p-0",style:{"text-align":"end","font-weight":"bold",color:"black"}},pt=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),mt={class:""},bt={class:"m-0 p-0",style:{"text-align":"end",color:"black","font-weight":"bold"}},yt=o(()=>e("div",{class:""},null,-1)),ht=o(()=>e("p",{class:"px-2",style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),vt={class:"notas p-2 m-0",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},gt=o(()=>e("p",{class:"px-2",style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),ft={style:{display:"grid",gap:"1rem 2rem","grid-template-columns":"auto auto","align-items":"start"}},Ot=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Nombre")])],-1)),wt={class:""},kt={style:{"text-align":"start",color:"black"}},xt={key:0,class:"",style:{}},Ct=o(()=>e("span",null,[e("b",null,"Cedula / Nit")],-1)),$t=[Ct],Dt={key:1,class:""},Pt={style:{"text-align":"start",color:"black"}},Vt=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Metodo de entrega")])],-1)),jt={class:""},Nt={style:{"text-align":"start",color:"black"}},Et={key:2,class:"",style:{}},zt=o(()=>e("span",null,[e("b",null,"Fecha de entrega")],-1)),Tt=[zt],Mt={key:3,class:""},Lt={style:{"text-align":"start",color:"black"}},Rt={key:4,class:"",style:{}},St=o(()=>e("span",null,[e("b",null,"Placa del vehiculo")],-1)),It=[St],At={key:5,class:""},Ut={style:{"text-align":"start",color:"black"}},Bt=o(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),Ft={style:{"text-align":"start",color:"black"}},qt={key:6,style:{}},Ht=o(()=>e("span",null,[e("b",null,"Correo")],-1)),Yt=[Ht],Gt={key:7},Kt={style:{"text-align":"start",color:"black"}},Zt={key:8,style:{}},Jt=o(()=>e("span",null,[e("b",null,"direccion ")],-1)),Qt=[Jt],Wt={key:9,style:{}},Xt={style:{"text-align":"start",color:"black"}},es=o(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),ts={style:{"text-align":"start",color:"black"}},ss={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},rs={class:"mt-4",style:{display:"flex","align-items":"center",gap:"1rem"}},ls={class:""},os={id:"factura",style:{width:"100%"}},ns=o(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),is=o(()=>e("br",null,null,-1)),as={class:"",style:{width:"auto"}},ds={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},cs={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},us={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},_s=o(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid",gap:"1rem","grid-template-columns":"1fr 3fr 1fr 1fr 1fr"}},[e("div",{class:"px-2",style:{width:"100%"}},[e("b",null," Cant.")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," producto")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," pres.")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," V. Kilo")]),e("div",{class:"px-2"},[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),ps={style:{display:"grid",gap:"0 1rem","grid-template-columns":"1fr 3fr 1fr 1fr 1fr"}},ms={key:0,class:"p-0 m-0"},bs=o(()=>e("br",null,null,-1)),ys={key:1,class:"p-0 m-0"},hs=o(()=>e("br",null,null,-1)),vs={key:2,class:"p-0 m-0"},gs=o(()=>e("br",null,null,-1)),fs={key:3,class:"p-0 m-0"},Os=o(()=>e("br",null,null,-1)),ws={key:0,style:{"text-align":"start",color:"black"}},ks={key:1,style:{"text-align":"start",color:"black"}},xs={key:0,style:{"text-align":"end",color:"black"}},Cs={key:1,style:{"text-align":"end",color:"black"}},$s={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},Ds={class:"p-0 m-0",style:{}},Ps={class:"p-0 m-0",style:{"text-align":"end"}},Vs=o(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),js={class:"",style:{display:"grid","margin-top":"1rem","grid-template-columns":"auto auto"}},Ns=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),Es={class:""},zs={style:{"text-align":"end","font-weight":"bold",color:"black"}},Ts=o(()=>e("div",{class:""},[e("span",{class:"m-0",style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),Ms={class:""},Ls={class:"m-0 p-0",style:{"text-align":"end","font-weight":"bold",color:"black"}},Rs=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),Ss={class:""},Is={class:"m-0 p-0",style:{"text-align":"end",color:"black","font-weight":"bold"}},As=o(()=>e("div",{class:""},null,-1)),Us=o(()=>e("p",{class:"px-2",style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),Bs={class:"notas p-2 m-0",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},Fs=o(()=>e("p",{class:"px-2",style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),qs={style:{display:"grid",gap:"1rem 2rem","grid-template-columns":"auto auto","align-items":"start"}},Hs=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Nombre")])],-1)),Ys={class:""},Gs={style:{"text-align":"start",color:"black"}},Ks={key:0,class:"",style:{}},Zs=o(()=>e("span",null,[e("b",null,"Cedula / Nit")],-1)),Js=[Zs],Qs={key:1,class:""},Ws={style:{"text-align":"start",color:"black"}},Xs=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Metodo de entrega")])],-1)),er={class:""},tr={style:{"text-align":"start",color:"black"}},sr={key:2,class:"",style:{}},rr=o(()=>e("span",null,[e("b",null,"Fecha de entrega")],-1)),lr=[rr],or={key:3,class:""},nr={style:{"text-align":"start",color:"black"}},ir={key:4,class:"",style:{}},ar=o(()=>e("span",null,[e("b",null,"Placa del vehiculo")],-1)),dr=[ar],cr={key:5,class:""},ur={style:{"text-align":"start",color:"black"}},_r=o(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),pr={style:{"text-align":"start",color:"black"}},mr={key:6,style:{}},br=o(()=>e("span",null,[e("b",null,"Correo")],-1)),yr=[br],hr={key:7},vr={style:{"text-align":"start",color:"black"}},gr={key:8,style:{}},fr=o(()=>e("span",null,[e("b",null,"direccion ")],-1)),Or=[fr],wr={key:9,style:{}},kr={style:{"text-align":"start",color:"black"}},xr=o(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),Cr={style:{"text-align":"start",color:"black"}},$r={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},Dr={class:"mt-4",style:{display:"flex","align-items":"center",gap:"1rem"}},Pr=o(()=>e("h3",null,[e("b",null,"Cambiar Método de Pago")],-1)),Vr=o(()=>e("span",{for:"paymentMethod"},"Método de Pago actual",-1)),jr={for:"paymentMethod"},Nr=o(()=>e("span",{for:"paymentMethod"},"Nuevo método de Pago",-1)),Er={__name:"DialogoPedido",setup(X){const t=Oe(),$=g(!1),ee=g(t.currentOrder.delivery_price),me=async()=>{const p=ee.value;await J.put(`${Q}/changue-delivery/${t.currentOrder.order_id}`,{price:p}),$.value=!1,t.numberOders==1?t.numberOders=2:t.numberOders=1,t.visibles.currentOrder=!1},V=g(!1),te=g(null),ne=g([]);ue(async()=>{try{const p=await J.get(`${Q}/payment_methods`);ne.value=p}catch(p){console.error("Error al obtener métodos de pago:",p)}t.currentOrder.value=t.currentOrder,de.value=await J.get(`${Q}/sites`)});const be=async()=>{if(te.value)try{await J.put(`${Q}/change-method/${t.currentOrder.order_id}/${te.value}`,`Cambiando método de pago para la orden ${t.currentOrder.order_id}`),V.value=!1,t.visibles.currentOrder=!1,console.log("Método de pago cambiado exitosamente")}catch(p){console.error("Error al cambiar el método de pago:",p)}},ie=p=>{var y,O,_,f;const l=(f=(_=(O=(y=p.latest_status_timestamp)==null?void 0:y.split("T")[1])==null?void 0:O.split(":"))==null?void 0:_.slice(0,2))==null?void 0:f.join(":");switch(p.current_status){case"enviada":return`El pedido fue enviado a su domicilio a las ${l}`;case"cancelada":return`El pedido fue cancelado a las ${l}
Responsable: ${p.responsible}
Razón: ${p.reason}`;case"en preparacion":return`El pedido está en preparación desde las ${l} y será enviado en breve.`;case"generada":return`Hemos recibido su pedido a las ${l} y empezaremos a prepararlo en breve. Gracias por su espera.`;default:return""}};g(0);const j=g(!1),ye=_e(()=>t.currentOrder.pe_json.listaPedidos.reduce((p,l)=>{var O;let y=l.pedido_cantidad*l.pedido_precio;if(l.modificadorseleccionList&&l.modificadorseleccionList.length>0){const f=((O=l.modificadorseleccionList)==null?void 0:O.filter(x=>x.pedido_productoid==l.pedido_productoid)).reduce((x,N)=>x+N.modificadorseleccion_cantidad*N.pedido_precio,0);y+=f}return p+y},0));_e(()=>ye.value+t.currentOrder.delivery_price);const he=async()=>{var l;const p={order_id:t.currentOrder.order_id,responsible:(l=v.value.responsible)==null?void 0:l.name,reason:v.value.reason};await C.create_cancellling_request(p),j.value=!1,t.Notification.pause(),t.Notification.currentTime=0},se=g(!1),ae=()=>{const p=document.getElementById("factura").innerHTML,l=window.open("","_blank");l.document.write("<html><head><title>Factura</title>");const y=document.getElementsByTagName("style");for(let O=0;O<y.length;O++)l.document.write(y[O].outerHTML);l.document.write("<style>  @media print { html{height: min-content;}  *{text-transform:uppercase;align-items:center; width:100%; font-family: sans-serif;padding:0;margin:0; font-size:o.9rem !IMPORTANT} body {  -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } }  </style>"),l.document.write("</head><body>"),l.document.write(p),l.document.write("</body></html>"),l.document.close(),l.print(),setTimeout(()=>{l.close()},.01)},de=g([]);ue(async()=>{t.currentOrder.value=t.currentOrder,de.value=await J.get(`${Q}/sites`)});const oe=g(!1);g(!1);const v=g({responsible:null,reason:"Sin razon"}),ce=g([{name:"Restaurante",value:"restaurant"},{name:"Cliente",value:"client"}]),ve=()=>{v.value.responsible&&C.cancelOrder(t.currentOrder.order_id,v.value.reason,v.value.responsible.name).then(p=>{p&&(oe.value=!1,console.log("Order canceled successfully"))}).catch(p=>{console.error("Failed to cancel order:",p)})},ge=()=>{console.log(`Orden: ${t.currentOrder.order_id}, Nuevo Valor de Domicilio: ${ee.value}`),$.value=!1};return(p,l)=>{const y=D("Tag"),O=D("InputNumber"),_=D("Button"),f=D("Dialog"),x=D("Dropdown"),N=D("Textarea");return n(),i(P,null,[u(f,{visible:$.value,"onUpdate:visible":l[2]||(l[2]=a=>$.value=a),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[xe]),default:m(()=>[e("form",{onSubmit:le(ge,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Ce,u(y,{class:"px-4",severity:"warning"},{default:m(()=>[e("b",null,r(s(h)(s(t).currentOrder.delivery_price)),1)]),_:1}),$e,u(O,{style:{width:"100%"},modelValue:ee.value,"onUpdate:modelValue":l[0]||(l[0]=a=>ee.value=a),mode:"currency",currency:"COP",locale:"es-CO",maxFractionalDigits:"0",placeholder:"Ingresa el nuevo valor",required:""},null,8,["modelValue"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help",onClick:l[1]||(l[1]=a=>me())})],32)]),_:1},8,["visible"]),e("div",null,[u(f,{visible:oe.value,"onUpdate:visible":l[5]||(l[5]=a=>oe.value=a),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[De]),default:m(()=>[e("form",{onSubmit:le(ve,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Pe,u(x,{style:{width:"100%"},id:"responsible",modelValue:v.value.responsible,"onUpdate:modelValue":l[3]||(l[3]=a=>v.value.responsible=a),options:ce.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),Ve,u(N,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:v.value.reason,"onUpdate:modelValue":l[4]||(l[4]=a=>v.value.reason=a),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"cancelar",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),u(f,{visible:j.value,"onUpdate:visible":l[8]||(l[8]=a=>j.value=a),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[je]),default:m(()=>[e("form",{onSubmit:le(he,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Ne,Ee,u(x,{style:{width:"100%"},id:"responsible",modelValue:v.value.responsible,"onUpdate:modelValue":l[6]||(l[6]=a=>v.value.responsible=a),options:ce.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),ze,u(N,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:v.value.reason,"onUpdate:modelValue":l[7]||(l[7]=a=>v.value.reason=a),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"solicitar cancelacion",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),u(f,{closable:!1,style:{width:"30rem"},modal:"",visible:se.value,"onUpdate:visible":l[11]||(l[11]=a=>se.value=a)},{footer:m(()=>[e("div",Me,[u(_,{text:"",size:"small",onClick:l[9]||(l[9]=()=>{s(C).deliveryZero(s(t).currentOrder.order_id),se.value=!1}),style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"si"}),u(_,{onClick:l[10]||(l[10]=a=>se.value=!1),size:"small",style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"no"})])]),default:m(()=>[e("span",Te,[b(" Esta seguro de llevar a $0.00 el valor del domicilio para la orden "),e("b",null,r(s(t).currentOrder.order_id),1),b(" del cliente "),e("b",null,r(s(t).currentOrder.user_name),1),b("? ")])]),_:1},8,["visible"]),s(t).currentOrder.site_id!=32?(n(),k(f,{key:0,class:"mx-3",closeOnEscape:"",closable:!1,visible:s(t).visibles.currentOrder,"onUpdate:visible":l[18]||(l[18]=a=>s(t).visibles.currentOrder=a),modal:"",style:{"max-height":"95vh",width:"35rem",position:"relative"}},{footer:m(()=>[e("div",ss,[s(t).currentOrder.current_status=="generada"?(n(),k(_,{key:0,size:"small",onClick:l[12]||(l[12]=a=>s(C).prepareOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):c("",!0),s(t).currentOrder.current_status=="en preparacion"?(n(),k(_,{key:1,size:"small",onClick:l[13]||(l[13]=a=>s(C).sendOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):c("",!0),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:ae,severity:"warning",label:"imprimir"}),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:l[14]||(l[14]=a=>j.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",rs,[u(_,{style:{width:"100%"},icon:"pi pi-sync",onClick:l[15]||(l[15]=a=>V.value=!0),label:" metodo de pago",severity:"success"}),u(_,{icon:"pi pi-sync",onClick:l[16]||(l[16]=a=>$.value=!0),label:" Domicilio",class:"p-button-warning",style:{width:"100%"}})])]),default:m(()=>{var a,E,z,T,M,L,R,S,I,A,U,B,F,q,H,Y,G;return[e("div",Le,[e("div",null,[e("p",{class:pe(`estado ${(E=(a=s(t).currentOrder)==null?void 0:a.current_status)==null?void 0:E.split(" ")[0]}`)},r(ie(s(t).currentOrder)),3)])]),e("div",Re,[s(t).currentOrder.responsible_id?(n(),k(y,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:m(()=>[Se,b(" TRANSFERENCIA APROBADA")]),_:1})):c("",!0),b(),Ie,s(t).currentOrder.responsible_id?(n(),k(y,{key:1,class:"tag",severity:"success"},{default:m(()=>[b(r(s(t).currentOrder.name),1)]),_:1})):c("",!0),e("div",Ae,[e("p",Ue," ID:"+r(s(t).currentOrder.order_id),1),e("p",Be,r(s(t).currentOrder.user_name)+" "+r(s(t).currentOrder.second_name)+" "+r(s(t).currentOrder.first_last_name)+" "+r(s(t).currentOrder.second_last_name),1),e("p",Fe,[e("b",null," fecha: "+r((z=s(t).currentOrder.latest_status_timestamp)==null?void 0:z.split("T")[0]),1),e("b",null," Hora: "+r((R=(L=(M=(T=s(t).currentOrder.latest_status_timestamp)==null?void 0:T.split("T")[1])==null?void 0:M.split(":"))==null?void 0:L.slice(0,2))==null?void 0:R.join(":")),1)]),qe,(n(!0),i(P,null,W((A=(I=(S=s(t))==null?void 0:S.currentOrder)==null?void 0:I.pe_json)==null?void 0:A.listaPedidos,d=>{var K,Z;return n(),i("div",null,[e("div",He,[((K=s(t).currentOrder)==null?void 0:K.site_id)==32?(n(),i("p",Ye,[e("b",null," ( "+r(d.pedido_cantidad)+" kg ) ",1),b(" "+r(d.pedido_nombre_producto)+" ( "+r(d.pedido_cantidad/d.presentacion)+" "+r(d.presentation_unit_measure)+") ",1),Ge])):(n(),i("p",Ke,[e("b",null," ( "+r(d.pedido_cantidad)+" ) ",1),b(" "+r(d.pedido_nombre_producto)+" ",1),Ze])),e("div",null,[d.pedido_base_price?(n(),i("p",Je,r(s(h)(d.pedido_base_price*d.pedido_cantidad)),1)):(n(),i("p",Qe,r(s(h)(d.pedido_precio)),1))])]),((Z=d.lista_productocombo)==null?void 0:Z.length)>0?(n(),i("p",We,et)):c("",!0),d.lista_productocombo?(n(!0),i(P,{key:1},W(d.lista_productocombo,w=>(n(),i("p",tt,[b(" -- "),e("b",null,r(w.pedido_cantidad),1),b(" "+r(w.pedido_nombre),1)]))),256)):c("",!0),(n(!0),i(P,null,W(d.modificadorseleccionList,w=>(n(),i("div",st,[e("p",rt,[b(" - ( "+r(d.pedido_cantidad)+" ) ",1),e("b",null,r(w.modificadorseleccion_cantidad),1),b(" "+r(w.modificadorseleccion_nombre),1)]),e("p",lt,r(s(h)(w.pedido_precio*w.modificadorseleccion_cantidad*d.pedido_cantidad)),1)]))),256)),ot])}),256)),e("div",nt,[it,e("div",at,[e("p",dt,[e("b",null,r(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon-((B=(U=s(t).currentOrder.pe_json)==null?void 0:U.delivery)==null?void 0:B.delivery_costoenvio))),1)])]),ct,e("div",ut,[e("p",_t,[e("b",null,r(s(h)((q=(F=s(t).currentOrder.pe_json)==null?void 0:F.delivery)==null?void 0:q.delivery_costoenvio)),1)])]),pt,e("div",mt,[e("p",bt,[e("b",null,r(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),yt]),ht,e("p",vt,r((H=s(t).currentOrder.order_notes)==null?void 0:H.toLowerCase()),1),gt,e("div",ft,[Ot,e("div",wt,[e("span",kt,r(s(t).currentOrder.user_name)+" "+r(s(t).currentOrder.second_name)+" "+r(s(t).currentOrder.first_last_name)+" "+r(s(t).currentOrder.second_last_name),1)]),s(t).currentOrder.site_id==32?(n(),i("div",xt,$t)):c("",!0),s(t).currentOrder.site_id==32?(n(),i("div",Dt,[e("span",Pt,r(s(t).currentOrder.cedula_nit),1)])):c("",!0),Vt,e("div",jt,[e("span",Nt,r(s(t).currentOrder.order_type),1)]),s(t).currentOrder.site_id==32?(n(),i("div",Et,Tt)):c("",!0),s(t).currentOrder.site_id==32?(n(),i("div",Mt,[e("p",Lt,r(s(t).currentOrder.pe_json.delivery.delivery_horaentrega),1)])):c("",!0),s(t).currentOrder.placa?(n(),i("div",Rt,It)):c("",!0),s(t).currentOrder.placa?(n(),i("div",At,[e("p",Ut,r(s(t).currentOrder.placa),1)])):c("",!0),Bt,e("div",null,[e("span",Ft,r(s(t).currentOrder.user_phone),1)]),s(t).currentOrder.site_id==32?(n(),i("div",qt,Yt)):c("",!0),s(t).currentOrder.site_id==32?(n(),i("div",Gt,[e("span",Kt,r(s(t).currentOrder.email),1)])):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),i("div",Zt,Qt)):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),i("div",Wt,[e("span",Xt,r((Y=s(t).currentOrder.user_address)==null?void 0:Y.toLowerCase()),1)])):c("",!0),es,e("div",null,[e("span",ts,r((G=s(t).currentOrder.payment_method)==null?void 0:G.toLowerCase()),1)])])])]),u(_,{class:"shadow-4",onClick:l[17]||(l[17]=d=>s(t).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"])):(n(),k(f,{key:1,class:"mx-3",closeOnEscape:"",closable:!1,visible:s(t).visibles.currentOrder,"onUpdate:visible":l[25]||(l[25]=a=>s(t).visibles.currentOrder=a),modal:"",style:{"max-height":"95vh",width:"50rem",position:"relative"}},{footer:m(()=>[e("div",$r,[s(t).currentOrder.current_status=="generada"?(n(),k(_,{key:0,size:"small",onClick:l[19]||(l[19]=a=>s(C).prepareOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):c("",!0),s(t).currentOrder.current_status=="en preparacion"?(n(),k(_,{key:1,size:"small",onClick:l[20]||(l[20]=a=>s(C).sendOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):c("",!0),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:ae,severity:"warning",label:"imprimir"}),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:l[21]||(l[21]=a=>j.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",Dr,[u(_,{style:{width:"100%"},icon:"pi pi-sync",onClick:l[22]||(l[22]=a=>V.value=!0),label:" metodo de pago",severity:"success"}),u(_,{icon:"pi pi-sync",onClick:l[23]||(l[23]=a=>$.value=!0),label:" Domicilio",class:"p-button-warning",style:{width:"100%"}})])]),default:m(()=>{var a,E,z,T,M,L,R,S,I,A,U,B,F,q,H,Y,G;return[e("div",ls,[e("div",null,[e("p",{class:pe(`estado ${(E=(a=s(t).currentOrder)==null?void 0:a.current_status)==null?void 0:E.split(" ")[0]}`)},r(ie(s(t).currentOrder)),3)])]),e("div",os,[s(t).currentOrder.responsible_id?(n(),k(y,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:m(()=>[ns,b(" TRANSFERENCIA APROBADA")]),_:1})):c("",!0),b(),is,s(t).currentOrder.responsible_id?(n(),k(y,{key:1,class:"tag",severity:"success"},{default:m(()=>[b(r(s(t).currentOrder.name),1)]),_:1})):c("",!0),e("div",as,[e("p",ds," ID:"+r(s(t).currentOrder.order_id),1),e("p",cs,r(s(t).currentOrder.user_name)+" "+r(s(t).currentOrder.second_name)+" "+r(s(t).currentOrder.first_last_name)+" "+r(s(t).currentOrder.second_last_name),1),e("p",us,[e("b",null," fecha: "+r((z=s(t).currentOrder.latest_status_timestamp)==null?void 0:z.split("T")[0]),1),e("b",null," Hora: "+r((R=(L=(M=(T=s(t).currentOrder.latest_status_timestamp)==null?void 0:T.split("T")[1])==null?void 0:M.split(":"))==null?void 0:L.slice(0,2))==null?void 0:R.join(":")),1)]),_s,(n(!0),i(P,null,W((A=(I=(S=s(t))==null?void 0:S.currentOrder)==null?void 0:I.pe_json)==null?void 0:A.listaPedidos,d=>{var K,Z,w;return n(),i("div",null,[e("div",ps,[((K=s(t).currentOrder)==null?void 0:K.site_id)==32?(n(),i("p",ms,[e("b",null," ( "+r(d.pedido_cantidad)+" "+r(d.unit_measure)+" ) ",1),bs])):c("",!0),((Z=s(t).currentOrder)==null?void 0:Z.site_id)==32?(n(),i("p",ys,[b(r(d.pedido_nombre_producto)+" ",1),hs])):c("",!0),((w=s(t).currentOrder)==null?void 0:w.site_id)==32?(n(),i("p",vs,[b(r(d.presentacion)+" "+r(d.unit_measure)+" ",1),gs])):(n(),i("p",fs,[e("b",null," ( "+r(d.pedido_cantidad)+" ) ",1),b(" "+r(d.pedido_nombre_producto)+" ",1),Os])),e("div",null,[d.pedido_base_price?(n(),i("p",ws,r(s(h)(d.pedido_precio)),1)):(n(),i("p",ks,r(s(h)(d.pedido_precio)),1))]),e("div",null,[d.pedido_base_price?(n(),i("p",xs,r(s(h)(d.pedido_base_price*d.pedido_cantidad)),1)):(n(),i("p",Cs,r(s(h)(d.pedido_precio)),1))])]),(n(!0),i(P,null,W(d.modificadorseleccionList,re=>(n(),i("div",$s,[e("p",Ds,[b(" - ( "+r(d.pedido_cantidad)+" ) ",1),e("b",null,r(re.modificadorseleccion_cantidad),1),b(" "+r(re.modificadorseleccion_nombre),1)]),e("p",Ps,r(s(h)(re.pedido_precio*re.modificadorseleccion_cantidad*d.pedido_cantidad)),1)]))),256)),Vs])}),256)),e("div",js,[Ns,e("div",Es,[e("p",zs,[e("b",null,r(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon-((B=(U=s(t).currentOrder.pe_json)==null?void 0:U.delivery)==null?void 0:B.delivery_costoenvio))),1)])]),Ts,e("div",Ms,[e("p",Ls,[e("b",null,r(s(h)((q=(F=s(t).currentOrder.pe_json)==null?void 0:F.delivery)==null?void 0:q.delivery_costoenvio)),1)])]),Rs,e("div",Ss,[e("p",Is,[e("b",null,r(s(h)(s(t).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),As]),Us,e("p",Bs,r((H=s(t).currentOrder.order_notes)==null?void 0:H.toLowerCase()),1),Fs,e("div",qs,[Hs,e("div",Ys,[e("span",Gs,r(s(t).currentOrder.user_name)+" "+r(s(t).currentOrder.second_name)+" "+r(s(t).currentOrder.first_last_name)+" "+r(s(t).currentOrder.second_last_name),1)]),s(t).currentOrder.site_id==32?(n(),i("div",Ks,Js)):c("",!0),s(t).currentOrder.site_id==32?(n(),i("div",Qs,[e("span",Ws,r(s(t).currentOrder.cedula_nit),1)])):c("",!0),Xs,e("div",er,[e("span",tr,r(s(t).currentOrder.order_type),1)]),s(t).currentOrder.site_id==32?(n(),i("div",sr,lr)):c("",!0),s(t).currentOrder.site_id==32?(n(),i("div",or,[e("p",nr,r(s(t).currentOrder.pe_json.delivery.delivery_horaentrega),1)])):c("",!0),s(t).currentOrder.placa?(n(),i("div",ir,dr)):c("",!0),s(t).currentOrder.placa?(n(),i("div",cr,[e("p",ur,r(s(t).currentOrder.placa),1)])):c("",!0),_r,e("div",null,[e("span",pr,r(s(t).currentOrder.user_phone),1)]),s(t).currentOrder.site_id==32?(n(),i("div",mr,yr)):c("",!0),s(t).currentOrder.site_id==32?(n(),i("div",hr,[e("span",vr,r(s(t).currentOrder.email),1)])):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),i("div",gr,Or)):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),i("div",wr,[e("span",kr,r((Y=s(t).currentOrder.user_address)==null?void 0:Y.toLowerCase()),1)])):c("",!0),xr,e("div",null,[e("span",Cr,r((G=s(t).currentOrder.payment_method)==null?void 0:G.toLowerCase()),1)])])])]),u(_,{class:"shadow-4",onClick:l[24]||(l[24]=d=>s(t).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"]))]),u(f,{visible:V.value,"onUpdate:visible":l[27]||(l[27]=a=>V.value=a),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[Pr]),default:m(()=>[e("form",{onSubmit:le(be,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Vr,u(y,{class:"px-4",severity:"warning"},{default:m(()=>[e("span",jr,[e("b",null,r(s(t).currentOrder.payment_method),1)])]),_:1}),Nr,u(x,{style:{width:"100%"},id:"paymentMethod",modelValue:te.value,"onUpdate:modelValue":l[26]||(l[26]=a=>te.value=a),options:ne.value,optionLabel:"name",optionValue:"id",placeholder:"Selecciona un método de pago",required:""},null,8,["modelValue","options"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help"})],32)]),_:1},8,["visible"])],64)}}},Lr=fe(Er,[["__scopeId","data-v-613a4859"]]);export{Lr as D};
