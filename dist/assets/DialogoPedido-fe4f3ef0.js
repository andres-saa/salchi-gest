import{_ as ke,af as xe,h as g,i as pe,j as D,U as $,G as me,g as E,o as n,c as a,f as u,e as m,a as e,L as W,t as l,u as s,aj as x,q as b,d as k,k as c,b as be,F as V,r as X,p as Ce,m as De}from"./index-c4d0673c.js";import{f as y}from"./formatoPesos-2293ab52.js";/* empty css                                                                  */const o=ee=>(Ce("data-v-da2ca7cb"),ee=ee(),De(),ee),$e=o(()=>e("h3",null,[e("b",null,"TRASLADO DE SEDE")],-1)),Ee=o(()=>e("span",{for:"responsible"},"SELECCIONE LA SEDE DESTINO",-1)),Ve=o(()=>e("h3",null,[e("b",null,"Cambiar Valor del Domicilio")],-1)),Pe=o(()=>e("span",null,"Valor actual del domicilio",-1)),Ne=o(()=>e("span",null,"Nuevo valor del domicilio",-1)),Se=o(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),je=o(()=>e("span",{for:"responsible"},"Responsable",-1)),Te=o(()=>e("span",{for:"reason"},"Razón",-1)),Le=o(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),ze=o(()=>e("span",{class:"advert",style:{"text-transform":"lowercase",color:"red","font-weight":"bold"}}," Desde el 16 de mayo de 2024, la cancelación de órdenes requerirá autorización.",-1)),Re=o(()=>e("span",{for:"responsible"},"Responsable",-1)),Ae=o(()=>e("span",{for:"reason"},"Razón",-1)),Me={style:{"text-transform":"capitalize"}},Ie={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},Ue={class:""},Be={id:"factura",style:{width:"100%"}},Fe=o(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),qe=o(()=>e("br",null,null,-1)),He={class:"",style:{width:"auto"}},Ge={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Ke={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},Ye={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},Ze=o(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid","grid-template-columns":"auto auto"}},[e("div",{class:"px-2",style:{width:"100%"}},[e("b",null," productos")]),e("div",{class:"px-2"},[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),Je={style:{display:"grid",gap:"0 1rem","grid-template-columns":"auto auto"}},Qe={key:0,class:"p-0 m-0"},We=o(()=>e("br",null,null,-1)),Xe={key:1,class:"p-0 m-0"},et=o(()=>e("br",null,null,-1)),tt={key:0,style:{"text-align":"end",color:"black"}},st={key:1,style:{"text-align":"end",color:"black"}},rt={key:0,class:"p-0 m-0"},lt=o(()=>e("b",null,"COMBO INCLUYE",-1)),ot=[lt],nt={class:"p-0 m-0 ml-5",style:{}},it={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},at={class:"p-0 m-0",style:{}},dt={class:"p-0 m-0",style:{"text-align":"end"}},ct=o(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),ut={class:"",style:{display:"grid","margin-top":"1rem","grid-template-columns":"auto auto"}},_t=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),pt={class:""},mt={style:{"text-align":"end","font-weight":"bold",color:"black"}},bt=o(()=>e("div",{class:""},[e("span",{class:"m-0",style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),yt={class:""},ht={class:"m-0 p-0",style:{"text-align":"end","font-weight":"bold",color:"black"}},vt=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),gt={class:""},ft={class:"m-0 p-0",style:{"text-align":"end",color:"black","font-weight":"bold"}},Ot=o(()=>e("div",{class:""},null,-1)),wt=o(()=>e("p",{class:"px-2",style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),kt={class:"notas p-2 m-0",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},xt=o(()=>e("p",{class:"px-2",style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),Ct={style:{display:"grid",gap:"1rem 2rem","grid-template-columns":"auto auto","align-items":"start"}},Dt=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Nombre")])],-1)),$t={class:""},Et={style:{"text-align":"start",color:"black"}},Vt={key:0,class:"",style:{}},Pt=o(()=>e("span",null,[e("b",null,"Cedula / Nit")],-1)),Nt=[Pt],St={key:1,class:""},jt={style:{"text-align":"start",color:"black"}},Tt=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Metodo de entrega")])],-1)),Lt={class:""},zt={style:{"text-align":"start",color:"black"}},Rt={key:2,class:"",style:{}},At=o(()=>e("span",null,[e("b",null,"Fecha de entrega")],-1)),Mt=[At],It={key:3,class:""},Ut={style:{"text-align":"start",color:"black"}},Bt={key:4,class:"",style:{}},Ft=o(()=>e("span",null,[e("b",null,"Placa del vehiculo")],-1)),qt=[Ft],Ht={key:5,class:""},Gt={style:{"text-align":"start",color:"black"}},Kt=o(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),Yt={style:{"text-align":"start",color:"black"}},Zt={key:6,style:{}},Jt=o(()=>e("span",null,[e("b",null,"Correo")],-1)),Qt=[Jt],Wt={key:7},Xt={style:{"text-align":"start",color:"black"}},es={key:8,style:{}},ts=o(()=>e("span",null,[e("b",null,"direccion ")],-1)),ss=[ts],rs={key:9,style:{}},ls={style:{"text-align":"start",color:"black"}},os=o(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),ns={style:{"text-align":"start",color:"black"}},is={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},as={class:"mt-4",style:{display:"flex","align-items":"center",gap:"1rem"}},ds={class:""},cs={id:"factura",style:{width:"100%"}},us=o(()=>e("i",{class:"pi pi-whatsapp mr-2"},null,-1)),_s=o(()=>e("br",null,null,-1)),ps={class:"",style:{width:"auto"}},ms={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},bs={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},ys={style:{padding:"0",color:"black","text-align":"center",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content",display:"flex","justify-content":"center","flex-direction":"column"}},hs=o(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid",gap:"1rem","grid-template-columns":"1fr 3fr 1fr 1fr 1fr"}},[e("div",{class:"px-2",style:{width:"100%"}},[e("b",null," Cant.")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," producto")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," pres.")]),e("div",{class:"px-0",style:{width:"100%"}},[e("b",null," V. Kilo")]),e("div",{class:"px-2"},[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),vs={style:{display:"grid",gap:"0 1rem","grid-template-columns":"1fr 3fr 1fr 1fr 1fr"}},gs={key:0,class:"p-0 m-0"},fs=o(()=>e("br",null,null,-1)),Os={key:1,class:"p-0 m-0"},ws=o(()=>e("br",null,null,-1)),ks={key:2,class:"p-0 m-0"},xs=o(()=>e("br",null,null,-1)),Cs={key:3,class:"p-0 m-0"},Ds=o(()=>e("br",null,null,-1)),$s={key:0,style:{"text-align":"start",color:"black"}},Es={key:1,style:{"text-align":"start",color:"black"}},Vs={key:0,style:{"text-align":"end",color:"black"}},Ps={key:1,style:{"text-align":"end",color:"black"}},Ns={style:{display:"flex",width:"","justify-content":"space-between"},class:"p-0 m-0"},Ss={class:"p-0 m-0",style:{}},js={class:"p-0 m-0",style:{"text-align":"end"}},Ts=o(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),Ls={class:"",style:{display:"grid","margin-top":"1rem","grid-template-columns":"auto auto"}},zs=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),Rs={class:""},As={style:{"text-align":"end","font-weight":"bold",color:"black"}},Ms=o(()=>e("div",{class:""},[e("span",{class:"m-0",style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),Is={class:""},Us={class:"m-0 p-0",style:{"text-align":"end","font-weight":"bold",color:"black"}},Bs=o(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),Fs={class:""},qs={class:"m-0 p-0",style:{"text-align":"end",color:"black","font-weight":"bold"}},Hs=o(()=>e("div",{class:""},null,-1)),Gs=o(()=>e("p",{class:"px-2",style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),Ks={class:"notas p-2 m-0",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},Ys=o(()=>e("p",{class:"px-2",style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),Zs={style:{display:"grid",gap:"1rem 2rem","grid-template-columns":"auto auto","align-items":"start"}},Js=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Nombre")])],-1)),Qs={class:""},Ws={style:{"text-align":"start",color:"black"}},Xs={key:0,class:"",style:{}},er=o(()=>e("span",null,[e("b",null,"Cedula / Nit")],-1)),tr=[er],sr={key:1,class:""},rr={style:{"text-align":"start",color:"black"}},lr=o(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"Metodo de entrega")])],-1)),or={class:""},nr={style:{"text-align":"start",color:"black"}},ir={key:2,class:"",style:{}},ar=o(()=>e("span",null,[e("b",null,"Fecha de entrega")],-1)),dr=[ar],cr={key:3,class:""},ur={style:{"text-align":"start",color:"black"}},_r={key:4,class:"",style:{}},pr=o(()=>e("span",null,[e("b",null,"Placa del vehiculo")],-1)),mr=[pr],br={key:5,class:""},yr={style:{"text-align":"start",color:"black"}},hr=o(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),vr={style:{"text-align":"start",color:"black"}},gr={key:6,style:{}},fr=o(()=>e("span",null,[e("b",null,"Correo")],-1)),Or=[fr],wr={key:7},kr={style:{"text-align":"start",color:"black"}},xr={key:8,style:{}},Cr=o(()=>e("span",null,[e("b",null,"direccion ")],-1)),Dr=[Cr],$r={key:9,style:{}},Er={style:{"text-align":"start",color:"black"}},Vr=o(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),Pr={style:{"text-align":"start",color:"black"}},Nr={key:10},Sr=o(()=>e("span",null,[e("b",null,"Estado del pago")],-1)),jr=[Sr],Tr={key:11},Lr=o(()=>e("span",{style:{"text-align":"start",color:"black"}}," Aprobado ",-1)),zr=[Lr],Rr={key:12},Ar=o(()=>e("span",null,[e("b",null,"Referencia de pago")],-1)),Mr=[Ar],Ir={key:13},Ur={style:{"text-align":"start",color:"black"}},Br={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},Fr={class:"mt-4",style:{display:"flex","align-items":"center",gap:"1rem"}},qr=o(()=>e("h3",null,[e("b",null,"Cambiar Método de Pago")],-1)),Hr=o(()=>e("span",{for:"paymentMethod"},"Método de Pago actual",-1)),Gr={for:"paymentMethod"},Kr=o(()=>e("span",{for:"paymentMethod"},"Nuevo método de Pago",-1)),Yr={__name:"DialogoPedido",setup(ee){const t=xe(),C=g(!1),te=g(t.currentOrder.delivery_price),ye=async()=>{const p=te.value;await D.put(`${$}/changue-delivery/${t.currentOrder.order_id}`,{price:p}),C.value=!1,t.numberOders==1?t.numberOders=2:t.numberOders=1,t.visibles.currentOrder=!1},P=g(!1),se=g(null),de=g([]);pe(async()=>{try{const p=await D.get(`${$}/payment_methods`);de.value=p}catch(p){console.error("Error al obtener métodos de pago:",p)}t.currentOrder.value=t.currentOrder,ie.value=await D.get(`${$}/sites`)});const he=async()=>{if(se.value)try{await D.put(`${$}/change-method/${t.currentOrder.order_id}/${se.value}`,`Cambiando método de pago para la orden ${t.currentOrder.order_id}`),P.value=!1,t.visibles.currentOrder=!1,console.log("Método de pago cambiado exitosamente")}catch(p){console.error("Error al cambiar el método de pago:",p)}},ce=p=>{var v,_,f,O;const r=(O=(f=(_=(v=p.latest_status_timestamp)==null?void 0:v.split("T")[1])==null?void 0:_.split(":"))==null?void 0:f.slice(0,2))==null?void 0:O.join(":");switch(p.current_status){case"enviada":return`El pedido fue enviado a su domicilio a las ${r}`;case"cancelada":return`El pedido fue cancelado a las ${r}
Responsable: ${p.responsible}
Razón: ${p.reason}`;case"en preparacion":return`El pedido está en preparación desde las ${r} y será enviado en breve.`;case"generada":return`Hemos recibido su pedido a las ${r} y empezaremos a prepararlo en breve. Gracias por su espera.`;default:return""}},ne=g(0),N=g(!1),ve=me(()=>t.currentOrder.pe_json.listaPedidos.reduce((p,r)=>{var _;let v=r.pedido_cantidad*r.pedido_precio;if(r.modificadorseleccionList&&r.modificadorseleccionList.length>0){const O=((_=r.modificadorseleccionList)==null?void 0:_.filter(S=>S.pedido_productoid==r.pedido_productoid)).reduce((S,j)=>S+j.modificadorseleccion_cantidad*j.pedido_precio,0);v+=O}return p+v},0));me(()=>ve.value+t.currentOrder.delivery_price);const ge=async()=>{var r;const p={order_id:t.currentOrder.order_id,responsible:(r=h.value.responsible)==null?void 0:r.name,reason:h.value.reason};await x.create_cancellling_request(p),N.value=!1,t.Notification.pause(),t.Notification.currentTime=0},re=g(!1),fe=()=>{const p=document.getElementById("factura").innerHTML,r=window.open("","_blank");r.document.write("<html><head><title>Factura</title>");const v=document.getElementsByTagName("style");for(let _=0;_<v.length;_++)r.document.write(v[_].outerHTML);r.document.write("<style>  @media print { html{height: min-content;}  *{text-transform:uppercase;align-items:center; width:100%; font-family: sans-serif;padding:0;margin:0; font-size:o.9rem !IMPORTANT} body {  -webkit-print-color-adjust: exact; /* Chrome, Safari */ color-adjust: exact; /* Firefox */ } }  </style>"),r.document.write("</head><body>"),r.document.write(p),r.document.write("</body></html>"),r.document.close(),r.print(),setTimeout(()=>{r.close()},.01)},ie=g([]);pe(async()=>{t.currentOrder.value=t.currentOrder,ie.value=await D.get(`${$}/sites`)});const ae=g(!1),le=g(!1),h=g({responsible:null,reason:"Sin razon"}),ue=g([{name:"Restaurante",value:"restaurant"},{name:"Cliente",value:"client"}]),_e=()=>{h.value.responsible&&x.cancelOrder(t.currentOrder.order_id,h.value.reason,h.value.responsible.name).then(p=>{p&&(ae.value=!1,console.log("Order canceled successfully"))}).catch(p=>{console.error("Failed to cancel order:",p)})},Oe=async()=>{const p=t.currentOrder.order_id,r=ne.value;await D.put(`${$}/traslate-order`,{site_id:r,order_id:p},`trasladando orden ${p}`),t.visibles.currentOrder=!1,le.value=!1},we=()=>{console.log(`Orden: ${t.currentOrder.order_id}, Nuevo Valor de Domicilio: ${te.value}`),C.value=!1};return(p,r)=>{const v=E("Dropdown"),_=E("Button"),f=E("Dialog"),O=E("Tag"),S=E("InputNumber"),j=E("Textarea");return n(),a(V,null,[u(f,{visible:le.value,"onUpdate:visible":r[2]||(r[2]=i=>le.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[$e]),default:m(()=>[e("form",{onSubmit:W(_e,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Ee,u(v,{style:{width:"100%"},id:"responsible",modelValue:ne.value,"onUpdate:modelValue":r[0]||(r[0]=i=>ne.value=i),optionValue:"site_id",options:ie.value.filter(i=>i.show_on_web),optionLabel:"site_name",placeholder:"Seleccione la sede destino"},null,8,["modelValue","options"]),u(_,{onClick:r[1]||(r[1]=i=>Oe()),style:{width:"100%","border-radius":"0.5rem"},label:"Trasladar",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),u(f,{visible:C.value,"onUpdate:visible":r[5]||(r[5]=i=>C.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[Ve]),default:m(()=>[e("form",{onSubmit:W(we,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Pe,u(O,{class:"px-4",severity:"warning"},{default:m(()=>[e("b",null,l(s(y)(s(t).currentOrder.delivery_price)),1)]),_:1}),Ne,u(S,{style:{width:"100%"},modelValue:te.value,"onUpdate:modelValue":r[3]||(r[3]=i=>te.value=i),mode:"currency",currency:"COP",locale:"es-CO",maxFractionalDigits:"0",placeholder:"Ingresa el nuevo valor",required:""},null,8,["modelValue"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help",onClick:r[4]||(r[4]=i=>ye())})],32)]),_:1},8,["visible"]),e("div",null,[u(f,{visible:ae.value,"onUpdate:visible":r[8]||(r[8]=i=>ae.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[Se]),default:m(()=>[e("form",{onSubmit:W(_e,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[je,u(v,{style:{width:"100%"},id:"responsible",modelValue:h.value.responsible,"onUpdate:modelValue":r[6]||(r[6]=i=>h.value.responsible=i),options:ue.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),Te,u(j,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:h.value.reason,"onUpdate:modelValue":r[7]||(r[7]=i=>h.value.reason=i),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"cancelar",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),u(f,{visible:N.value,"onUpdate:visible":r[11]||(r[11]=i=>N.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[Le]),default:m(()=>[e("form",{onSubmit:W(ge,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[ze,Re,u(v,{style:{width:"100%"},id:"responsible",modelValue:h.value.responsible,"onUpdate:modelValue":r[9]||(r[9]=i=>h.value.responsible=i),options:ue.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),Ae,u(j,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:h.value.reason,"onUpdate:modelValue":r[10]||(r[10]=i=>h.value.reason=i),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"solicitar cancelacion",type:"submit",class:"p-button-danger"})],32)]),_:1},8,["visible"]),u(f,{closable:!1,style:{width:"30rem"},modal:"",visible:re.value,"onUpdate:visible":r[14]||(r[14]=i=>re.value=i)},{footer:m(()=>[e("div",Ie,[u(_,{text:"",size:"small",onClick:r[12]||(r[12]=()=>{s(x).deliveryZero(s(t).currentOrder.order_id),re.value=!1}),style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"si"}),u(_,{onClick:r[13]||(r[13]=i=>re.value=!1),size:"small",style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"no"})])]),default:m(()=>[e("span",Me,[b(" Esta seguro de llevar a $0.00 el valor del domicilio para la orden "),e("b",null,l(s(t).currentOrder.order_id),1),b(" del cliente "),e("b",null,l(s(t).currentOrder.user_name),1),b("? ")])]),_:1},8,["visible"]),s(t).currentOrder.site_id!=32?(n(),k(f,{key:0,class:"mx-3",closeOnEscape:"",closable:!1,visible:s(t).visibles.currentOrder,"onUpdate:visible":r[22]||(r[22]=i=>s(t).visibles.currentOrder=i),modal:"",style:{"max-height":"95vh",width:"35rem",position:"relative"}},{footer:m(()=>[e("div",is,[s(t).currentOrder.current_status=="generada"?(n(),k(_,{key:0,size:"small",onClick:r[15]||(r[15]=i=>s(x).prepareOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):c("",!0),s(t).currentOrder.current_status=="en preparacion"?(n(),k(_,{key:1,size:"small",onClick:r[16]||(r[16]=i=>s(x).sendOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):c("",!0),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:r[17]||(r[17]=()=>le.value=!0),severity:"warning",label:"TRASLADO"}),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:r[18]||(r[18]=i=>N.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",as,[u(_,{style:{width:"100%"},icon:"pi pi-sync",onClick:r[19]||(r[19]=i=>P.value=!0),label:" metodo de pago",severity:"success"}),u(_,{icon:"pi pi-sync",onClick:r[20]||(r[20]=i=>C.value=!0),label:" Domicilio",class:"p-button-warning",style:{width:"100%"}})])]),default:m(()=>{var i,T,L,z,R,A,M,I,U,B,F,q,H,G,K,Y,Z;return[e("div",Ue,[e("div",null,[e("p",{class:be(`estado ${(T=(i=s(t).currentOrder)==null?void 0:i.current_status)==null?void 0:T.split(" ")[0]}`)},l(ce(s(t).currentOrder)),3)])]),e("div",Be,[s(t).currentOrder.responsible_id?(n(),k(O,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:m(()=>[Fe,b(" TRANSFERENCIA APROBADA")]),_:1})):c("",!0),b(),qe,s(t).currentOrder.responsible_id?(n(),k(O,{key:1,class:"tag",severity:"success"},{default:m(()=>[b(l(s(t).currentOrder.name),1)]),_:1})):c("",!0),e("div",He,[e("p",Ge," ID:"+l(s(t).currentOrder.order_id),1),e("p",Ke,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1),e("p",Ye,[e("b",null," fecha: "+l((L=s(t).currentOrder.latest_status_timestamp)==null?void 0:L.split("T")[0]),1),e("b",null," Hora: "+l((M=(A=(R=(z=s(t).currentOrder.latest_status_timestamp)==null?void 0:z.split("T")[1])==null?void 0:R.split(":"))==null?void 0:A.slice(0,2))==null?void 0:M.join(":")),1)]),Ze,(n(!0),a(V,null,X((B=(U=(I=s(t))==null?void 0:I.currentOrder)==null?void 0:U.pe_json)==null?void 0:B.listaPedidos,d=>{var J,Q;return n(),a("div",null,[e("div",Je,[((J=s(t).currentOrder)==null?void 0:J.site_id)==32?(n(),a("p",Qe,[e("b",null," ( "+l(d.pedido_cantidad)+" kg ) ",1),b(" "+l(d.pedido_nombre_producto)+" ( "+l(d.pedido_cantidad/d.presentacion)+" "+l(d.presentation_unit_measure)+") ",1),We])):(n(),a("p",Xe,[e("b",null," ( "+l(d.pedido_cantidad)+" ) ",1),b(" "+l(d.pedido_nombre_producto)+" ",1),et])),e("div",null,[d.pedido_base_price?(n(),a("p",tt,l(s(y)(d.pedido_base_price*d.pedido_cantidad)),1)):(n(),a("p",st,l(s(y)(d.pedido_precio)),1))])]),((Q=d.lista_productocombo)==null?void 0:Q.length)>0?(n(),a("p",rt,ot)):c("",!0),d.lista_productocombo?(n(!0),a(V,{key:1},X(d.lista_productocombo,w=>(n(),a("p",nt,[b(" -- "),e("b",null,l(w.pedido_cantidad),1),b(" "+l(w.pedido_nombre),1)]))),256)):c("",!0),(n(!0),a(V,null,X(d.modificadorseleccionList,w=>(n(),a("div",it,[e("p",at,[b(" - ( "+l(d.pedido_cantidad)+" ) ",1),e("b",null,l(w.modificadorseleccion_cantidad),1),b(" "+l(w.modificadorseleccion_nombre),1)]),e("p",dt,l(s(y)(w.pedido_precio*w.modificadorseleccion_cantidad*d.pedido_cantidad)),1)]))),256)),ct])}),256)),e("div",ut,[_t,e("div",pt,[e("p",mt,[e("b",null,l(s(y)(s(t).currentOrder.pe_json.delivery.delivery_pagocon-((q=(F=s(t).currentOrder.pe_json)==null?void 0:F.delivery)==null?void 0:q.delivery_costoenvio))),1)])]),bt,e("div",yt,[e("p",ht,[e("b",null,l(s(y)((G=(H=s(t).currentOrder.pe_json)==null?void 0:H.delivery)==null?void 0:G.delivery_costoenvio)),1)])]),vt,e("div",gt,[e("p",ft,[e("b",null,l(s(y)(s(t).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),Ot]),wt,e("p",kt,l((K=s(t).currentOrder.order_notes)==null?void 0:K.toLowerCase()),1),xt,e("div",Ct,[Dt,e("div",$t,[e("span",Et,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Vt,Nt)):c("",!0),s(t).currentOrder.site_id==32?(n(),a("div",St,[e("span",jt,l(s(t).currentOrder.cedula_nit),1)])):c("",!0),Tt,e("div",Lt,[e("span",zt,l(s(t).currentOrder.order_type),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Rt,Mt)):c("",!0),s(t).currentOrder.site_id==32?(n(),a("div",It,[e("p",Ut,l(s(t).currentOrder.pe_json.delivery.delivery_horaentrega),1)])):c("",!0),s(t).currentOrder.placa?(n(),a("div",Bt,qt)):c("",!0),s(t).currentOrder.placa?(n(),a("div",Ht,[e("p",Gt,l(s(t).currentOrder.placa),1)])):c("",!0),Kt,e("div",null,[e("span",Yt,l(s(t).currentOrder.user_phone),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Zt,Qt)):c("",!0),s(t).currentOrder.site_id==32?(n(),a("div",Wt,[e("span",Xt,l(s(t).currentOrder.email),1)])):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",es,ss)):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",rs,[e("span",ls,l((Y=s(t).currentOrder.user_address)==null?void 0:Y.toLowerCase()),1)])):c("",!0),os,e("div",null,[e("span",ns,l((Z=s(t).currentOrder.payment_method)==null?void 0:Z.toLowerCase()),1)])])])]),u(_,{class:"shadow-4",onClick:r[21]||(r[21]=d=>s(t).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"])):(n(),k(f,{key:1,class:"mx-3",closeOnEscape:"",closable:!1,visible:s(t).visibles.currentOrder,"onUpdate:visible":r[29]||(r[29]=i=>s(t).visibles.currentOrder=i),modal:"",style:{"max-height":"95vh",width:"50rem",position:"relative"}},{footer:m(()=>[e("div",Br,[s(t).currentOrder.current_status=="generada"?(n(),k(_,{key:0,size:"small",onClick:r[23]||(r[23]=i=>s(x).prepareOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"Preparar"})):c("",!0),s(t).currentOrder.current_status=="en preparacion"?(n(),k(_,{key:1,size:"small",onClick:r[24]||(r[24]=i=>s(x).sendOrder(s(t).currentOrder.order_id)),style:{"border-radius":"0.3rem",width:"100%"},severity:"success",label:"enviar"})):c("",!0),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:fe,severity:"warning",label:"imprimir"}),u(_,{size:"small",style:{"border-radius":"0.3rem",width:"100%"},onClick:r[25]||(r[25]=i=>N.value=!0),severity:"danger",label:"CANCELAR "})]),e("div",Fr,[u(_,{style:{width:"100%"},icon:"pi pi-sync",onClick:r[26]||(r[26]=i=>P.value=!0),label:" metodo de pago",severity:"success"}),u(_,{icon:"pi pi-sync",onClick:r[27]||(r[27]=i=>C.value=!0),label:" Domicilio",class:"p-button-warning",style:{width:"100%"}})])]),default:m(()=>{var i,T,L,z,R,A,M,I,U,B,F,q,H,G,K,Y,Z;return[e("div",ds,[e("div",null,[e("p",{class:be(`estado ${(T=(i=s(t).currentOrder)==null?void 0:i.current_status)==null?void 0:T.split(" ")[0]}`)},l(ce(s(t).currentOrder)),3)])]),e("div",cs,[s(t).currentOrder.responsible_id?(n(),k(O,{key:0,style:{},class:"tag mb-2",severity:"success"},{default:m(()=>[us,b(" TRANSFERENCIA APROBADA")]),_:1})):c("",!0),b(),_s,s(t).currentOrder.responsible_id?(n(),k(O,{key:1,class:"tag",severity:"success"},{default:m(()=>[b(l(s(t).currentOrder.name),1)]),_:1})):c("",!0),e("div",ps,[e("p",ms," ID:"+l(s(t).currentOrder.order_id),1),e("p",bs,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1),e("p",ys,[e("b",null," fecha: "+l((L=s(t).currentOrder.latest_status_timestamp)==null?void 0:L.split("T")[0]),1),e("b",null," Hora: "+l((M=(A=(R=(z=s(t).currentOrder.latest_status_timestamp)==null?void 0:z.split("T")[1])==null?void 0:R.split(":"))==null?void 0:A.slice(0,2))==null?void 0:M.join(":")),1)]),hs,(n(!0),a(V,null,X((B=(U=(I=s(t))==null?void 0:I.currentOrder)==null?void 0:U.pe_json)==null?void 0:B.listaPedidos,d=>{var J,Q,w;return n(),a("div",null,[e("div",vs,[((J=s(t).currentOrder)==null?void 0:J.site_id)==32?(n(),a("p",gs,[e("b",null," ( "+l(d.pedido_cantidad)+" "+l(d.unit_measure)+" ) ",1),fs])):c("",!0),((Q=s(t).currentOrder)==null?void 0:Q.site_id)==32?(n(),a("p",Os,[b(l(d.pedido_nombre_producto)+" ",1),ws])):c("",!0),((w=s(t).currentOrder)==null?void 0:w.site_id)==32?(n(),a("p",ks,[b(l(d.presentacion)+" "+l(d.unit_measure)+" ",1),xs])):(n(),a("p",Cs,[e("b",null," ( "+l(d.pedido_cantidad)+" ) ",1),b(" "+l(d.pedido_nombre_producto)+" ",1),Ds])),e("div",null,[d.pedido_base_price?(n(),a("p",$s,l(s(y)(d.pedido_precio)),1)):(n(),a("p",Es,l(s(y)(d.pedido_precio)),1))]),e("div",null,[d.pedido_base_price?(n(),a("p",Vs,l(s(y)(d.pedido_base_price*d.pedido_cantidad)),1)):(n(),a("p",Ps,l(s(y)(d.pedido_precio)),1))])]),(n(!0),a(V,null,X(d.modificadorseleccionList,oe=>(n(),a("div",Ns,[e("p",Ss,[b(" - ( "+l(d.pedido_cantidad)+" ) ",1),e("b",null,l(oe.modificadorseleccion_cantidad),1),b(" "+l(oe.modificadorseleccion_nombre),1)]),e("p",js,l(s(y)(oe.pedido_precio*oe.modificadorseleccion_cantidad*d.pedido_cantidad)),1)]))),256)),Ts])}),256)),e("div",Ls,[zs,e("div",Rs,[e("p",As,[e("b",null,l(s(y)(s(t).currentOrder.pe_json.delivery.delivery_pagocon-((q=(F=s(t).currentOrder.pe_json)==null?void 0:F.delivery)==null?void 0:q.delivery_costoenvio))),1)])]),Ms,e("div",Is,[e("p",Us,[e("b",null,l(s(y)((G=(H=s(t).currentOrder.pe_json)==null?void 0:H.delivery)==null?void 0:G.delivery_costoenvio)),1)])]),Bs,e("div",Fs,[e("p",qs,[e("b",null,l(s(y)(s(t).currentOrder.pe_json.delivery.delivery_pagocon)),1)])]),Hs]),Gs,e("p",Ks,l((K=s(t).currentOrder.order_notes)==null?void 0:K.toLowerCase()),1),Ys,e("div",Zs,[Js,e("div",Qs,[e("span",Ws,l(s(t).currentOrder.user_name)+" "+l(s(t).currentOrder.second_name)+" "+l(s(t).currentOrder.first_last_name)+" "+l(s(t).currentOrder.second_last_name),1)]),s(t).currentOrder.site_id==32?(n(),a("div",Xs,tr)):c("",!0),s(t).currentOrder.site_id==32?(n(),a("div",sr,[e("span",rr,l(s(t).currentOrder.cedula_nit),1)])):c("",!0),lr,e("div",or,[e("span",nr,l(s(t).currentOrder.order_type),1)]),s(t).currentOrder.site_id==32?(n(),a("div",ir,dr)):c("",!0),s(t).currentOrder.site_id==32?(n(),a("div",cr,[e("p",ur,l(s(t).currentOrder.pe_json.delivery.delivery_horaentrega),1)])):c("",!0),s(t).currentOrder.placa?(n(),a("div",_r,mr)):c("",!0),s(t).currentOrder.placa?(n(),a("div",br,[e("p",yr,l(s(t).currentOrder.placa),1)])):c("",!0),hr,e("div",null,[e("span",vr,l(s(t).currentOrder.user_phone),1)]),s(t).currentOrder.site_id==32?(n(),a("div",gr,Or)):c("",!0),s(t).currentOrder.site_id==32?(n(),a("div",wr,[e("span",kr,l(s(t).currentOrder.email),1)])):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",xr,Dr)):c("",!0),s(t).currentOrder.order_type!="Pasar a recoger"?(n(),a("div",$r,[e("span",Er,l((Y=s(t).currentOrder.user_address)==null?void 0:Y.toLowerCase()),1)])):c("",!0),Vr,e("div",null,[e("span",Pr,l((Z=s(t).currentOrder.payment_method)==null?void 0:Z.toLowerCase()),1)]),s(t).currentOrder.epayco_ref?(n(),a("div",Nr,jr)):c("",!0),s(t).currentOrder.epayco_ref?(n(),a("div",Tr,zr)):c("",!0),s(t).currentOrder.epayco_ref?(n(),a("div",Rr,Mr)):c("",!0),s(t).currentOrder.epayco_ref?(n(),a("div",Ir,[e("span",Ur,l(s(t).currentOrder.epayco_ref),1)])):c("",!0)])])]),u(_,{class:"shadow-4",onClick:r[28]||(r[28]=d=>s(t).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"]))]),u(f,{visible:P.value,"onUpdate:visible":r[31]||(r[31]=i=>P.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:m(()=>[qr]),default:m(()=>[e("form",{onSubmit:W(he,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[Hr,u(O,{class:"px-4",severity:"warning"},{default:m(()=>[e("span",Gr,[e("b",null,l(s(t).currentOrder.payment_method),1)])]),_:1}),Kr,u(v,{style:{width:"100%"},id:"paymentMethod",modelValue:se.value,"onUpdate:modelValue":r[30]||(r[30]=i=>se.value=i),options:de.value,optionLabel:"name",optionValue:"id",placeholder:"Selecciona un método de pago",required:""},null,8,["modelValue","options"]),u(_,{style:{width:"100%","border-radius":"0.5rem"},label:"Cambiar",type:"submit",class:"p-button-help"})],32)]),_:1},8,["visible"])],64)}}},Wr=ke(Yr,[["__scopeId","data-v-da2ca7cb"]]);export{Wr as D};
