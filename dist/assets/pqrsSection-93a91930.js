import"./pqrsService-99332183.js";import{_ as Ie,r as i,A as Be,s as Te,B as Fe,l as Ae,j as Ge,k as D,U as P,C as Se,a as b,o as l,c as n,g as u,w as _,b as t,F as z,d as G,m as y,u as g,f as c,q as p,t as o,v as He,D as Me,n as Qe,e as H,p as Xe,h as Ye,E as Je}from"./index-3928049f.js";import"./editor.esm-215ca257.js";/* empty css                                                             */import{F as Ke}from"./FileSaver.min-cc8488c4.js";import We from"./pqrUser-26a12558.js";import"./_commonjsHelpers-23102255.js";/* empty css                                                                */const r=M=>(Xe("data-v-60a34324"),M=M(),Ye(),M),Ze={style:{display:"flex","flex-direction":"column"}},et={style:{"min-width":"max-content",margin:"0",padding:"0"},class:"p-text-secondary m-0 p-0"},tt={style:{"min-width":"max-content",margin:"0",padding:"0"},class:"p-text-secondary m-0 p-0"},st={class:"m-0"},lt=r(()=>t("div",null,null,-1)),at={key:0,class:"m-0",style:{"text-transform":"capitalize"}},ot=r(()=>t("b",null,"Responsable:",-1)),nt={key:1,class:"p-0 m-0"},it={key:2,class:"p-0 m-0"},rt={key:3},ut=r(()=>t("b",null,"Notas",-1)),dt=r(()=>t("br",null,null,-1)),ct=r(()=>t("div",{style:{display:"flex",gap:"1rem"}},null,-1)),mt={style:{display:"flex","flex-direction":"column"}},pt=r(()=>t("h6",{class:"mx-0 my-0"},[t("b",null,"TIPO")],-1)),_t={style:{display:"flex","align-items":"center",gap:"1rem"}},yt=r(()=>t("h6",{class:"mx-0 my-0"},[t("b",null,"CANAL")],-1)),ht={class:"m-0 p-0",style:{display:"flex","align-items":"center",gap:"1rem"}},vt=r(()=>t("h6",{class:"mt-3 mb-2"},[t("b",null,"CONTEXTO")],-1)),bt={style:{display:"flex",gap:"1rem"}},xt={style:{display:"flex","flex-direction":"column"}},ft={key:0,class:"mt-3 mb-3"},gt=r(()=>t("b",null,"DATOS DEL CLIENTE",-1)),wt=[gt],kt={style:{display:"flex",gap:"1rem"}},Vt={style:{display:"flex","flex-direction":"column"}},Tt={key:0},St=r(()=>t("b",null,"Nombre: ",-1)),Rt={key:1},qt=r(()=>t("b",null,"Telefono: ",-1)),jt={key:2},Ct=r(()=>t("b",null,"Direccion: ",-1)),$t={key:3},Dt=r(()=>t("b",null,"Orden: ",-1)),Pt=r(()=>t("h6",null,[t("b",null,"HISTORIAL")],-1)),Nt={style:{display:"flex",gap:"1rem"}},Et={style:{display:"flex","flex-direction":"column"}},Ot={style:{display:"flex","flex-direction":"column"}},zt={style:{"min-width":"max-content",margin:"0",padding:"0"},class:"p-text-secondary m-0 p-0"},Lt={style:{"min-width":"max-content",margin:"0",padding:"0"},class:"p-text-secondary m-0 p-0"},Ut={class:"m-0"},It=r(()=>t("div",null,null,-1)),Bt={key:0,class:"m-0",style:{"text-transform":"capitalize"}},Ft=r(()=>t("b",null,"Responsable:",-1)),At={key:1,class:"p-0 m-0"},Gt={key:2,class:"p-0 m-0"},Ht={key:3},Mt=r(()=>t("b",null,"Notas",-1)),Qt=r(()=>t("br",null,null,-1)),Xt=r(()=>t("div",{style:{display:"flex",gap:"1rem"}},null,-1)),Yt=r(()=>t("h6",null,[t("b",null,"Como desea proceder?")],-1)),Jt={key:1},Kt={key:0,style:{display:"flex","justify-content":"space-between",margin:"1rem 0"}},Wt=r(()=>t("h6",{class:"m-0"},"Le dio una cortesia del 100% ?",-1)),Zt={key:1,style:{display:"flex","justify-content":"space-between",margin:"1rem 0"}},es=r(()=>t("h6",{class:"m-0"},"Le dio un bono de descuento?",-1)),ts={key:2},ss=r(()=>t("h6",{class:"m-0 my-3"},"porcentaje del descuento ",-1)),ls={key:3},as=r(()=>t("h6",{class:"m-0 my-3"},"Valor de la orden",-1)),os={key:4},ns=r(()=>t("h6",{class:"m-0 my-3"},"Id de la orden",-1)),is=r(()=>t("h6",{class:"m-0 my-3"},"Detalles",-1)),rs={style:{"background-color":"#ff00002e"},class:"p-3"},us=r(()=>t("b",null,"No preste sus credenciales de Salchigest, cada miembro de la empresa tiene los suyos, muchas gracias",-1)),ds={style:{display:"flex","justify-content":"end","margin-top":"2rem"}},cs={style:{"min-width":"1200px"}},ms={class:"nav_bar shadow-2 p-0 my-0 mx-3",style:{position:"sticky",top:"3rem","max-width":"1200px","background-color":"white","z-index":"99"}},ps={class:"nav_bar--buttons p-0 m-1",style:{}},_s={key:"",class:"",style:{display:"flex","align-items":"center"}},ys={style:{display:"flex","justify-content":"center",width:"100%","max-width":"1200px","align-items":"end",gap:"1rem"},class:"mt-0 px-1"},hs=r(()=>t("h6",null,[t("b",null," Desde")],-1)),vs=r(()=>t("h6",null,[t("b",null,"Hasta")],-1)),bs=r(()=>t("h6",null,[t("b",null,"Sedes")],-1)),xs={style:{display:"flex","align-items":"center",gap:"1rem"}},fs=r(()=>t("h6",{class:"m-0"},[t("b",null,"MODOS")],-1)),gs={style:{"text-align":"right",margin:"1rem"}},ws=r(()=>t("div",{class:"px-0 mt-2",style:{display:"flex",width:"100%","align-items":"center","justify-content":"end",gap:"1rem","max-width":"1200px"}},null,-1)),ks={class:"scroll-container",style:{}},Vs={style:{display:"flex","max-width":"1200px",overflow:"hidden","align-items":"start"}},Ts={class:"grid p-3",style:{"align-items":"center","justify-content":"space-between",display:"flex",gap:"1rem"}},Ss={class:"px-2"},Rs=r(()=>t("i",{class:"fa-regular fa-bars-progress"},null,-1)),qs={style:{"text-transform":"uppercase"}},js={style:{display:"flex",gap:"1rem"}},Cs={key:0,style:{"min-width":"max-content"},class:"m-0 p-0"},$s={key:1,style:{"min-width":"max-content"},class:"m-0 p-0"},Ds={key:3,style:{"text-align":"justify","min-width":"max-content"},class:"m-0 p-0"},Ps={key:4,style:{"text-align":"justify"},class:"m-0 p-0"},Ns={key:5,class:"m-0 p-0"},Es={key:1},Os={key:7,class:"p-2",style:{display:"flex",gap:".1rem","flex-direction":"column","align-items":"center"}},zs={key:8,class:"p-2",style:{display:"flex",gap:".1rem","flex-direction":"column","align-items":"center"}},Ls={key:9,class:"p-2",style:{display:"flex",gap:".1rem","flex-direction":"column","align-items":"center"}},Us={key:10,class:"p-2",style:{display:"flex",gap:".1rem","flex-direction":"column","align-items":"start"}},Is={style:{display:"flex",gap:".4rem","justify-content":"center"},class:"px-2"},Bs={style:{"max-width":"1010px"},class:"m-auto my-6"},Fs={class:"m-0 px-0"},As=r(()=>t("i",{class:"pi pi-arrow-right"},null,-1)),Gs={style:{"max-width":"1010px"},class:"mx-auto my-6"},Hs={class:"m-0 px-0"},Ms=r(()=>t("i",{class:"pi pi-arrow-right"},null,-1)),Qs={style:{"max-width":"1010px"},class:"mx-auto my-3"},Xs={class:"m-0 px-0"},Ys=r(()=>t("i",{class:"pi pi-arrow-right"},null,-1)),Js=r(()=>t("div",null,null,-1)),Ks={style:{display:"flex",gap:"1rem","align-items":"center"},class:"my-4"},Ws=r(()=>t("h6",{class:"m-0"},[t("b",null,"Tipo de grafica")],-1)),Zs=r(()=>t("div",null,null,-1)),el={__name:"pqrsSection",setup(M){const Re=()=>{if(!B.value||B.value.length===0)return alert("No hay PQRs disponibles para descargar."),null;const d=B.value.reduce((m,h)=>{const f=h.site_name||"Sin Sede";return m[f]||(m[f]=[]),m[f].push(h),m},{});return{hojas:Object.keys(d).map(m=>({hoja:m,title:`Reporte de PQRs - Sede: ${m}`,column_widths:{ID:15,Tipo:30,Descripción:60,Fecha:15,Hora:10,Estado:45,"Observación del estado":50,Responsable:50},data:d[m].map(h=>{var j,O,A,Z,S;let f="--------",T="--------";if((j=h.current_status)!=null&&j.timestamp){const U=h.current_status.timestamp.split(" ");U.length>=3?(f=U.slice(0,1)[0],T=`${U.slice(1,3).join(" ")}`):f=h.current_status.timestamp}return{ID:h.pqr_request_id,Tipo:h.request_type,Descripción:h.request_content,Fecha:f,Hora:T,Estado:((O=h.current_status)==null?void 0:O.status)||"N/A","Observación del estado":((A=h.current_status)==null?void 0:A.notes)||"--------",Responsable:((S=(Z=h.current_status)==null?void 0:Z.responsible_name)==null?void 0:S.toUpperCase())||"--------"}})}))}},qe=async()=>{try{const d=Re();if(!d)return;const s=await Je.post("https://excel-creator.salchimonster.com/crear-excel",d,{responseType:"blob"}),m=new Blob([s.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Ke.saveAs(m,"Reporte_PQRs.xlsx")}catch(d){console.error("Error al descargar el Excel:",d),alert("Ocurrió un error al intentar descargar el archivo Excel.")}},je=[{name:"Lineas",value:"line"},{name:"Barras",value:"bar"}],le=i([]),ae=i([]),oe=i({name:"Barras",value:"bar"}),Ce=Be(),ie=i([]);function R(d){const s=new Date(d);if(isNaN(s))throw new Error("Fecha inválida");const m=s.getFullYear(),h=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0");return`${m}-${h}-${f}`}const Q=i(""),V=i(),q=i(),I=i(),X=i(),$e=async(d,s)=>{if(!d||!s){alert("Por favor, proporciona tanto la fecha de inicio como la fecha de fin.");return}await fe(d,s),q.value=d,V.value=s};Te(()=>{V.value=new Date;const d=new Date;d.setDate(d.getDate()-15),q.value=d,I.value=q.value,X.value=V.value});const re=i([]),ue=i([]),de=i([]),ce=i([]),me=i([]),pe=i([]),_e=i([{name:"Basico",x:0},{name:"Reportes Generales",x:-100},{name:"Reportes Graficados",x:-200}]),Y=i(),ye=Fe(),he=i([]),ne=i({id:2,name:"Generada",description:"Estado inicial de la pqr",exist:!0,color:"#3498DB"}),w=Ae(),ve=i([]),x=i(),De=async d=>{J.value=!0,v.value=d},be=i([]),v=i([]),xe=i(!1),J=i(!1),N=i(null),Pe=()=>{N.value={global:{value:null,matchMode:He.CONTAINS}}};Te(()=>{Pe()});const Ne=i([{columnName:"Id",columnValue:"pqr_request_id",columnType:"other",size:"1rem",vif:!0},{columnName:"Estado",columnValue:"current_status",columnType:"status",size:"15rem",vif:!0},{columnName:"Tipo",columnValue:"request_type",columnType:"other",size:"15rem",vif:!0},{columnName:"Clasificacion",columnValue:"tag_name",columnType:"tag",size:"1rem",vif:!0},{columnName:"Restaurante",columnValue:"restaurant",columnType:"restaurant",size:"1rem",vif:!0},{columnName:"Id orden",columnValue:"order_id",columnType:"order_id",size:"1rem",vif:!0},{columnName:"Canal",columnValue:"channel",columnType:"tag",size:"4rem",vif:!0},{columnName:"Sede",columnValue:"site_name",columnType:"other",size:"4rem",vif:!0},{columnName:"Red",columnValue:"red",columnType:"other",size:"4rem",vif:!0},{columnName:"Calificacion",columnValue:"rating",columnType:"rating",size:"10rem",vif:!0},{columnName:"Comentarios",columnValue:"request_content",columnType:"other",size:"40rem",vif:!0},{columnName:"Responsable",columnValue:"responsible_name",columnType:"responsible_name",size:"20rem",vif:!1}]);i({2:"#3498DB",4:"#2ECC71",5:"#16A085",6:"#E74C3C",7:"#F39C12"}),i({question:"",answer:""}),i({}),i({}),i(null);const B=i([{}]);i({}),i(!1),i({});const F=i(!1),E=i(),L=i(!1),K=async()=>{B.value=await D.get(`${P}/get-all-pqrs`);const d=await D.get(`${P}/get-all-pqrs-status`);ve.value=d,he.value=d},fe=async(d,s)=>{if(!d||!V)return;const m=R(d),h=R(s),f=await D.get(`${P}/get-pqrs-by-date-range/${m}/${h}`),T=await D.get(`${P}/get-pqrs-by-date-range-types/${m}/${h}`),j=await D.get(`${P}/get_pqrs_by_responsible_and_state/${m}/${h}`);re.value=f,ue.value=Object.keys(f[0]),de.value=T,ce.value=Object.keys(T[0]),me.value=j,pe.value=Object.keys(j[0]),ie.value=await D.post(`${P}/get_daily_pqrs_report/${m}/${h}`,{ids:ae.value.map(O=>O.site_id)})};Ge(async()=>{await K(),le.value=await D.get(`${P}/sites`),le.value.filter(d=>d.show_on_web),await fe(q.value,V.value)}),Se(x,()=>{ge(q.value,V.value)});const ge=()=>{E.value=null,Q.value="",Y.value=null,F.value=!1,L.value=!1},W=i(),Ee=async()=>{const d=W.value&&E.value?(E.value-E.value*(W.value/100)).toFixed(2):E.value,s={pqr_request_id:v.value.pqr_request_id,status_id:x.value,responsible_id:w.rawUserData.id,value:d||null,notes:Q.value,order_id:Y.value||null};try{await D.post(`${P}/change-pqr-status`,s),K(),J.value=!1,ge()}catch(m){console.error("Error al enviar la actualización de la PQR:",m)}};return Se(()=>ye.params.section_id,()=>{K()},{deep:!0}),(d,s)=>{const m=b("Tag"),h=b("Timeline"),f=b("Dialog"),T=b("Dropdown"),j=b("Checkbox"),O=b("InputNumber"),A=b("InputText"),Z=b("Textarea"),S=b("Button"),U=b("Calendar"),Oe=b("MultiSelect"),ze=b("Rating"),Le=b("column"),ee=b("Column"),te=b("DataTable"),Ue=b("Chart");return l(),n(z,null,[u(f,{class:"mx-2",visible:xe.value,"onUpdate:visible":s[0]||(s[0]=e=>xe.value=e),modal:"",header:`Historial de la pqr  ID   ${be.value.pqr_request_id}`,style:{width:"40rem"}},{default:_(()=>[u(h,{value:be.value.status_history},{opposite:_(e=>{var a,k,C,$;return[t("div",Ze,[t("p",et,o((a=e.item.timestamp)==null?void 0:a.split(" ")[0]),1),t("p",tt,o(($=(C=(k=e.item.timestamp)==null?void 0:k.split(" "))==null?void 0:C.slice(1,4))==null?void 0:$.join(" ")),1)])]}),content:_(e=>{var a;return[u(m,{style:y(`background-color:${e.item.color}`)},{default:_(()=>[t("p",st,[t("b",null,o(e.item.status),1)])]),_:2},1032,["style"]),lt,e.item.responsible_name?(l(),n("p",at,[ot,p(" "+o((a=e.item.responsible_name)==null?void 0:a.toLowerCase()),1)])):c("",!0),e.item.value?(l(),n("p",nt,[p("Le costo a la empresa "),t("b",null,o(e.item),1)])):c("",!0),e.item.order_id?(l(),n("p",it,[p("Orden entregada "),t("b",null,o(e.item.order_id),1)])):c("",!0),e.item.notes?(l(),n("p",rt,[ut,p(" "+o(e.item.notes),1)])):c("",!0),dt,ct]}),_:1},8,["value"])]),_:1},8,["visible","header"]),u(f,{class:"mx-2",visible:J.value,"onUpdate:visible":s[8]||(s[8]=e=>J.value=e),modal:"",header:`GESTION DE LA PQR  ID:    ${v.value.pqr_request_id}`,style:{width:"50rem"}},{footer:_(()=>[t("div",ds,[u(S,{onClick:Ee,label:"Enviar",severity:"help"})])]),default:_(()=>[t("div",mt,[pt,t("p",_t,o(v.value.request_type),1),yt,t("p",ht,o(v.value.channel),1),vt,t("div",bt,[t("div",{style:y([{width:"100%","max-width":".4rem","border-radius":"45rem","box-sizing":"border-box"},`background-color:${v.value.channel_color}`])},null,4),t("div",xt,[t("p",null,o(v.value.request_content),1)])]),v.value.user_name||v.value.user_phone?(l(),n("h6",ft,wt)):c("",!0),t("div",kt,[t("div",{style:y([{width:"100%","max-width":".4rem","border-radius":"45rem","box-sizing":"border-box"},`background-color:${v.value.channel_color}`])},null,4),t("div",Vt,[v.value.user_name?(l(),n("span",Tt,[St,p(" "+o(v.value.user_name),1)])):c("",!0),v.value.user_phone?(l(),n("span",Rt,[qt,p(" "+o(v.value.user_phone),1)])):c("",!0),v.value.user_address?(l(),n("span",jt,[Ct,p(" "+o(v.value.user_address),1)])):c("",!0),v.value.order_id?(l(),n("span",$t,[Dt,p(" "+o(v.value.order_id),1)])):c("",!0)])]),Pt,t("div",Nt,[t("div",{style:y([{width:"100%","max-width":".4rem","border-radius":"45rem","box-sizing":"border-box"},`background-color:${v.value.status_history[0].color}`])},null,4),t("div",Et,[u(h,{value:v.value.status_history},{opposite:_(e=>{var a,k,C,$;return[t("div",Ot,[t("p",zt,o((a=e.item.timestamp)==null?void 0:a.split(" ")[0]),1),t("p",Lt,o(($=(C=(k=e.item.timestamp)==null?void 0:k.split(" "))==null?void 0:C.slice(1,4))==null?void 0:$.join(" ")),1)])]}),content:_(e=>{var a;return[u(m,{style:y(`background-color:${e.item.color}`)},{default:_(()=>[t("p",Ut,[t("b",null,o(e.item.status),1)])]),_:2},1032,["style"]),It,e.item.responsible_name?(l(),n("p",Bt,[Ft,p(" "+o((a=e.item.responsible_name)==null?void 0:a.toLowerCase()),1)])):c("",!0),e.item.value?(l(),n("p",At,[p("Le costo a la empresa "),t("b",null,o(g(Me)(e.item.value)),1)])):c("",!0),e.item.order_id?(l(),n("p",Gt,[p("Orden entregada "),t("b",null,o(e.item.order_id),1)])):c("",!0),e.item.notes?(l(),n("p",Ht,[Mt,p(" "+o(e.item.notes),1)])):c("",!0),Qt,Xt]}),_:1},8,["value"])])]),Yt,u(T,{modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=e=>x.value=e),options:ve.value.filter(e=>e.id!=2),optionLabel:"name",optionValue:"id"},null,8,["modelValue","options"]),x.value?(l(),n("div",Jt,[x.value==4||x.value==7?(l(),n("div",Kt,[Wt,u(j,{binary:"",modelValue:F.value,"onUpdate:modelValue":s[2]||(s[2]=e=>F.value=e)},null,8,["modelValue"])])):c("",!0),x.value==4||x.value==7?(l(),n("div",Zt,[es,u(j,{modelValue:L.value,"onUpdate:modelValue":s[3]||(s[3]=e=>L.value=e),binary:""},null,8,["modelValue"])])):c("",!0),(x.value==4||x.value==7)&&L.value?(l(),n("div",ts,[ss,u(O,{modelValue:W.value,"onUpdate:modelValue":s[4]||(s[4]=e=>W.value=e),style:{width:"100%"}},null,8,["modelValue"])])):c("",!0),(x.value==4||x.value==7)&&F.value||L.value?(l(),n("div",ls,[as,u(O,{modelValue:E.value,"onUpdate:modelValue":s[5]||(s[5]=e=>E.value=e),style:{width:"100%"}},null,8,["modelValue"])])):c("",!0),(x.value==4||x.value==7)&&L.value||F.value?(l(),n("div",os,[ns,u(A,{modelValue:Y.value,"onUpdate:modelValue":s[6]||(s[6]=e=>Y.value=e),style:{width:"100%"}},null,8,["modelValue"])])):c("",!0),t("div",null,[is,u(Z,{modelValue:Q.value,"onUpdate:modelValue":s[7]||(s[7]=e=>Q.value=e),rows:"5",style:{resize:"none",width:"100%"}},null,8,["modelValue"])]),t("h6",rs,[p("Recuerde que esta firmando como "),t("b",null,o(g(w).rawUserData.name),1),p(" y por ende se hace responsable, "),us])])):c("",!0)])]),_:1},8,["visible","header"]),t("div",cs,[t("nav",ms,[t("ul",ps,[(l(!0),n(z,null,G(he.value,e=>(l(),n("li",_s,[u(m,{style:y([`background-color:${e.color}`,{height:"1.3rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),p(),u(S,{onClick:()=>{ne.value=e,g(w).currentSection_pqr=_e.value[0]},class:Qe(["nav_bar--buttons-button p-2",e.id==ne.value.id?"nav_bar--buttons-button-selected":""]),label:e.name},null,8,["onClick","class","label"])]))),128))])]),t("div",ys,[t("div",{class:"my-0 px-0",style:y([g(w).currentSection_pqr.x!=0?"opacity:1":"opacity:0",{display:"flex",transition:"all ease .5s","align-items":"end",gap:"1rem"}])},[hs,u(U,{style:{"max-width":"7.5rem"},disabled:g(w).currentSection_pqr.x==0,modelValue:I.value,"onUpdate:modelValue":s[9]||(s[9]=e=>I.value=e),dateFormat:"dd-mm-yy"},null,8,["disabled","modelValue"]),vs,u(U,{style:{"max-width":"7.5rem"},disabled:!I.value||g(w).currentSection_pqr.x==0,modelValue:X.value,"onUpdate:modelValue":s[10]||(s[10]=e=>X.value=e),dateFormat:"dd-mm-yy"},null,8,["disabled","modelValue"]),g(w).currentSection_pqr.x==-200?(l(),n(z,{key:0},[bs,u(Oe,{style:{"max-width":"17rem","min-width":"15rem"},options:le.value.filter(e=>e.show_on_web),optionLabel:"site_name",modelValue:ae.value,"onUpdate:modelValue":s[11]||(s[11]=e=>ae.value=e),placeholder:"SEDES"},null,8,["options","modelValue"])],64)):c("",!0),u(S,{style:{"min-width":"max-content"},disabled:g(w).currentSection_pqr.x==0,onClick:s[12]||(s[12]=e=>$e(I.value,X.value)),severity:"help",label:"Buscar",icon:"pi pi-search"},null,8,["disabled"])],4),t("div",xs,[fs,t("div",null,[u(T,{style:{width:"10rem"},optionLabel:"name",placeholder:"Avanzado",modelValue:g(w).currentSection_pqr,"onUpdate:modelValue":s[13]||(s[13]=e=>g(w).currentSection_pqr=e),options:_e.value},null,8,["modelValue","options"])]),u(S,{onClick:s[14]||(s[14]=e=>g(Ce).visible_add_pqr=!0),icon:"pi pi-plus",label:"Nueva PQR",severity:"help"}),t("div",gs,[u(S,{onClick:qe,label:"Descargar PQRs como Excel",icon:"pi pi-file-excel",severity:"success",class:"p-button-sm"})])])]),ws,t("div",ks,[t("div",Vs,[u(te,{style:y([`transform:translateX(${g(w).currentSection_pqr.x}%);transition: .5s all ease;`,{width:"100%"}]),paginator:!0,rows:15,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} solicitudes",rowsPerPageOptions:[5,10,25,100],scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto p-2",value:B.value.filter(e=>{var a,k;return((a=e.current_status)==null?void 0:a.status)==((k=ne.value)==null?void 0:k.name)}),tableStyle:"min-width: 50rem;",filters:N.value},{header:_(()=>[t("div",Ts,[t("h4",Ss,[Rs,p(),t("b",qs,[p("PQRS "),t("b",null,o(g(ye).params.section),1)])]),t("div",js,[u(A,{class:"",modelValue:N.value.global.value,"onUpdate:modelValue":s[15]||(s[15]=e=>N.value.global.value=e),placeholder:"Buscar Solicitud..."},null,8,["modelValue"])])])]),default:_(()=>[(l(!0),n(z,null,G(Ne.value,e=>(l(),H(Le,{header:e.columnName,style:y(`min-width:${e.size}`),field:e.columnValue,class:"my-0 py-2"},{body:_(a=>{var k,C,$,we,ke,Ve;return[e.columnType=="date"?(l(),n("h6",Cs,o(((k=a.data[e.columnValue])==null?void 0:k.split("-").reverse().join("-"))||"---------"),1)):c("",!0),e.columnType=="responsible_name"?(l(),n("h6",$s,o(((we=($=(C=a.data)==null?void 0:C.status_history)==null?void 0:$[0])==null?void 0:we.responsible_name)||"No se ha interactuado"),1)):c("",!0),e.columnType=="max-content"?(l(),n("h6",{key:2,style:y(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},o(a.data[e.columnValue]||"---------"),5)):c("",!0),e.columnType=="order_id"?(l(),n("h6",Ds,o(a.data[e.columnValue]||"---------"),1)):c("",!0),e.columnType=="other"?(l(),n("h6",Ps,o(a.data[e.columnValue]||"---------"),1)):c("",!0),e.columnType=="rating"?(l(),n("h6",Ns,[a.data[e.columnValue]>0?(l(),H(ze,{key:0,cancel:!1,readonly:"",modelValue:a.data[e.columnValue],"onUpdate:modelValue":se=>a.data[e.columnValue]=se},null,8,["modelValue","onUpdate:modelValue"])):(l(),n("span",Es," ------------"))])):c("",!0),e.columnType=="money"?(l(),n("h6",{key:6,style:y(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},o(d.formatoPesosColombianos(a.data[e.columnValue])||"---------"),5)):c("",!0),e.columnValue=="current_status"?(l(),n("div",Os,[u(m,{style:y([{color:"white","text-align":"center"},`background-color:${(ke=a.data[e.columnValue])==null?void 0:ke.color}`])},{default:_(()=>{var se;return[p(o(((se=a.data[e.columnValue])==null?void 0:se.status)||"---------"),1)]}),_:2},1032,["style"]),t("b",null,o(((Ve=a.data[e.columnValue])==null?void 0:Ve.timestamp)||"---------"),1)])):c("",!0),e.columnValue=="channel"?(l(),n("div",zs,[u(m,{style:y([{color:"white","text-align":"center"},`background-color:${a.data.channel_color}`])},{default:_(()=>[p(o(a.data[e.columnValue]||"---------"),1)]),_:2},1032,["style"])])):c("",!0),e.columnValue=="tag_name"?(l(),n("div",Ls,[u(m,{style:y([{color:"white","text-align":"center"},`background-color:${a.data.tag_color}`])},{default:_(()=>[p(o(a.data[e.columnValue]),1)]),_:2},1032,["style"])])):c("",!0),e.columnValue=="restaurant"?(l(),n("div",Us,[u(m,{style:y([{color:"white"},`background-color:${a.data.restaurant_color}`])},{default:_(()=>[p(o(a.data[e.columnValue]),1)]),_:2},1032,["style"])])):c("",!0)]}),_:2},1032,["header","style","field"]))),256)),u(ee,{class:"my-0 py-0 px-0 mx-0",style:{},frozen:"",alignFrozen:"right",header:"Interactuar"},{body:_(e=>[t("div",Is,[u(S,{onClick:a=>De(e.data),label:"Gestionar",severity:"help",icon:"pi pi-check p-0",class:"my-0 py-2"},null,8,["onClick"])])]),_:1})]),_:1},8,["style","value","filters"]),t("div",{style:y([`transform:translateX(${g(w).currentSection_pqr.x}%);transition: .5s all ease;`,{"min-width":"100%","max-height":"80vh",overflow:"auto",margin:"auto"}])},[t("div",Bs,[t("h4",Fs,[t("b",null,[p(" REPORTE POR ESTADO "+o(R(q.value).split("-").reverse().join("-"))+" ",1),As,p(" "+o(R(V.value).split("-").reverse().join("-")),1)])]),u(te,{rows:15,style:{"max-width":"1200px","box-shadow":"0 0 1rem #00000030","border-radius":".5rem"},scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto my-4",value:re.value,tableStyle:"min-width: 50rem;",filters:N.value},{header:_(()=>[]),default:_(()=>[(l(!0),n(z,null,G(ue.value,e=>(l(),H(ee,{class:"p-0 text-center",style:{"max-width":"min-content","text-transform":"uppercase"},header:e},{body:_(a=>[t("div",null,[a.data.sede=="total"?(l(),n("h6",{key:0,class:"m-0 py-1 px-2 text-xl",style:y([{display:"flex","background-color":"var(--blue-100)"},e!="sede"?"justify-content: center;":"justify-content: start;"])},[t("b",null,o(a.data[e]),1)],4)):(l(),n("h6",{key:1,class:"m-0 py-1 px-2",style:y([{display:"flex","justify-content":"center"},e!="sede"?"justify-content: center;":"justify-content: start;"])},o(a.data[e]),5))])]),_:2},1032,["header"]))),256))]),_:1},8,["value","filters"])]),t("div",Gs,[t("h4",Hs,[t("b",null,[p(" REPORTE POR RESPONSABLES "+o(R(q.value).split("-").reverse().join("-"))+" ",1),Ms,p(" "+o(R(V.value).split("-").reverse().join("-")),1)])]),u(te,{rows:15,style:{"max-width":"1200px","box-shadow":"0 0 1rem #00000030","border-radius":".5rem"},scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto my-4",value:me.value,tableStyle:"min-width: 50rem;",filters:N.value},{header:_(()=>[]),default:_(()=>[(l(!0),n(z,null,G(pe.value,e=>(l(),H(ee,{class:"p-0 text-center",style:{"max-width":"min-content","text-transform":"uppercase"},header:e},{body:_(a=>[t("div",null,[a.data.responsible_name=="total"?(l(),n("h6",{key:0,class:"m-0 py-1 px-2 text-xl",style:y([{display:"flex","text-align":"center","background-color":"var(--blue-100)"},e!="responsible_name"?"justify-content: center;":"justify-content: start;"])},[t("b",null,o(a.data[e]),1)],4)):a.data.responsible_name=="pendiente"?(l(),n("h6",{key:1,class:"m-0 py-1 px-2",style:y([{display:"flex","text-align":"center",color:"var(--red-900)","background-color":"var(--red-100)"},e!="responsible_name"?"justify-content: center;":"justify-content: start;"])},[t("b",null,o(a.data[e]),1)],4)):(l(),n("h6",{key:2,class:"m-0 py-1 px-2",style:y([{display:"flex","text-align":"start"},e!="responsible_name"?"justify-content: center;":"justify-content: start;"])},o(a.data[e]),5))])]),_:2},1032,["header"]))),256))]),_:1},8,["value","filters"])]),t("div",Qs,[t("h4",Xs,[t("b",null,[p(" REPORTE POR TIPOS "+o(R(q.value).split("-").reverse().join("-"))+" ",1),Ys,p(" "+o(R(V.value).split("-").reverse().join("-")),1)])]),u(te,{rows:15,style:{"max-width":"1200px","box-shadow":"0 0 1rem #00000030","border-radius":".2rem","background-color":"white"},scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto my-4",value:de.value,tableStyle:"min-width: 50rem;",filters:N.value},{header:_(()=>[]),default:_(()=>[(l(!0),n(z,null,G(ce.value,e=>(l(),H(ee,{class:"p-0 text-center",style:{"max-width":"min-content","text-transform":"uppercase"},header:e},{body:_(a=>[t("div",null,[a.data.sede=="TOTAL"?(l(),n("h6",{key:0,class:"m-0 py-1 px-2 text-xl",style:y([{display:"flex","background-color":"var(--blue-100)"},e!="sede"?"justify-content: center;":"justify-content: start;"])},[t("b",null,o(a.data[e]),1)],4)):(l(),n("h6",{key:1,class:"m-0 py-1 px-2",style:y([e!="sede"?"justify-content: center;":"justify-content: start;",{display:"flex"}])},o(a.data[e]),5))])]),_:2},1032,["header"]))),256))]),_:1},8,["value","filters"])]),Js],4),t("div",{class:"p-3",style:y([`transform:translateX(${g(w).currentSection_pqr.x}%);transition: .5s all ease;`,{"min-width":"100%","max-height":"80vh",overflow:"auto",margin:"auto"}])},[t("div",Ks,[Ws,u(T,{modelValue:oe.value,"onUpdate:modelValue":s[16]||(s[16]=e=>oe.value=e),options:je,optionLabel:"name"},null,8,["modelValue"])]),u(Ue,{type:oe.value.value,data:ie.value,class:"h-[10rem] p-2 h-50",style:{width:"100%","box-shadow":"0 0 10px rgba(0, 0, 0, .2)","border-radius":".5rem"}},null,8,["type","data"]),Zs],4)])]),u(We,{onReload:s[17]||(s[17]=e=>K())})])],64)}}},ul=Ie(el,[["__scopeId","data-v-60a34324"]]);export{ul as default};
