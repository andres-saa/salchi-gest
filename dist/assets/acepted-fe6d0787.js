import{l as E,g as v,q as G,e as r,o as t,c as s,b as i,f as c,F as x,s as M,a,t as n,u as T,m,r as S,j as u,n as f,x as j}from"./index-a97ea6dc.js";const z={class:"m-0 mb-2"},I={class:"m-0"},U={class:"my-2"},O={class:"grid p-3",style:{"align-items":"center","justify-content":"space-between",display:"flex",gap:"1rem"}},H=a("h4",{class:"px-2"},[a("i",{class:"fa-regular fa-bars-progress"}),m(),a("b",null,"Solicitudes aprobadas")],-1),Y={key:0,style:{"min-width":"max-content"},class:"m-0 p-0"},$={key:2,class:"m-0 p-0"},Q={__name:"acepted",setup(J){const C=E(),k=v(!1),p=v(null),R=()=>{p.value={global:{value:null,matchMode:M.CONTAINS}}};function P(d=new Date){const o=d.getDate(),g=d.getMonth(),_=d.getFullYear(),b=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],h=o<10?`0${o}`:o,y=b[g];return`${h} / ${y} / ${_}`}const F=v([]);G(()=>{R()});const V=[{columnName:"Id",columnValue:"id",columnType:"other"},{columnName:"Fecha de solicitud",columnValue:"created_at_formated",columnType:"max-content"},{columnName:"Nombre del solicitante",columnValue:"creator_name",columnType:"other"},{columnName:"Cargo del solicitante",columnValue:"creator_position",columnType:"other"},{columnName:"Area de solicitud",columnValue:"area_name",columnType:"max-content"},{columnName:"Justificacion de la requisicion",columnValue:"requisition_description",columnType:"other"}],w=[{id:1,name:"Pendiente de aprobación",color:"#FFFFFF",backgroundColor:"#FF5733"},{id:2,name:"Aprobado por Gerencia",color:"#FFFFFF",backgroundColor:"#2980B9"},{id:3,name:"Publicada en web",color:"#FFFFFF",backgroundColor:"#8E44AD"},{id:4,name:"Revisión de hojas de vida",color:"#FFFFFF",backgroundColor:"#27AE60"},{id:5,name:"Filtro 1, preliminares",color:"#FFFFFF",backgroundColor:"#D35400"},{id:6,name:"Filtro 2, primera entrevista",color:"#FFFFFF",backgroundColor:"#C0392B"},{id:7,name:"Filtro 3, segunda entrevista",color:"#FFFFFF",backgroundColor:"#16A085"},{id:8,name:"Revisión de Exámenes",color:"#FFFFFF",backgroundColor:"#34495E"},{id:9,name:"Recepción de documentos",color:"#FFFFFF",backgroundColor:"#F39C12"},{id:10,name:"Contratación completada",color:"#FFFFFF",backgroundColor:"#2ECC71"},{id:12,name:"Entregado a Gestión Humana",color:"#FFFFFF",backgroundColor:"#3498DB"},{id:13,name:"Rechazado por gerencia general",color:"#FFFFFF",backgroundColor:"#E74C3C"},{id:14,name:"No requiere aprobación de la gerencia",color:"#FFFFFF",backgroundColor:"#95A5A6"},{id:15,name:"Solicitud registrada",color:"#FFFFFF",backgroundColor:"#7F8C8D"},{id:16,name:"Rechazada por Gestión Humana",color:"#FFFFFF",backgroundColor:"#E74C3C"}],L=[{id:16,area_id:13,requester_id:1082,requisition_lap_id:13,creator_id:1082,creator_name:"ANDRES FELIPE ARECHEA",created_at:"2024-10-21T22:44:19",area_name:"Marketing",validation_type_id:1,lap_name:"Rechazado por Gerencia General",created_at_formated:"21-10-2024  10:44 PM",requisition_description:"Solicitamos la aprobación de la gerencia para proceder con la contratación de un líder contable que se encargará de supervisar y optimizar las operaciones financieras durante el horario nocturno de nuestro autoservicio. Esta posición es crucial para mejorar la precisión en el manejo de las transacciones nocturnas y asegurar el cumplimiento de las normativas fiscales y empresariales. Adjuntamos el perfil del candidato ideal, la estructura de costos y el análisis de impacto esperado para su revisión y aprobación.",lap_history:[{time:"22-10-2024  01:58 PM",lap:"Aprobado por Gerencia",responsible:"BRYAN BONILLA LUNA",comment:"La gerencia reconoce la necesidad pero requiere una revisión más detallada del ROI estimado."},{time:"22-10-2024  02:05 PM",lap:"Rechazado por Gerencia General",responsible:"BRYAN BONILLA LUNA",comment:"Después de la revisión, la gerencia general decide no aprobar el aumento debido a restricciones presupuestarias actuales."}],creator_position:"Analista de Marketing"},{id:17,area_id:3,requester_id:1132,requisition_lap_id:12,creator_id:1132,creator_name:"BRYAN BONILLA LUNA",created_at:"2024-10-22T12:50:25",area_name:"Producción",validation_type_id:2,lap_name:"Entregado a Gestión Humana",created_at_formated:"22-10-2024  12:50 PM",requisition_description:"Reemplazo urgente necesario debido a la próxima licencia de maternidad de Ana Ruiz, nuestro supervisor de línea. Se requiere cubrir su posición para mantener la eficiencia operativa.",lap_history:[{time:"22-10-2024  12:50 PM",lap:"Entregado a Gestión Humana",responsible:"BRYAN BONILLA LUNA",comment:"La solicitud se ha priorizado dada la importancia crítica del rol de Ana en la producción."}],creator_position:"Gerente General"}];return(d,o)=>{const g=r("Textarea"),_=r("Button"),b=r("Dialog"),h=r("InputText"),y=r("Tag"),q=r("column"),B=r("DataTable");return t(),s(x,null,[i(b,{class:"mx-2",visible:k.value,"onUpdate:visible":o[1]||(o[1]=e=>k.value=e),modal:"",header:"Aceptar solicitud de requisicion",style:{width:"30rem"}},{footer:c(()=>[a("div",null,[i(_,{severity:"help",label:"No, Pensarlo mejor"}),i(_,{text:"",severity:"danger",label:"Si, Autorizar"})])]),default:c(()=>[a("h6",z,"Fecha: "+n(P()),1),a("h6",I,"Responsable: "+n(T(C).rawUserData.name),1),a("h6",U,[a("b",null,n(T(C).rawUserData.name),1),m(" confirmas la aprobacion de la solicitud de requisicion de "),a("b",null,n(F.value.creator_name),1),m(" para el area "),a("b",null,n(F.value.area_name),1),m(" aceptando dando por valida la siguiente justificacion: "),i(g,{class:"my-3",rows:"7",style:{width:"100%",height:"max-content",resize:"none",border:"1px solid"},readonly:"",modelValue:F.value.requisition_description,"onUpdate:modelValue":o[0]||(o[0]=e=>F.value.requisition_description=e)},null,8,["modelValue"])])]),_:1},8,["visible"]),i(B,{paginator:!0,rows:15,style:{width:"100%","max-width":"1280px"},paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} solicitudes",rowsPerPageOptions:[5,10,25,100],scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto",value:L,tableStyle:"min-width: 50rem;",filters:p.value},{header:c(()=>[a("div",O,[H,i(h,{class:"",modelValue:p.value.global.value,"onUpdate:modelValue":o[2]||(o[2]=e=>p.value.global.value=e),placeholder:"Buscar Solicitud..."},null,8,["modelValue"])])]),default:c(()=>[(t(),s(x,null,S(V,e=>i(q,{header:e.columnName,field:e.columnValue,class:"my-0 py-2"},{body:c(l=>{var A,N;return[e.columnType=="date"?(t(),s("h6",Y,n((A=l.data[e.columnValue])==null?void 0:A.split("-").reverse().join("-")),1)):u("",!0),e.columnType=="max-content"?(t(),s("h6",{key:1,style:f(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},n(l.data[e.columnValue]),5)):u("",!0),e.columnType=="other"?(t(),s("h6",$,n(l.data[e.columnValue]),1)):u("",!0),e.columnType=="money"?(t(),s("h6",{key:3,style:f(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},n(d.formatoPesosColombianos(l.data[e.columnValue])),5)):u("",!0),e.columnValue=="lap_name"?(t(),j(y,{key:4,class:"p-2",style:f([{color:"white"},`background-color:${(N=w.find(D=>D.id==l.data.requisition_lap_id))==null?void 0:N.backgroundColor}`])},{default:c(()=>[m(n(l.data[e.columnValue]),1)]),_:2},1032,["style"])):u("",!0)]}),_:2},1032,["header","field"])),64))]),_:1},8,["filters"])],64)}}};export{Q as default};
