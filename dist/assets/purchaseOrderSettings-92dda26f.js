import{_ as W}from"./dailyMan-302b173d.js";import{d as g}from"./dailyInventoryService-6692e166.js";import{p as _}from"./purchaseOrderService-d195ccfb.js";import{_ as X,h as o,C as Y,i as Z,y as E,g as r,o as c,c as h,f as t,e as i,a as l,F as G,r as ee,u as se,k as T,q as A,t as x,b as te,d as le,p as ae,m as ie}from"./index-ef821f84.js";import"./exceljs.min-4b158bf5.js";import"./FileSaver.min-cc8488c4.js";import"./index-558f534d.js";/* empty css                                                                              */import"./sass.default-a5b7a582.js";import"./_commonjsHelpers-23102255.js";const M=y=>(ae("data-v-8b52bd24"),y=y(),ie(),y),ne={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},oe=M(()=>l("span",null,"Nombre del grupo",-1)),re={style:{display:"flex","justify-content":"end"}},de={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},ue=M(()=>l("span",null,"Nombre de la unidad de medida",-1)),pe={style:{display:"flex","justify-content":"end"}},ve=M(()=>l("div",{style:{display:"flex","justify-content":"center","align-items":"center"}}," UNIDADES DE MEDIDA ",-1)),me={style:{display:"flex","justify-content":"end"}},ce={class:"col-12 p-0",style:{display:"flex","justify-content":"end"}},ye={style:{display:"flex","justify-content":"end"}},fe={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},be={style:{display:"flex","justify-content":"end"}},ge={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},_e={style:{display:"flex","justify-content":"end"}},he={class:"m-auto",style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center","max-width":"900px"}},xe={class:"nav-bar p-2",style:{width:"100%"}},we={class:"p-2",style:{display:"flex",gap:"1rem","flex-wrap":"wrap"}},Ce={key:0,style:{height:"60vh","object-fit":"contain"},src:W,alt:""},De={__name:"purchaseOrderSettings",setup(y){const d=o([]),$=Y(),f=o(!1),w=o(!1),u=o(!1),C=o({}),D=o({}),k=o([]),p=o(!1),v=o(!1),U=o({}),b=async()=>{d.value=await _.getpurchaseOrderGroups(),k.value=await g.getAllDailyInventoryUnitMeasures()},O=a=>{C.value=a,u.value=!0},z=a=>{D.value=a,v.value=!0},F=async a=>{await _.disablePurchaseGroupItems(a),u.value=!1,b()},L=async a=>{await g.disableUnitMeasureInventory(a),v.value=!1,b()},N=o(!1),I=o({name:null}),P=(a,s)=>{E.push({name:"purchase-order-settings-sesion",params:{sesion:a,id:s}})},R=async a=>{await _.InsertDailyGrupPurchaseOrder(a),f.value=!1,b()},q=async a=>{await g.InsertDailyUnitMeasure(a),p.value=!1,b()},V=a=>$.params.sesion==a;return Z(async()=>{d.value=await _.getpurchaseOrderGroups(),k.value=await g.getAllDailyInventoryUnitMeasures(),E.push(`/purchase-order/recorrido/purchase-order-settings/${d.value[0].name}/${d.value[0].id}/`)}),(a,s)=>{const S=r("InputText"),n=r("Button"),m=r("Dialog"),j=r("Column"),H=r("column"),J=r("DataTable"),K=r("router-view");return c(),h(G,null,[t(m,{class:"mx-2",header:"Nuevo grupo de items",style:{width:"30rem"},modal:"",visible:f.value,"onUpdate:visible":s[3]||(s[3]=e=>f.value=e)},{footer:i(()=>[l("div",re,[t(n,{onClick:s[1]||(s[1]=e=>f.value=!1),severity:"danger",label:"Cerrar"}),t(n,{onClick:s[2]||(s[2]=e=>R(I.value)),severity:"help",label:"Guardar"})])]),default:i(()=>[l("div",ne,[oe,t(S,{modelValue:I.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>I.value.name=e)},null,8,["modelValue"])])]),_:1},8,["visible"]),t(m,{class:"mx-2",header:"Nueva unidad de medida",style:{width:"30rem"},modal:"",visible:p.value,"onUpdate:visible":s[7]||(s[7]=e=>p.value=e)},{footer:i(()=>[l("div",pe,[t(n,{onClick:s[5]||(s[5]=e=>p.value=!1),severity:"danger",label:"Cerrar"}),t(n,{onClick:s[6]||(s[6]=e=>q(U.value)),severity:"help",label:"Guardar"})])]),default:i(()=>[l("div",de,[ue,t(S,{modelValue:U.value.name,"onUpdate:modelValue":s[4]||(s[4]=e=>U.value.name=e)},null,8,["modelValue"])])]),_:1},8,["visible"]),t(m,{closable:!1,class:"mx-2",header:"UNIDADES DE MEDIDA",style:{width:"40rem"},modal:"",visible:w.value,"onUpdate:visible":s[11]||(s[11]=e=>w.value=e)},{footer:i(()=>[l("div",ye,[t(n,{onClick:s[10]||(s[10]=e=>w.value=!1),severity:"danger",label:"Cerrar"})])]),default:i(()=>[t(J,{style:{"max-width":"1000px","border-radius":"0.5rem","min-height":"min-content"},filters:a.filters,"onUpdate:filters":s[9]||(s[9]=e=>a.filters=e),class:"col-12 p-0",value:k.value,tableStyle:""},{header:i(()=>[ve]),footer:i(()=>[l("div",ce,[t(n,{onClick:s[8]||(s[8]=e=>p.value=!0),class:"p-0",severity:"help",style:{"border-radius":"0.5rem",height:"2rem",padding:"0.3rem 0"},icon:"pi pi-plus"})])]),default:i(()=>[t(j,{style:{width:"10%"},class:"py-1 px-0",field:"id",header:"Id"},{body:i(e=>[A(x(e.data.id),1)]),_:1}),t(j,{style:{width:"10%"},class:"py-1 px-0",field:"id",header:"Nombre"},{body:i(e=>[A(x(e.data.name),1)]),_:1}),t(H,{style:{width:"10%",height:"2rem"},class:"py-1 px-0"},{body:i(e=>[l("div",me,[t(n,{onClick:B=>z(e.data),severity:"danger",style:{height:"2rem"},class:"p-0 nav-bar-- m-0 shadow-2",icon:"pi pi-trash"},null,8,["onClick"])])]),_:1})]),_:1},8,["filters","value"])]),_:1},8,["visible"]),t(m,{class:"mx-2",header:"Borrar grupo",style:{width:"30rem"},modal:"",visible:u.value,"onUpdate:visible":s[14]||(s[14]=e=>u.value=e)},{footer:i(()=>[l("div",be,[t(n,{onClick:s[12]||(s[12]=e=>u.value=!1),severity:"help",label:"No"}),t(n,{onClick:s[13]||(s[13]=e=>F(C.value.id)),severity:"danger",label:"Borrar"})])]),default:i(()=>{var e;return[l("div",fe,[l("span",null,"Esta seguro de eliminar el grupo "+x((e=C.value)==null?void 0:e.name)+" ?",1)])]}),_:1},8,["visible"]),t(m,{class:"mx-2",header:"Borrar grupo",style:{width:"30rem"},modal:"",visible:v.value,"onUpdate:visible":s[17]||(s[17]=e=>v.value=e)},{footer:i(()=>[l("div",_e,[t(n,{onClick:s[15]||(s[15]=e=>v.value=!1),severity:"help",label:"No"}),t(n,{onClick:s[16]||(s[16]=e=>L(D.value.id)),severity:"danger",label:"Borrar"})])]),default:i(()=>{var e;return[l("div",ge,[l("span",null,"Esta seguro de eliminar La unidad de medida "+x((e=D.value)==null?void 0:e.name)+" ?",1)])]}),_:1},8,["visible"]),l("div",he,[l("nav",xe,[l("ul",we,[(c(!0),h(G,null,ee(d.value,(e,B)=>(c(),h("li",{style:{position:"relative",display:"flex","justify-content":"center","align-items":"center","flex-basis":"200"},class:"p-0",key:B},[t(n,{onClick:Q=>P(e.name,e.id),disabled:N.value,class:te([V(e.name)?"selected":"","nav-bar--button shadow-2"]),label:e.name},null,8,["onClick","disabled","class","label"]),N.value&&!V(e.name)?(c(),le(n,{key:0,onClick:Q=>O(e),size:"small",class:"m-0 shadow-2",severity:"danger",icon:"pi pi-times ",style:{position:"absolute",width:"1rem",height:"1rem",left:"-.5rem",padding:"0.7rem","border-radius":"50%"}},null,8,["onClick"])):T("",!0)]))),128))])]),se($).path=="/daily-inventory/daily-inventory-settings/"?(c(),h("img",Ce)):T("",!0),t(K)])],64)}}},Ee=X(De,[["__scopeId","data-v-8b52bd24"]]);export{Ee as default};
