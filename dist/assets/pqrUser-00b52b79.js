import{M as J,C as $,U as d,_ as Z,r as s,D as ee,i as te,j as g,a as v,o as c,e as le,w as b,u as C,b as l,g as r,m as I,t as B,c as p,k as H,f as m,p as oe,h as se}from"./index-9a073ae1.js";J();const n=i=>(oe("data-v-508d9820"),i=i(),se(),i),ae={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},re=n(()=>l("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),ne=n(()=>l("br",null,null,-1)),ie={class:"text-center",style:{width:"auto","font-size":"3rem"}},ue={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},de=n(()=>l("br",null,null,-1)),ce=n(()=>l("b",null,[l("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Listo")],-1)),ve={class:"container mt-0 col-12 p-0",style:{"max-width":"",margin:"auto"}},pe={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},me={class:"input"},_e=n(()=>l("h5",{class:"field"},"Medio",-1)),he={class:"input"},fe=n(()=>l("h5",{class:"field"},"Restaurante",-1)),ye={class:"input"},ge=n(()=>l("h5",{class:"field"},"Categoria",-1)),be={key:0,class:"input"},we=n(()=>l("h5",{class:"field"},"Por favor clasifica tu inconveniente",-1)),Ve={style:{display:"flex","align-items":"center",gap:"1rem"}},Se={class:"p-0 m-0"},Pe={style:{display:"flex","align-items":"center",gap:"1rem"}},xe={class:"p-0 m-0"},ke={key:1,class:"input p-3",style:{"background-color":"#00f3ff29"}},Re=n(()=>l("h5",{class:"field"},"Califícanos",-1)),qe={key:2,class:"input"},Ee=n(()=>l("h5",{class:"field"},"Sede",-1)),Ue={key:3,class:"input"},Qe=n(()=>l("h5",{class:"field"},[I("ID de la orden ejemplo "),l("b",null,"BRE-0554")],-1)),$e={key:4,class:"input"},Ce=n(()=>l("h5",{class:"field"},"Comentarios",-1)),Ie={key:5,class:"input"},Ne=n(()=>l("h5",{class:"field"},"Nombre",-1)),De={key:6,class:"input"},Le=n(()=>l("h5",{class:"field"},"Número de teléfono",-1)),Be={key:7,class:"input"},Te=n(()=>l("h5",{class:"field"},"Dirección (opcional)",-1)),je={class:"input",style:{display:"flex","justify-content":"end"}},ze={__name:"pqrUser",emits:["inFocus","reload"],setup(i,{emit:a}){const _=a,N=s({}),T=s([{}]),q=s({}),w=J();s();const K=s(!0),j=s(),V=s(!1);s([]);const S=s(!1),o=s(),h=s(),z=s([]),G=s([]),E=s(""),P=s(""),x=s(""),U=s(""),k=s(""),D=s(null),M=s([]),R=s();ee(()=>w.visible_add_pqr,Q=>{Q&&(o.value=null,k.value="Sin comentarios",h.value=null,R.value=null,P.value="",x.value="",U.value="")});const O=async()=>{var t,f,y;if(!o.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(o.value==9&&!E.value){alert("Por favor, ingrese el ID de la orden.");return}if(o.value!=8&&!q.value){alert("Por favor, Clasifica tu inconveniente");return}if(o.value!=8&&!k.value){alert("Por favor, Cuentenos lo sucedido");return}if(o.value!=8&&(!P.value||!x.value)){alert("Por favor, complete los campos obligatorios (nombre y teléfono).");return}if(!R.value){alert("Por favor, Seleccione la red");return}if(!h.value){alert("Por favor, Seleccione la sede");return}const Q={data:{reques_type_id:o.value,content:k.value||"Sin comentarios",channel_id:2,rating:D.value,site_id:h.value||null,network_id:R.value||null,order_id:E.value||null,tag_id:((t=q.value)==null?void 0:t.id)||7,restaurant_id:N.value},user:{user_name:P.value||"",user_phone:((f=x.value)==null?void 0:f.toString())||"",user_address:U.value||"",site_id:h.value||null}};try{const u=await g.post(`${d}/create-pqr`,Q);j.value=(y=u==null?void 0:u.pqr_id[0])==null?void 0:y.id,o.value==8?(S.value=!0,_("reload")):V.value=!0,K.value=!1}catch{}_("reload")},A=s([]);return te(async()=>{G.value=await g.get(`${d}/get-all-pqrs-types`),z.value=await g.get(`${d}/sites`),M.value=await g.get(`${d}/get-all-networks`),T.value=await g.get(`${d}/get-all-pqr-tags`),A.value=await g.get(`${d}/restaurants`),o.value=8}),(Q,t)=>{const f=v("Button"),y=v("Dialog"),u=v("Dropdown"),F=v("Tag"),W=v("Rating"),L=v("InputText"),X=v("Textarea"),Y=v("InputNumber");return c(),le(y,{visible:C(w).visible_add_pqr,"onUpdate:visible":t[15]||(t[15]=e=>C(w).visible_add_pqr=e),style:{width:"50rem"},modal:"",class:"mx-2",header:"INGRESAR PQR"},{footer:b(()=>[l("div",je,[r(f,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:O})])]),default:b(()=>[r(y,{closable:!1,class:"mx-4",visible:V.value,"onUpdate:visible":t[1]||(t[1]=e=>V.value=e),modal:"",style:{width:"30rem","background-color":"white"}},{default:b(()=>[l("div",ae,[re,I(),ne,l("b",null,[l("p",ie,B(j.value),1)]),r(f,{onClick:t[0]||(t[0]=()=>{C(w).visible_add_pqr=!1,S.value=!1,V.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),r(y,{class:"mx-4",visible:S.value,"onUpdate:visible":t[3]||(t[3]=e=>S.value=e),modal:"",style:{width:"30rem","background-color":"white"}},{default:b(()=>[l("div",ue,[de,ce,r(f,{onClick:t[2]||(t[2]=()=>{C(w).visible_add_pqr=!1,S.value=!1,V.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),l("div",ve,[l("div",pe,[l("div",me,[_e,r(u,{modelValue:R.value,"onUpdate:modelValue":t[4]||(t[4]=e=>R.value=e),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:M.value,optionLabel:"name"},null,8,["modelValue","options"])]),l("div",he,[fe,r(u,{modelValue:N.value,"onUpdate:modelValue":t[5]||(t[5]=e=>N.value=e),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:A.value,optionLabel:"name"},null,8,["modelValue","options"])]),l("div",ye,[ge,r(u,{modelValue:o.value,"onUpdate:modelValue":t[6]||(t[6]=e=>o.value=e),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:G.value.filter(e=>e.id!=8),optionLabel:"name"},null,8,["modelValue","options"])]),o.value&&o.value!=8&&o.value!=11?(c(),p("div",be,[we,r(u,{options:T.value,modelValue:q.value,"onUpdate:modelValue":t[7]||(t[7]=e=>q.value=e),style:{width:"100%"}},{option:b(e=>[l("div",Ve,[r(F,{style:H([`background-color:${e.option.color}`,{height:"1.5rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),I(),l("h6",Se,B(e.option.name),1)])]),value:b(e=>[l("div",Pe,[r(F,{style:H([`background-color:${e.value.color}`,{height:"1.5rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),I(),l("h6",xe,B(e.value.name),1)])]),_:1},8,["options","modelValue"])])):m("",!0),o.value&&o.value!=11?(c(),p("div",ke,[Re,r(W,{modelValue:D.value,"onUpdate:modelValue":t[8]||(t[8]=e=>D.value=e),cancel:!1},null,8,["modelValue"])])):m("",!0),o.value?(c(),p("div",qe,[Ee,r(u,{options:z.value.filter(e=>e.show_on_web),modelValue:h.value,"onUpdate:modelValue":t[9]||(t[9]=e=>h.value=e),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):m("",!0),o.value&&o.value==9?(c(),p("div",Ue,[Qe,r(L,{modelValue:E.value,"onUpdate:modelValue":t[10]||(t[10]=e=>E.value=e),style:{width:"100%"},placeholder:"Escriba el número de la orden"},null,8,["modelValue"])])):m("",!0),o.value?(c(),p("div",$e,[Ce,r(X,{modelValue:k.value,"onUpdate:modelValue":t[11]||(t[11]=e=>k.value=e),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):m("",!0),o.value&&o.value!=8?(c(),p("div",Ie,[Ne,r(L,{modelValue:P.value,"onUpdate:modelValue":t[12]||(t[12]=e=>P.value=e),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):m("",!0),o.value&&o.value!=8?(c(),p("div",De,[Le,r(Y,{useGrouping:!1,modelValue:x.value,"onUpdate:modelValue":t[13]||(t[13]=e=>x.value=e),style:{width:"100%"},placeholder:"Escriba su número de teléfono"},null,8,["modelValue"])])):m("",!0),o.value&&o.value!=8?(c(),p("div",Be,[Te,r(L,{modelValue:U.value,"onUpdate:modelValue":t[14]||(t[14]=e=>U.value=e),style:{width:"100%"},placeholder:"Escriba su dirección"},null,8,["modelValue"])])):m("",!0)])])]),_:1},8,["visible"])}}},Me=Z(ze,[["__scopeId","data-v-508d9820"]]);export{Me as default};
