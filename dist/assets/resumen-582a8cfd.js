import{a as z,u as D,f as p}from"./formatoPesos-4dfc00f7.js";import{_ as L,g as T,C as O,h as j,D as E,e as k,o,c as a,a as e,F as x,r as w,t as s,m as S,u as t,j as f,n as M,x as d,f as h,b as m,p as U,k as $}from"./index-b95637e8.js";import{u as q,o as V}from"./orderService-e6b9ed81.js";import{u as A}from"./ventas-253150d8.js";const u=v=>(U("data-v-9384870e"),v=v(),$(),v),G={class:"43f1 43f5 md:43f0 43f12"},H={class:"sticky-summary 43f12 43f3 43f0"},J=u(()=>e("h5",null,[e("b",null,"Resumen")],-1)),K=u(()=>e("h5",null,[e("b",null,"productos")],-1)),Q={class:"43f0 43f0 product-line"},W={class:"43f6 43f2 43f0 43f0"},X={class:"43f0"},Y={class:"span-minwidth"},Z={style:{"font-weight":"400"}},ee={style:{"margin-right":".5rem"}},te={class:"font-weight-400"},oe={class:"43f6 43f0 text-right 43f2"},se={key:0,class:"text-end"},ne={key:1,class:"text-end"},ie={class:"addition-ite43finner"},ae={class:"text adicion"},le={key:0,class:"pl-2 text-sm"},re=u(()=>e("hr",{class:"43f0 43f2"},null,-1)),de={class:"summary-grid"},ce=u(()=>e("div",{class:"43f6 43f0 43f0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),ue={class:"43f6 43f0 text-right 43f0 text-end"},_e={class:"43f6 43f0 43f0"},pe=u(()=>e("b",null,"Domicilio",-1)),he=[pe],be={class:"43f6 43f0 text-right 43f0 text-end"},fe={key:0,class:"primary-color"},me={key:1},ve=u(()=>e("div",{class:"43f6 43f0 43f0"},[e("span",null,[e("b",null,"Total")])],-1)),ye={key:0,class:"43f6 43f0 text-right 43f0 text-end"},ge=u(()=>e("div",null,null,-1)),ke={__name:"resumen",setup(v){const C=A(),P=T(!1),r=O(),y=z(),i=D(),F=q();return T({}),j(()=>{var g;((g=F.user.payment_method_option)==null?void 0:g.id)!=7&&!r.path.includes("reservas")?i.setNeighborhoodPrice():i.setNeighborhoodPriceCero()}),E(()=>y.cart.additions,()=>{update()},{deep:!0}),(g,_)=>{var B,I,N;const c=k("Button"),b=k("router-link"),R=k("Tag");return o(),a("div",G,[e("div",H,[J,K,(o(!0),a(x,null,w(t(y).cart,n=>(o(),a("div",{key:n.productogeneral_id},[e("div",Q,[e("div",W,[e("h6",X,[e("span",Y,"( "+s(n.pedido_cantidad)+" ) ",1),e("span",Z,s(n.pedido_nombre_producto),1)]),(o(!0),a(x,null,w(n.lista_productocombo,l=>(o(),a("h6",{class:"43f0 43f3",style:{"margin-left":"1rem"},key:l.producto_id},[S(" ( "+s(n.pedido_cantidad)+" ) ",1),e("b",ee,s(parseInt(l.pedido_cantidad)),1),e("span",te,s(l.pedido_nombre),1)]))),128))]),e("div",oe,[n.modificadorseleccionList.length<1?(o(),a("h6",se,s(t(p)(n.pedido_precio*n.pedido_cantidad)),1)):(o(),a("h6",ne,s(t(p)(n.pedido_base_price*n.pedido_cantidad)),1))])]),(o(!0),a(x,null,w(n.modificadorseleccionList,l=>(o(),a("div",{class:"addition-item",key:l},[e("div",ie,[e("span",ae,[e("span",null,[e("b",null,"- ( "+s(n.pedido_cantidad)+" ) "+s(l.modificadorseleccion_cantidad),1)]),S(" "+s(l.modificadorseleccion_nombre),1)]),l.pedido_precio>0?(o(),a("span",le,[e("b",null,s(t(p)(l.pedido_precio*l.modificadorseleccion_cantidad*n.pedido_cantidad)),1)])):f("",!0)])]))),128))]))),128)),re,e("div",de,[ce,e("div",ue,[e("span",null,[e("b",null,s(t(p)(t(y).cartTotal)),1)])]),e("div",_e,[e("span",{style:M(t(i).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},he,4)]),e("div",be,[t(i).location.neigborhood.delivery_price==0?(o(),a("span",fe,[e("b",null,s(t(r).path.includes("reservas")?"Ir a la sede":"Recoger en local"),1)])):t(i).location.neigborhood.delivery_price?(o(),a("span",me,[e("b",null,s(t(p)(t(i).location.neigborhood.delivery_price)),1)])):f("",!0)]),ve,t(i).location.neigborhood.delivery_price?(o(),a("div",ye,[e("span",null,[e("b",null,s(t(p)(t(y).cartTotal+t(i).location.neigborhood.delivery_price)),1)])])):(o(),d(c,{key:1,onClick:_[0]||(_[0]=n=>t(i).visibles.currentSite=!0),label:"Calcular mi domicilio",style:{"min-width":"max-content"}}))]),t(r).path.includes("cart")?(o(),d(b,{key:0,to:"/call-center-vender"},{default:h(()=>[m(c,{outlined:"",icon:"pi pi-shopping-cart",label:"Volver al menu'",class:"43f4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):t(r).path!="/reservas"?(o(),d(b,{key:1,to:"/call-center-vender/cart"},{default:h(()=>[m(c,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"43f4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):f("",!0),((B=t(i).status)==null?void 0:B.status)=="closed"&&t(r).path!="/reservas"?(o(),d(R,{key:2,class:"43f2 tag-fullheight",severity:"danger"},{default:h(()=>[S(" Cerrado, abre a las "+s(t(i).status.next_opening_time),1)]),_:1})):f("",!0),ge,t(r).path.includes("cart")?(o(),d(b,{key:3,to:"/call-center-vender/pay"},{default:h(()=>[m(c,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):t(r).path.includes("reservas")?(o(),d(b,{key:4,to:"/pay"},{default:h(()=>[m(c,{onClick:_[1]||(_[1]=()=>{t(V).sendOrderReserva(),P.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):((I=t(i).status)==null?void 0:I.status)!=="closed"&&((N=t(i).status)!=null&&N.status)&&t(r).path=="/cart"?(o(),d(b,{key:5,to:"/pay"},{default:h(()=>[m(c,{iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):t(r).path=="/call-center-vender/pay"&&!t(C).loading.visible?(o(),d(c,{key:6,disabled:t(C).loading.visible,onClick:_[2]||(_[2]=()=>{t(V).sendOrder(),P.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"},null,8,["disabled"])):f("",!0)])])}}},Pe=L(ke,[["__scopeId","data-v-9384870e"]]);export{Pe as r};
