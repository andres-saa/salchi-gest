import{l as I,h as v,s as B,g as t,o as r,c as s,f as i,e as c,F as T,x as L,a,t as n,u as A,q as m,r as H,k as u,n as C,d as M}from"./index-36b32a58.js";const j={class:"m-0 mb-2"},G={class:"m-0"},z={class:"my-2"},U={class:"grid p-3",style:{"align-items":"center","justify-content":"space-between",display:"flex",gap:"1rem"}},$=a("h4",{class:"px-2"},[a("i",{class:"fa-regular fa-bars-progress"}),m(),a("b",null,"Solicitudes de rechazadas")],-1),O={key:0,style:{"min-width":"max-content"},class:"m-0 p-0"},J={key:2,class:"m-0 p-0"},Q={__name:"rejected",setup(Y){const f=I(),E=v(!1),p=v(null),N=()=>{p.value={global:{value:null,matchMode:L.CONTAINS}}};function P(d=new Date){const o=d.getDate(),g=d.getMonth(),_=d.getFullYear(),b=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],y=o<10?`0${o}`:o,h=b[g];return`${y} / ${h} / ${_}`}const F=v([]);B(()=>{N()});const q=[{columnName:"Id",columnValue:"id",columnType:"other"},{columnName:"Fecha de solicitud",columnValue:"created_at_formated",columnType:"max-content"},{columnName:"Nombre del solicitante",columnValue:"creator_name",columnType:"other"},{columnName:"Cargo del solicitante",columnValue:"creator_position",columnType:"other"},{columnName:"Area de solicitud",columnValue:"area_name",columnType:"max-content"},{columnName:"Justificacion de la requisicion",columnValue:"requisition_description",columnType:"other"}],V=[{id:1,name:"Pendiente de aprobación",color:"#FFFFFF",backgroundColor:"#FF5733"},{id:2,name:"Aprobado por Gerencia",color:"#FFFFFF",backgroundColor:"#2980B9"},{id:3,name:"Publicada en web",color:"#FFFFFF",backgroundColor:"#8E44AD"},{id:4,name:"Revisión de hojas de vida",color:"#FFFFFF",backgroundColor:"#27AE60"},{id:5,name:"Filtro 1, preliminares",color:"#FFFFFF",backgroundColor:"#D35400"},{id:6,name:"Filtro 2, primera entrevista",color:"#FFFFFF",backgroundColor:"#C0392B"},{id:7,name:"Filtro 3, segunda entrevista",color:"#FFFFFF",backgroundColor:"#16A085"},{id:8,name:"Revisión de Exámenes",color:"#FFFFFF",backgroundColor:"#34495E"},{id:9,name:"Recepción de documentos",color:"#FFFFFF",backgroundColor:"#F39C12"},{id:10,name:"Contratación completada",color:"#FFFFFF",backgroundColor:"#2ECC71"},{id:12,name:"Entregado a Gestión Humana",color:"#FFFFFF",backgroundColor:"#3498DB"},{id:13,name:"Rechazado por gerencia general",color:"#FFFFFF",backgroundColor:"#E74C3C"},{id:14,name:"No requiere aprobación de la gerencia",color:"#FFFFFF",backgroundColor:"#95A5A6"},{id:15,name:"Solicitud registrada",color:"#FFFFFF",backgroundColor:"#7F8C8D"},{id:16,name:"Rechazada por Gestión Humana",color:"#FFFFFF",backgroundColor:"#E74C3C"}],w=[{id:18,area_id:5,requester_id:1082,requisition_lap_id:12,creator_id:1082,creator_name:"ANDRES FELIPE ARECHEA",created_at:"2024-10-22T14:22:33",area_name:"Innovación",validation_type_id:2,lap_name:"Entregado a Gestión Humana",created_at_formated:"22-10-2024  02:22 PM",requisition_description:"Necesidad de personal adicional para apoyar un nuevo proyecto de innovación que busca explorar tecnologías emergentes en nuestra industria.",lap_history:null,creator_position:"Analista de Innovación"},{id:19,area_id:5,requester_id:1082,requisition_lap_id:12,creator_id:1082,creator_name:"ANDRES FELIPE ARECHEA",created_at:"2024-10-22T14:22:55",area_name:"Innovación",validation_type_id:2,lap_name:"Entregado a Gestión Humana",created_at_formated:"22-10-2024  02:22 PM",requisition_description:"Solicitud de incremento de equipo debido al crecimiento acelerado de nuestro proyecto piloto que requiere más recursos humanos para su expansión.",lap_history:[{time:"22-10-2024  02:22 PM",lap:"No requiere aprobación de la gerencia",responsible:"ANDRES FELIPE ARECHEA",comment:"Decisión automática por política interna debido a la categoría del proyecto."},{time:"22-10-2024  02:22 PM",lap:"Entregado a Gestión Humana",responsible:"ANDRES FELIPE ARECHEA",comment:"Enviado para la acción inmediata dada la urgencia y el impacto potencial del proyecto."}],creator_position:"Analista de Innovación"}];return(d,o)=>{const g=t("Textarea"),_=t("Button"),b=t("Dialog"),y=t("InputText"),h=t("Tag"),D=t("column"),R=t("DataTable");return r(),s(T,null,[i(b,{class:"mx-2",visible:E.value,"onUpdate:visible":o[1]||(o[1]=e=>E.value=e),modal:"",header:"Aceptar solicitud de requisicion",style:{width:"30rem"}},{footer:c(()=>[a("div",null,[i(_,{severity:"help",label:"No, Pensarlo mejor"}),i(_,{text:"",severity:"danger",label:"Si, Autorizar"})])]),default:c(()=>[a("h6",j,"Fecha: "+n(P()),1),a("h6",G,"Responsable: "+n(A(f).rawUserData.name),1),a("h6",z,[a("b",null,n(A(f).rawUserData.name),1),m(" confirmas la aprobacion de la solicitud de requisicion de "),a("b",null,n(F.value.creator_name),1),m(" para el area "),a("b",null,n(F.value.area_name),1),m(" aceptando dando por valida la siguiente justificacion: "),i(g,{class:"my-3",rows:"7",style:{width:"100%",height:"max-content",resize:"none",border:"1px solid"},readonly:"",modelValue:F.value.requisition_description,"onUpdate:modelValue":o[0]||(o[0]=e=>F.value.requisition_description=e)},null,8,["modelValue"])])]),_:1},8,["visible"]),i(R,{paginator:!0,rows:15,style:{width:"100%","max-width":"1280px"},paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} solicitudes",rowsPerPageOptions:[5,10,25,100],scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto",value:w,tableStyle:"min-width: 50rem;",filters:p.value},{header:c(()=>[a("div",U,[$,i(y,{class:"",modelValue:p.value.global.value,"onUpdate:modelValue":o[2]||(o[2]=e=>p.value.global.value=e),placeholder:"Buscar Solicitud..."},null,8,["modelValue"])])]),default:c(()=>[(r(),s(T,null,H(q,e=>i(D,{header:e.columnName,field:e.columnValue,class:"my-0 py-2"},{body:c(l=>{var k,x;return[e.columnType=="date"?(r(),s("h6",O,n((k=l.data[e.columnValue])==null?void 0:k.split("-").reverse().join("-")),1)):u("",!0),e.columnType=="max-content"?(r(),s("h6",{key:1,style:C(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},n(l.data[e.columnValue]),5)):u("",!0),e.columnType=="other"?(r(),s("h6",J,n(l.data[e.columnValue]),1)):u("",!0),e.columnType=="money"?(r(),s("h6",{key:3,style:C(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},n(d.formatoPesosColombianos(l.data[e.columnValue])),5)):u("",!0),e.columnValue=="lap_name"?(r(),M(h,{key:4,class:"p-2",style:C([{color:"white"},`background-color:${(x=V.find(S=>S.id==l.data.requisition_lap_id))==null?void 0:x.backgroundColor}`])},{default:c(()=>[m(n(l.data[e.columnValue]),1)]),_:2},1032,["style"])):u("",!0)]}),_:2},1032,["header","field"])),64))]),_:1},8,["filters"])],64)}}};export{Q as default};
