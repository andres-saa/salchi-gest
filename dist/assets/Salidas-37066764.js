import{_ as I,z as U,l as $,A as D,h as d,i as B,j as r,U as u,g as c,o as C,c as j,a as t,f as l,p as F,m as N}from"./index-8122cb18.js";const s=_=>(F("data-v-b53989c0"),_=_(),N(),_),P={class:"container px-2"},T={style:{width:"100%"}},z={style:{width:"100%","align-items":"center",gap:"1rem"}},E=s(()=>t("h5",{class:"m-0 my-3"},[t("b",null,"Fecha")],-1)),L={style:{width:"100%","align-items":"center",gap:"1rem"}},R=s(()=>t("h5",{class:"m-0 my-3"},[t("b",null,"Tipo de salida")],-1)),M={style:{width:"100%","align-items":"center",gap:"1rem"}},A=s(()=>t("h5",{class:"m-0 my-3"},[t("b",null,"jornada")],-1)),Y={style:{width:"100%","align-items":"center",gap:"1rem"}},q=s(()=>t("h5",{class:"m-0 my-3"},[t("b",null,"Sede")],-1)),G={style:{width:"100%","align-items":"center",gap:"1rem"}},H=s(()=>t("h5",{class:"m-0 my-3"},[t("b",null,"Valor")],-1)),J={style:{width:"100%","align-items":"center",gap:"1rem"}},K=s(()=>t("h5",{class:"m-0 my-3"},[t("b",null,"Cuentanos la razon de esta salida")],-1)),O={style:{width:"100%",display:"flex","align-items":"center",gap:"1rem",padding:"2rem 0","justify-content":"end"}},Q={__name:"Salidas",setup(_){const g=U(),w=$();D();const m=d([]),e=d({cachier_id:0,work_schedule_id:0,value:0,site_id:0,date:""}),V=n=>{const a=new Date(n),p=String(a.getDate()).padStart(2,"0"),i=String(a.getMonth()+1).padStart(2,"0");return`${a.getFullYear()}-${i}-${p}`},f=()=>{e.value={cachier_id:0,work_schedule_id:0,value:0,site_id:0,date:""}},v=d([]),b=d([]),h=d([]),S=async()=>{const n={responsible_id:w.rawUserData.id,work_schedule_id:e.value.work_schedule_id,value:e.value.value,site_id:e.value.site_id,output_type_id:e.value.output_type_id,content:e.value.content,date:V(e.value.date)};if(console.log(n),!e.value.work_schedule_id){alert("Por favor, selecciona una jornada.");return}if(!e.value.value){alert("Por favor, ingresa el valor.");return}if(!e.value.site_id){alert("Por favor, selecciona una sede.");return}if(!e.value.date){alert("Por favor, selecciona una fecha.");return}try{await r.post(`${u}/create-output-cachier-money/${e.value.site_id}`,n),g.add({severity:"success",summary:"Éxito",detail:"Enviado con éxito",life:3e3}),f()}catch{alert("Error al registrar los datos")}};return B(async()=>{b.value=await r.get(`${u}/employers-basic`),h.value=await r.get(`${u}/get-work-schedule`),v.value=await r.get(`${u}/sites`),m.value=await r.get(`${u}/get-output-types`)}),(n,a)=>{const p=c("Calendar"),i=c("Dropdown"),y=c("InputNumber"),k=c("Textarea"),x=c("Button");return C(),j("div",P,[t("div",T,[t("div",z,[E,l(p,{modelValue:e.value.date,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.date=o),style:{width:"100%"},dateFormat:"dd-mm-yy",placeholder:"Selecciona una fecha"},null,8,["modelValue"])]),t("div",L,[R,l(i,{modelValue:e.value.output_type_id,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.output_type_id=o),options:m.value,optionLabel:"name",optionValue:"id",style:{width:"100%"}},null,8,["modelValue","options"])]),t("div",M,[A,l(i,{modelValue:e.value.work_schedule_id,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.work_schedule_id=o),options:h.value,optionLabel:"name",optionValue:"id",style:{width:"100%"}},null,8,["modelValue","options"])]),t("div",Y,[q,l(i,{modelValue:e.value.site_id,"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.site_id=o),options:v.value.filter(o=>o.show_on_web),optionLabel:"site_name",optionValue:"site_id",style:{width:"100%"}},null,8,["modelValue","options"])]),t("div",G,[H,l(y,{modelValue:e.value.value,"onUpdate:modelValue":a[4]||(a[4]=o=>e.value.value=o),style:{width:"100%"},placeholder:"Ingresa el valor"},null,8,["modelValue"])]),t("div",J,[K,l(k,{rows:"5",modelValue:e.value.content,"onUpdate:modelValue":a[5]||(a[5]=o=>e.value.content=o),style:{width:"100%",resize:"none"},placeholder:"Ingresa el valor"},null,8,["modelValue"])]),t("div",O,[l(x,{label:"Registrar",severity:"help",onClick:S})])])])}}},X=I(Q,[["__scopeId","data-v-b53989c0"]]);export{X as default};
