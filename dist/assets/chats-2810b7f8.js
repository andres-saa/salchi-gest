import{_ as de,h as f,D as ie,i as le,H as oe,g as U,o as d,c as E,a as e,f as m,e as _,t as w,k as P,n as l,u as r,F as ge,r as ye,d as N,b as ce,j as M,I as B,p as xe,m as we,J as $e,C as Ce,l as Te,G as De,U as Le,q as re,K as Ue,L as Re}from"./index-587fb425.js";import{c as ue,u as ke,P as je}from"./Messages.vue_vue_type_style_index_0_scoped_ecf0cf3c_lang-3f48723f.js";/* empty css                                                             */import Ne from"./Messages-873fa22c.js";const Oe=R=>(xe("data-v-e1b8ee08"),R=R(),we(),R),Ie={class:"sidebar-container",style:{position:"relative"}},Ae={class:"header"},ze={class:"flex align-items-center"},Me=["src"],Pe={class:"flex align-items-center"},Ve=["src"],Fe={style:{display:"flex",gap:"1rem"}},Be={style:{position:"relative"}},We={style:{height:"1.5rem",width:"1.5rem","border-radius":"50%","background-color":"rgb(156,39,176)",position:"absolute",top:"-1rem",right:"-.7rem",display:"flex","align-items":"center","justify-content":"center","font-weight":"bold"}},Je={style:{color:"white"}},Ke={class:"statuses"},qe=["onClick"],Ge={class:"avatar",style:{"grid-area":"imagen",height:"100%",width:"100%",display:"flex","align-items":"center"}},He={style:{"grid-area":"check",display:"flex","justify-content":"end",gap:".5rem"}},Xe={key:0,style:{height:"1.5rem",width:"1.5rem","border-radius":"50%","background-color":"rgb(156,39,176)",display:"flex","align-items":"center","justify-content":"center","font-weight":"bold"}},Ye={style:{color:"white"}},Qe=Oe(()=>e("i",{style:{color:"greenyellow"},class:"fa-solid fa-check-double"},null,-1)),Ze={key:0,style:{bottom:"0","padding-bottom":"1rem",background:"linear-gradient(to bottom , transparent 3%, black)",display:"flex",position:"absolute","z-index":"100",width:"100%",color:"white"}},et={key:1,style:{"text-align":"center",padding:".5rem",color:"#ffffff80"}},ve=1e3,tt={__name:"Sidebar",props:{restaurant:Object},setup(R){const i=ue(),Z=R,T=ke(),ee=[{id:1,name:"Salchimonster",img:"https://backend.salchimonster.com/read-photo-product/xai0dVnL"},{id:7,name:"Distrimoster",img:"https://backend.salchimonster.com/read-photo-product/iX6UiE6e"}],$=f(Z.restaurant||ee[0]);f([{label:"Todos",textColor:"#4CAF50"},{label:"Sin leer",textColor:"#2196F3"},{label:"Favoritos",textColor:"#FFC107"},{label:"Preocupantes",textColor:"#F44336"},{label:"Top",textColor:"#9C27B0"}]);const te=async s=>{T.current_user=s;try{await M.post(`${B}/read-message/${s.user_id}/${$.value.id}`,!1)}catch(c){console.error("No se pudo marcar como leído",c)}s.unreaded=0},V=f([{label:"TODO",bg:"#8e44ad",icon:"fa-star"},{label:"SIN DATOS",bg:"#7f8c8d",icon:"fa-circle-question"},{label:"PREOCUPANTE",bg:"#e74c3c",icon:"fa-triangle-exclamation"},{label:"CASUAL",bg:"#e67e22",icon:"fa-person-walking"},{label:"FRECUENTE",bg:"#27ae60",icon:"fa-repeat"},{label:"TOP",bg:"#2980b9",icon:"fa-ranking-star"},{label:"ESTRELLA",bg:"#8e44ad",icon:"fa-star"}]),u=f({label:"TODO",bg:"#8e44ad",icon:"fa-star"}),A=f(0);let O=0;const b=f(!1),D=f(!1),y=f(null),W=s=>{var p;if(!s)return"";const c=s.split(" ");return(c[0][0]||"")+(((p=c[1])==null?void 0:p[0])||"")},J=s=>s==="9+"?10:Number(s??0),F=(s,c)=>{const p=T.sidebars[s]||[];c.forEach(h=>{const x=p.findIndex(L=>L.wa_id===h.wa_id);if(x===-1)p.push(h);else{const L=p[x],q=L.ultimo_mensaje_id!==h.ultimo_mensaje_id,o=J(h.unreaded)<J(L.unreaded);(q||o)&&(p[x]=h)}}),T.sidebars[s]=p,A.value=p.reduce((h,x)=>h+J(x.unreaded),0)},X=async()=>{if(b.value||D.value)return;b.value=!0;const s=`${B}/last-contact-messages/${$.value.id}?limit=${ve}&offset=${O}`,c=await M.get(s,!1);c.length<ve&&(D.value=!0),O+=c.length,F($.value.id,c),b.value=!1},K=()=>{const s=y.value;if(!s||b.value||D.value)return;s.scrollTop+s.clientHeight>=s.scrollHeight-120&&X()},C=s=>{const c=$.value.id,p=T.sidebars[c]||[],h=p.findIndex(x=>x.wa_id===s.wa_id);h!==-1?(p.splice(h,1),T.sidebars[c]=[s,...p]):T.sidebars[c]=[s,...p],A.value=T.sidebars[c].reduce((x,L)=>x+Number(L.unreaded||0),0)};let j=null;const Y=()=>{const s=`wss://sockets-service.salchimonster.com/ws/salchimonster-${$.value.id}`;j=new WebSocket(s),j.onopen=()=>console.log("WebSocket conectado a",s),j.onerror=c=>console.error("WebSocket error",c),j.onclose=()=>setTimeout(Y,5e3),j.onmessage=async c=>{const p=JSON.parse(c.data);p!=null&&p.user_id&&C(p)}};ie($,async s=>{O=0,D.value=!1,T.sidebars[s.id]=[],j&&j.close(),Y(),await X(),k.value=!1,setTimeout(()=>{k.value=!0},0)}),le(async()=>{var s;await X(),(s=y.value)==null||s.addEventListener("scroll",K),Y()}),oe(()=>{var s;(s=y.value)==null||s.removeEventListener("scroll",K),j&&j.close()});const k=f(!0),Q=s=>{u.value=s,k.value=!1,setTimeout(()=>{k.value=!0},0)};return(s,c)=>{var q;const p=U("Dropdown"),h=U("Button"),x=U("RouterLink"),L=U("ProgressSpinner");return d(),E("div",Ie,[e("div",Ae,[m(p,{modelValue:$.value,"onUpdate:modelValue":c[0]||(c[0]=o=>$.value=o),options:ee,optionLabel:"name",style:l([{"background-color":"#ffffff20",outline:"none","box-shadow":"none"},r(i).current_chat_theme.border])},{option:_(o=>[e("div",ze,[e("img",{src:o.option.img,alt:"Logo",style:{width:"24px",height:"24px","margin-right":"8px","object-fit":"contain"}},null,8,Me),e("span",null,[e("b",null,w(o.option.name),1)])])]),value:_(o=>[e("div",Pe,[o.value?(d(),E("img",{key:0,src:o.value.img,alt:"Logo",style:{width:"24px",height:"24px","margin-right":"8px","object-fit":"contain"}},null,8,Ve)):P("",!0),e("span",{style:l(r(i).current_chat_theme.text)},w(o.value?o.value.name:"Selecciona"),5)])]),_:1},8,["modelValue","style"]),e("div",Fe,[m(h,{class:"options",text:""},{default:_(()=>[e("i",{class:"pi pi-search text-2xl",style:l(r(i).current_chat_theme.text)},null,4)]),_:1}),e("div",Be,[m(h,{class:"options",text:"",style:{opacity:".5"}},{default:_(()=>[e("i",{class:"pi pi-bell text-2xl",style:l(r(i).current_chat_theme.text)},null,4)]),_:1}),e("div",We,[e("span",Je,w(A.value),1)])]),m(h,{class:"options",text:""},{default:_(()=>[e("i",{class:"pi pi-bars text-2xl",style:l(r(i).current_chat_theme.text)},null,4)]),_:1})])]),e("div",Ke,[(d(!0),E(ge,null,ye(V.value,(o,G)=>(d(),N(h,{style:l([{"border-radius":".3rem",padding:"0.3rem"},o.label===u.value.label?{backgroundColor:o.bg,color:"#fff"}:{backgroundColor:"#ffffff20",color:o.bg}]),text:"",key:G,onClick:()=>Q(o),class:"status",label:o.label},null,8,["onClick","label","style"]))),128))]),e("div",{class:ce(["",k.value?"chats active-new":"chats"]),ref_key:"chatsContainer",ref:y,onScroll:K},[(d(!0),E(ge,null,ye(((q=r(T).sidebars[$.value.id])==null?void 0:q.filter(o=>o.clasification==u.value.label||u.value.label=="TODO"))||[],(o,G)=>(d(),N(x,{"active-class":r(i).current_chat_theme.name=="dark"?"active":"active-light",key:G,to:`/chat/chats/messages/${$.value.id}/${o.wa_id}/${o.nombre}/${o.color}?expirado=${o.expirado}&?expira-en?=${o.tiempo_para_expirar}`},{default:_(()=>[e("div",{class:"chat",onClick:()=>te(o)},[e("div",Ge,[e("div",{style:l([{height:"3rem",width:"3rem","aspect-ratio":"1/1","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center","text-transform":"uppercase","font-size":"1.3rem"},`background-color:${o.color||"black"}`])},w(W(o.nombre)),5)]),e("div",{style:l([{"grid-area":"nombre","text-transform":"capitalize"},r(i).current_chat_theme.text])},w(o.nombre),5),o.tiempo_para_expirar||!o.expirado?(d(),E("div",{key:0,style:l([{"grid-area":"expiration","text-align":"end","text-transform":"capitalize",opacity:".5"},r(i).current_chat_theme.text])}," Expira en "+w(o.tiempo_para_expirar),5)):(d(),E("div",{key:1,style:l([{"grid-area":"expiration","text-align":"end","text-transform":"capitalize",opacity:".5"},r(i).current_chat_theme.text])}," Expirado ",4)),e("span",{style:l([{"grid-area":"mensaje",color:"#ffffff80",opacity:".5"},r(i).current_chat_theme.text])},w(o.mensaje_truncado),5),e("span",{style:l([{"grid-area":"fecha","text-align":"end"},r(i).current_chat_theme.text])},w(o.abreviatura||o.fecha_ultimo_mensaje),5),e("div",He,[o.unreaded>0?(d(),E("div",Xe,[e("span",Ye,w(o.unreaded),1)])):P("",!0),Qe])],8,qe)]),_:2},1032,["active-class","to"]))),128)),b.value?(d(),E("div",Ze,[(d(),N(L,{key:0,style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"transparent",animationDuration:".3s","aria-label":"Custom ProgressSpinner"}))])):P("",!0),D.value?(d(),E("div",et,"No hay más chats.")):P("",!0)],34)])}}},be=de(tt,[["__scopeId","data-v-e1b8ee08"]]),Se=R=>(xe("data-v-63d04c63"),R=R(),we(),R),at={class:"top-bar-left"},st={style:{height:"3rem",width:"3rem",display:"flex","align-items":"center"}},ot={class:"top-bar-info"},nt={style:{display:"flex","align-items":"center",gap:"1rem"}},rt={style:{height:"100%",overflow:"auto"}},it={key:1,style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},lt={class:"message-area"},ct=Se(()=>e("i",{class:"fas fa-laugh-wink emoji-picker"},null,-1)),dt=["onKeydown"],ut=["src"],pt={style:{position:"relative",transition:".2s"}},mt=Se(()=>e("i",{class:"pi pi-send text-2xl"},null,-1)),_t={style:{display:"flex",gap:"1rem","flex-direction":"column"}},ft={class:"flex gap-2"},ht={style:{width:"100%",display:"flex","justify-content":"end"}},gt=$e({__name:"Main",setup(R){const i=ue();function Z(t){return{APPROVED:"success",PENDING:"warning",REJECTED:"danger"}[t]||"info"}const T=t=>{ee(t),V.value=!1};async function ee(t){const a=t,n=new FormData;n.append("messaging_product","whatsapp"),n.append("employer_id",A.rawUserData.id.toString()),n.append("context_message_id",""),n.append("restaurant_id",u.params.restaurant_id),n.append("to",u.params.user_id),n.append("type","template"),n.append("template",JSON.stringify(a));try{C.sending=!0,await M.post(`${B}/webhook/send/template/`,n,!1),console.log(`✅ Template enviado a ${to}`)}catch(v){console.error(`✗ Error al enviar template a ${to}`,v)}finally{C.sending=!1}}const $=f([{}]),te=t=>{t.target.closest(".emoji-picker")||(O.value=!1)};le(()=>{document.addEventListener("click",te),pe()}),oe(()=>{document.removeEventListener("click",te)});const V=f(!1);f([]);const u=Ce(),A=Te(),O=f(!1),b=f(""),D=f(!1),y=f(null),W=f(!1),J=f(!0),F=De(()=>{var t,a;return J.value&&(((t=u.query)==null?void 0:t.expirado)==="true"||((a=u.query)==null?void 0:a.expirado)===!0)}),X=t=>{J.value=t};ie(()=>{var t;return(t=u.params)==null?void 0:t.restaurant_id},()=>{pe()}),ie(F,t=>{b.value=t?"Conversación expirada":""},{immediate:!0});const K={"SIN DATOS":{bg:"#7f8c8d",icon:"fa-circle-question"},PREOCUPANTE:{bg:"#e74c3c",icon:"fa-triangle-exclamation"},CASUAL:{bg:"#e67e22",icon:"fa-person-walking"},FRECUENTE:{bg:"#27ae60",icon:"fa-repeat"},TOP:{bg:"#2980b9",icon:"fa-ranking-star"},ESTRELLA:{bg:"#8e44ad",icon:"fa-star"}},C=ke();f([{id:1,name:"Salchimonster",img:"https://backend.salchimonster.com/read-photo-product/xai0dVnL"},{id:7,name:"Distrimoster",img:"https://backend.salchimonster.com/read-photo-product/iX6UiE6e"}]);const j=(t="")=>{const a=t.trim().split(" ");return(Array.from(a[0]||"")[0]||"")+(a[1]?Array.from(a[1])[0]:"")},Y=t=>{b.value+=t.i,O.value=!1};let k=null,Q=[],s=null;const c=async()=>{if(D.value&&k){k.stop();return}try{s=await navigator.mediaDevices.getUserMedia({audio:!0});const t=MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")?"audio/ogg;codecs=opus":"audio/webm;codecs=opus";k=new MediaRecorder(s,{mimeType:t}),k.ondataavailable=a=>a.data.size&&Q.push(a.data),k.onstop=()=>{const a=new Blob(Q,{type:t.split(";")[0]});Q=[],s.getTracks().forEach(v=>v.stop());const n=t.startsWith("audio/ogg")?"ogg":"webm";y.value={file:new File([a],`audio_${Date.now()}.${n}`,{type:a.type}),url:URL.createObjectURL(a)},D.value=!1},k.start(),D.value=!0}catch(t){console.error("No se pudo abrir el micrófono:",t.name,t.message),D.value=!1,s&&s.getTracks().forEach(a=>a.stop())}},p=()=>{y.value&&URL.revokeObjectURL(y.value.url),y.value=null};oe(()=>{k&&D.value&&k.stop(),s&&s.getTracks().forEach(t=>t.stop())});const h={messaging_product:"whatsapp",employer_id:A.rawUserData.id,context_message_id:null},x=async(t,a=null)=>{var v,I;if(F.value||!t.trim())return;const n=new FormData;n.append("messaging_product","whatsapp"),n.append("employer_id",A.rawUserData.id),n.append("context_message_id",((v=a==null?void 0:a.message_data)==null?void 0:v.wa_id)||null),n.append("restaurant_id",(I=u.params.restaurant_id)==null?void 0:I.toString()),n.append("to",u.params.user_id),n.append("type","text"),n.append("text",JSON.stringify({body:t})),b.value="";try{C.sending=!0,await M.post(`${B}/webhook/send/text/`,n,!1)}catch(S){console.error("Error al enviar texto",S)}C.sending=!1},L=async()=>{var v;if(F.value||!y.value||W.value)return;const t=y.value;p(),W.value=!0;const a=new FormData;a.append("files",t.file);const n={...h,restaurant_id:(v=u.params.restaurant_id)==null?void 0:v.toString(),to:u.params.user_id,type:"audio",text:{body:""},file_index:0};a.append("payloads",JSON.stringify(n));try{await M.post(`${B}/webhook/send`,a,!1)}catch(I){console.error("Error al enviar audio",I)}W.value=!1},q=async t=>{var I;if(F.value||!(t!=null&&t.length))return;const a=new FormData,n={restaurant_id:(I=u.params.restaurant_id)==null?void 0:I.toString(),to:u.params.user_id,messaging_product:"whatsapp",employer_id:A.rawUserData.id,context_message_id:null},v=S=>{var se;const{type:z,name:ne}=S;if(z.startsWith("image/"))return"image";if(z.startsWith("audio/"))return"audio";if(z.startsWith("video/"))return"video";if(z==="application/pdf")return"document";const ae=(se=ne.split(".").pop())==null?void 0:se.toLowerCase();return["jpg","jpeg","png","webp"].includes(ae)?"image":["mp3","wav","ogg","opus"].includes(ae)?"audio":"document"};t.forEach((S,z)=>{a.append("files",S.file),a.append("payloads",JSON.stringify({...n,type:v(S.file),text:{body:S.caption||""},file_index:z}))}),C.sending=!0;try{await M.post(`${B}/webhook/send`,a,!1)}catch(S){console.error("Error al enviar archivos",S)}C.sending=!1},o=t=>{t.key==="Enter"&&(t.preventDefault(),b.value.trim()&&x(b.value))},G=t=>{t.key==="Enter"&&y.value&&(t.preventDefault(),L())};le(()=>window.addEventListener("keydown",G)),oe(()=>window.removeEventListener("keydown",G));async function pe(){if(u.params.restaurant_id){const a=(await M.get(`${Le}/restaurants`)||[]).find(n=>{var v;return n.id==((v=u.params)==null?void 0:v.restaurant_id)})||null;a&&($.value=await M.get(`${B}/wabas/${a.waba_id}/templates/`))}}return(t,a)=>{var me,_e,fe;const n=U("Button"),v=U("RouterView"),I=U("Textarea"),S=U("Column"),z=U("Tag"),ne=U("DataTable"),ae=U("RouterLink"),se=U("Dialog");return d(),E("div",{class:"main-container",style:l([r(i).current_chat_theme.bg_image,{}])},[e("div",{class:"top-bar",style:l([{"border-radius":".5rem",gap:"1rem"},r(i).current_chat_theme.bg_bars])},[e("div",at,[e("div",st,[e("div",{class:"cliente-img",style:l([`background-color:${r(u).params.color}`,{height:"100%",color:"white",width:"3rem","aspect-ratio":"1/1","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center","text-transform":"uppercase","font-size":"1.3rem"}])},w(j(r(u).params.user_name)),5)]),e("div",ot,[e("strong",null,[e("h5",{style:l([{"text-transform":"capitalize",margin:"0"},r(i).current_chat_theme.text])},w((me=r(u).params.user_name)==null?void 0:me.substring(0,20)),5)]),e("div",null,[r(C).current_user.clasification?(d(),N(n,{key:0,style:l({height:"2.3rem",display:"flex",alignItems:"center",textTransform:"capitalize",gap:"0.35rem",backgroundColor:((_e=K[r(C).current_user.clasification])==null?void 0:_e.bg)||"#7f8c8d",color:"#fff"})},{default:_(()=>{var g,H;return[e("i",{class:ce(["fa-solid",(g=K[r(C).current_user.clasification])==null?void 0:g.icon]),"aria-hidden":"true",style:{"font-size":"0.9rem"}},null,2),re(" "+w((H=r(C).current_user.clasification)==null?void 0:H.toLowerCase())+" "+w(r(C).current_user.times_purchased)+" compras ",1)]}),_:1},8,["style"])):P("",!0)])])]),e("div",nt,[m(n,{icon:"pi pi-shopping-cart",class:"p-2",style:{color:"white","min-width":"max-content"},severity:"warning",label:"Ing. Ped"}),m(n,{text:"",class:"p-2"},{default:_(()=>[e("i",{style:l(r(i).current_chat_theme.text),class:"pi pi-search text-2xl"},null,4)]),_:1}),m(n,{text:"",class:"p-2"},{default:_(()=>[e("i",{style:l(r(i).current_chat_theme.text),class:"pi pi-bars text-2xl"},null,4)]),_:1})])],4),e("div",rt,[m(v,null,{default:_(()=>[r(u).params.user_id?(d(),N(Ne,{key:0,send_function:q,send_text:x,change_expiration:X,ref:"Messages_element"},null,512)):(d(),E("div",it,[e("h2",{style:l([{color:"white","font-size":"3rem",opacity:".5"},r(i).current_chat_theme.text])},"Selecciona un chat...",4)]))]),_:1})]),(fe=r(u).params)!=null&&fe.user_id?(d(),E("div",{key:0,class:"chat-bar",tabindex:"0",style:l(r(i).current_chat_theme.bg_bars)},[O.value?(d(),N(r(je),{key:0,native:!0,style:{position:"absolute",bottom:"4rem","z-index":"1000"},onSelect:Y,class:"emoji-picker"})):P("",!0),e("div",lt,[m(n,{text:"",style:{"font-size":"2rem"},onClick:a[0]||(a[0]=g=>O.value=!O.value)},{default:_(()=>[ct]),_:1}),y.value?(d(),E("div",{key:1,class:"audio-chip",onKeydown:Ue(Re(L,["prevent"]),["enter"])},[e("audio",{style:{width:"100%","min-width":"28rem","max-width":"42rem"},src:y.value.url,controls:""},null,8,ut),m(n,{text:"",class:"btn-audio-trash p-2",onClick:p},{default:_(()=>[e("i",{style:l(r(i).current_chat_theme.text),class:"pi pi-trash text-2xl p-0"},null,4)]),_:1})],40,dt)):(d(),N(I,{key:0,modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=g=>b.value=g),autoResize:"",class:"message",disabled:F.value,onKeydown:o,style:l(`${r(i).current_chat_theme.text} ; ${r(i).current_chat_theme.border} `)},null,8,["modelValue","disabled","style"]))]),e("div",pt,[!y.value&&b.value.trim()===""?(d(),N(n,{key:0,text:"",style:{height:"100%"},onClick:c},{default:_(()=>[e("i",{style:l(r(i).current_chat_theme.text),class:ce(D.value?"pi pi-stop text-2xl text-red-500":"pi pi-microphone text-2xl ")},null,6)]),_:1})):y.value?(d(),N(n,{key:1,disabled:W.value,text:"",onClick:L},{default:_(()=>[e("i",{style:l(r(i).current_chat_theme.text),class:"pi pi-send text-2xl"},null,4)]),_:1},8,["disabled"])):(d(),N(n,{key:2,style:l(r(i).current_chat_theme.text),text:"",onClick:a[2]||(a[2]=g=>x(b.value))},{default:_(()=>[mt]),_:1},8,["style"]))]),e("div",_t,[m(n,{severity:"danger",style:{},icon:"pi pi-clock",class:"p-2",onClick:a[3]||(a[3]=()=>V.value=!0),label:"Despertar"}),r(u).query.expirado?(d(),N(n,{key:0,icon:"pi pi-bolt",severity:"warning",style:{},class:"p-2",onClick:a[4]||(a[4]=()=>V.value=!0),label:"Rapidas"})):P("",!0)])],4)):P("",!0),m(se,{visible:V.value,"onUpdate:visible":a[5]||(a[5]=g=>V.value=g),header:"Envio de plantilla",style:{width:"50rem"}},{default:_(()=>[m(ne,{value:$.value,dataKey:"id",paginator:"",rows:10,responsiveLayout:"scroll",class:"shadow-md rounded-xl overflow-hidden"},{default:_(()=>[m(S,{class:"my-1 py-1",field:"name",header:"Nombre",bodyClass:"font-medium"}),m(S,{class:"my-1 py-1",header:"Estado"},{body:_(({data:g})=>[m(z,{severity:Z(g.status)},{default:_(()=>[re(w(g.status),1)]),_:2},1032,["severity"])]),_:1}),m(S,{class:"my-1 py-1",header:"Estado"},{body:_(({data:g})=>{var H,he;return[re(w((he=(H=g==null?void 0:g.components)==null?void 0:H.find(Ee=>Ee.type=="BODY"))==null?void 0:he.text),1)]}),_:1}),m(S,{class:"my-1 py-1",headerStyle:"width:8rem",header:"Acciones"},{body:_(({data:g})=>[e("div",ft,[m(n,{icon:"pi pi-send",label:"Enviar",severity:"help",onClick:H=>T(g)},null,8,["onClick"])])]),_:1})]),_:1},8,["value"]),e("div",ht,[m(ae,{to:"/chat/templates"},{default:_(()=>[m(n,{severity:"help",icon:"pi pi-plus",label:"Agregar otro"})]),_:1})])]),_:1},8,["visible"])],4)}}}),yt=de(gt,[["__scopeId","data-v-63d04c63"]]);const vt={__name:"chats",setup(R){const i=ue();return(Z,T)=>(d(),E("div",{class:"chat-container",style:l(r(i).current_chat_theme.bg)},[m(be,{style:{"box-shadow":"1rem 0 1rem #00000010"},class:"sidebar-left",restaurant:{id:1,name:"Salchimonster",img:"https://backend.salchimonster.com/read-photo-product/xai0dVnL"}}),m(yt),m(be,{style:{"box-shadow":"-1rem 0 1rem #00000010"},class:"sidebar-right",restaurant:{id:7,name:"Distrimoster",img:"https://backend.salchimonster.com/read-photo-product/iX6UiE6e"}})],4))}},St=de(vt,[["__scopeId","data-v-7229be01"]]);export{St as default};
