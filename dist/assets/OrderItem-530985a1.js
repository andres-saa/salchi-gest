import{_ as W,y as K,I as p,r as S,o,c as a,e as u,f as d,h as i,t as l,a as t,F as k,b as U,g as w,i as c,n as j,M as x,N as D,ak as z,q as M,x as H}from"./index-58581f28.js";/* empty css                                                                  */const J="/images/WhatsApp.svg.webp",m=b=>(M("data-v-88829b91"),b=b(),H(),b),Y=["aria-label","onKeydown"],Z={class:"order-row"},G={class:"order-left"},Q={class:"order-id"},X={class:"thumb-inner"},ee=["src"],se={class:"right-time"},re={class:"time"},te={key:0,class:"and"},oe=m(()=>t("b",null," Y ",-1)),ae=[oe],ne={key:2,class:"m-0 resp"},ie=m(()=>t("b",null,"RESPONSABLE:",-1)),le={key:1,class:"obs"},de=m(()=>t("b",null,"OBSERVACIONES:",-1)),ce=m(()=>t("i",{class:"pi pi-whatsapp mr-2"},null,-1)),_e=m(()=>t("br",null,null,-1)),pe={key:3,class:"seller"},ue=m(()=>t("p",{class:"py-0 my-1"},[t("b",null,"Vendido por")],-1)),me={key:5,class:"brand brand--wa",src:J,alt:"Venta por WhatsApp"},be={key:6,class:"brand brand--web",src:z,alt:"Venta desde la web"},he={__name:"OrderItem",props:{order:{type:Object,default:()=>({})}},setup(b){const h=K(),e=b,g=()=>{h.setVisible("currentOrder",!0),h.setOrder(e.order)},P=p(()=>{var s,_;return((s=h==null?void 0:h.currentSearchingOrder)==null?void 0:s.order_id)===((_=e.order)==null?void 0:_.order_id)}),$=p(()=>P.value?{border:"3px solid var(--primary-color)"}:{}),A=p(()=>{var s;return((s=e.order)==null?void 0:s.user_phone)==="1111111111"}),q=p(()=>{var s;return(((s=e.order)==null?void 0:s.user_name)||"").toUpperCase()}),F=p(()=>{var y,v;const s=(y=e.order)==null?void 0:y.latest_status_timestamp;if(!s)return"";const _=new Date(s);if(!Number.isNaN(_.getTime()))try{return new Intl.DateTimeFormat("es-CO",{hour:"2-digit",minute:"2-digit",hour12:!1}).format(_)}catch{}const n=(v=s.split("T")[1])==null?void 0:v.split(".")[0];if(!n)return"";const[f,E]=n.split(":");return`${f}:${E}`}),L=p(()=>{var s;return((s=e.order)==null?void 0:s.current_status)==="en preparacion"});return(s,_)=>{var y,v,O,N,I,B,R,T,C,V;const n=S("Tag"),f=S("Button"),E=S("ProgressSpinner");return o(),a("div",{class:"order-card col-12",style:j($.value),role:"button",tabindex:"0","aria-label":`Abrir orden #${((y=e.order)==null?void 0:y.order_id)||""}`,onClick:g,onKeydown:[x(D(g,["prevent","stop"]),["enter"]),x(D(g,["prevent","stop"]),["space"])]},[u(n,{class:"mb-2 tag-client",severity:A.value?"danger":"help",style:{"border-radius":".3rem"}},{default:d(()=>[i(l(A.value?"ES UNA PRUEBA, RELÁJATE":`CLIENTE --> ${q.value}`),1)]),_:1},8,["severity"]),t("div",Z,[t("div",G,[t("b",Q,"#"+l((v=e.order)==null?void 0:v.order_id),1),(o(!0),a(k,null,U((((O=e.order)==null?void 0:O.products)||[]).slice(0,3),r=>(o(),a("div",{key:(r==null?void 0:r.img_identifier)+"-"+(r==null?void 0:r.quantity),class:"thumb"},[t("div",X,[t("img",{src:`https://backend.salchimonster.com/read-photo-product/${r==null?void 0:r.img_identifier}/96`,alt:"Producto del pedido",loading:"lazy",class:"thumb-img"},null,8,ee),u(f,{severity:"danger",class:"p-0 qty-badge",rounded:"",label:String((r==null?void 0:r.quantity)??0)},null,8,["label"])])]))),128))]),t("span",se,[t("b",re,l(F.value),1),L.value?(o(),w(E,{key:0,style:{width:"50px",height:"50px"},strokeWidth:"8",animationDuration:".5s","aria-label":"Preparando pedido"})):c("",!0)])]),((N=e.order)==null?void 0:N.calcel_sol_state)!==null&&((I=e.order)==null?void 0:I.calcel_sol_state)!==void 0?(o(),a(k,{key:0},[u(n,{style:{"border-radius":".3rem"},severity:e.order.calcel_sol_state?"success":"danger"},{default:d(()=>[i(l(e.order.calcel_sol_state?"REVISADO":"EN REVISIÓN..."),1)]),_:1},8,["severity"]),e.order.calcel_sol_state?(o(),a("span",te,ae)):c("",!0),e.order.calcel_sol_state?(o(),w(n,{key:1,style:{"border-radius":".3rem"},severity:e.order.calcel_sol_asnwer?"success":"danger"},{default:d(()=>[i(l(e.order.calcel_sol_asnwer?"APROBADO":"RECHAZADO"),1)]),_:1},8,["severity"])):c("",!0),e.order.cancelation_solve_responsible?(o(),a("p",ne,[ie,i(" "+l((B=e.order.cancelation_solve_responsible)==null?void 0:B.split(" ").slice(0,3).join(" ")),1)])):c("",!0)],64)):c("",!0),(R=e.order)!=null&&R.responsible_observation?(o(),a("div",le,[t("p",null,[de,i(" "+l(e.order.responsible_observation||"sin observaciones"),1)])])):c("",!0),(T=e.order)!=null&&T.responsible_id?(o(),a(k,{key:2},[u(n,{style:{"border-radius":".3rem"},severity:"success"},{default:d(()=>[ce,i(" TRANSFERENCIA APROBADA ")]),_:1}),_e,u(n,{style:{"border-radius":".3rem"},severity:"success"},{default:d(()=>{var r;return[i(l((r=e.order)==null?void 0:r.name),1)]}),_:1})],64)):c("",!0),(C=e.order)!=null&&C.inserted_by_name?(o(),a("div",pe,[ue,u(n,{class:"tag-seller"},{default:d(()=>[i(l(e.order.inserted_by_name)+" -> ",1)]),_:1})])):(o(),w(n,{key:4,class:"tag-web"},{default:d(()=>[i(" DIRECTO DE WEB -> ")]),_:1})),(V=e.order)!=null&&V.inserted_by_name?(o(),a("img",me)):(o(),a("img",be))],44,Y)}}},ge=W(he,[["__scopeId","data-v-88829b91"]]);export{ge as O};
