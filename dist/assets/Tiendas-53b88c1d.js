import{_ as k,h as r,H as $,i as C,o as I,c as N,b as o,f as g,u as a,a as e,F as j,j as x,U as d,cf as v,cg as w,T as D,ch as F,p as U,m as q,q as B}from"./index-4d808e00.js";const n=u=>(U("data-v-75adc387"),u=u(),q(),u),E={style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column",width:"100%"}},O=n(()=>e("h3",null,[e("b",null,"Melo")],-1)),T=n(()=>e("i",{class:"pi pi-check text-7xl",style:{"font-weight":"bold",color:"green"}},null,-1)),J={class:"p-3"},P={class:"field"},z=n(()=>e("label",{for:"descuentoMayor"},[e("b",null,"Descuento para Precio Mayor (%)")],-1)),A={class:"field mt-3"},R=n(()=>e("label",{for:"descuentoDistribuidor"},[e("b",null,"Descuento para Precio Distribuidor (%)")],-1)),L={class:"flex justify-content-end gap-2 mt-4"},W={style:{"margin-top":"10rem","max-width":"900px",margin:"10rem auto"},class:"px-3"},H={style:{width:"100%","justify-content":"center",gap:"1rem",display:"flex","flex-wrap":"wrap"},class:"my-4"},K=["src"],G=["src"],Q=["src"],X=n(()=>e("img",{src:"https://restaurant.pe/assets/images/logo-header.svg",alt:"",style:{height:"5rem",width:"min-content",margin:"auto"}},null,-1)),Y=n(()=>e("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/WhatsApp_Business_icon.png/169px-WhatsApp_Business_icon.png",alt:"",style:{height:"5rem",width:"min-content",margin:"auto"}},null,-1)),Z=n(()=>e("h5",null,[e("b",null,"Sincronizar las cartas"),B(" ¿Como funciona? El servidor principal correra' un script que se encargara' de tomar la carta de restaurant.Pe y descargar todo el contenido nuevo incluyendo las fotos, con esto logramos que nuestro servidor (que es mas rapido) nos entregue el menu sin preguntarle cual es a restaurant.Pe "),e("b",null,"Esta tarea deberia tomar maximo 2 minutos")],-1)),ee={style:{display:"flex","justify-content":"end",width:"100%"}},te={__name:"Tiendas",setup(u){const p=r(!1),m=r(!1),l=r(0),c=r(0),h=r([]),f=r([]);r(!1),$(()=>JSON.stringify(h.value)!==JSON.stringify(f.value));const b=async()=>{var i,t;try{const _=((t=(i=(await x.get(`${d}/get-product-integration-distrimonster`)).data)==null?void 0:i.data)==null?void 0:t.filter(y=>y.categoria_id==107))||[];h.value=_,f.value=JSON.parse(JSON.stringify(_))}catch(s){console.error("Error al actualizar los datos:",s)}};C(async()=>{b()});const S=async()=>{try{await x.post(`${d}/refresh-cache/6149/?quipupos=0`),b(),p.value=!0}catch(i){console.error("Error al refrescar la caché:",i)}},M=()=>{const i=parseInt(l.value,10)||0,t=parseInt(c.value,10)||0;h.value=h.value.map(s=>{const _=s.minor*(1-i/100),y=s.minor*(1-t/100);return{...s,mayor:parseFloat(_.toFixed(0)),distribuidor:parseFloat(y.toFixed(0))}}),m.value=!1,l.value=0,c.value=0},V=()=>{m.value=!1,l.value=0,c.value=0};return(i,t)=>(I(),N(j,null,[o(a(w),{visible:p.value,"onUpdate:visible":t[1]||(t[1]=s=>p.value=s),modal:"",closable:!1,style:{display:"flex","justify-content":"center",width:"10rem"}},{default:g(()=>[e("div",E,[O,T,o(a(v),{onClick:t[0]||(t[0]=s=>p.value=!1),icon:"pi pi-times",style:{position:"absolute","aspect-ratio":"1/1","border-radius":"50%",right:"-1.5rem",top:"-1.5rem"},severity:"danger"})])]),_:1},8,["visible"]),o(a(w),{visible:m.value,"onUpdate:visible":t[4]||(t[4]=s=>m.value=s),modal:"",header:"Modificar precios masivamente",closable:!0,style:{width:"20rem"}},{default:g(()=>[e("div",J,[e("div",P,[z,o(a(D),{inputStyle:{width:"100%",height:"2rem",borderRadius:"0"},id:"descuentoMayor",modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=s=>l.value=s),mode:"decimal",min:0,max:100,step:.1,class:"w-full"},null,8,["modelValue"])]),e("div",A,[R,o(a(D),{inputStyle:{width:"100%",height:"2rem",borderRadius:"0"},id:"descuentoDistribuidor",modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=s=>c.value=s),mode:"decimal",min:0,max:100,step:.1,class:"w-full"},null,8,["modelValue"])]),e("div",L,[o(a(v),{label:"Cancelar",severity:"danger",onClick:V}),o(a(v),{label:"Aplicar",severity:"success",onClick:M})])])]),_:1},8,["visible"]),e("div",W,[e("div",H,[e("img",{src:`${a(d)}/read-photo-product/xai0dVnL`,alt:"",style:{height:"5rem",width:"min-content",margin:"auto"}},null,8,K),e("img",{src:`${a(d)}/read-photo-product/a1roeK3y`,alt:"",style:{height:"5rem",width:"min-content",margin:"auto"}},null,8,G),e("img",{src:`${a(d)}/read-photo-product/mm9Ohnu7`,alt:"",style:{height:"5rem",width:"min-content",margin:"auto"}},null,8,Q),X,Y]),o(a(F),{class:"p-4",severity:"success"},{default:g(()=>[Z]),_:1}),e("div",ee,[o(a(v),{onClick:S,severity:"help",label:"Sincronizar Las cartas",class:"my-4"})])])],64))}},ae=k(te,[["__scopeId","data-v-75adc387"]]);export{ae as default};
