import{_ as G,x as J,f as d,c7 as K,g as P,h as V,C as Q,b7 as X,r as I,o as E,c as S,a as e,d as f,l as A,w as M,n as N,t as n,y as Y,k as m,c1 as Z,bV as ee,U as L,v as te,c9 as oe,p as se,e as ae}from"./index-a549dd16.js";import{f as le}from"./formatoPesos-2a38d2e7.js";import"./html2canvas.esm-6e01b359.js";import"./jspdf.es.min-e999fa87.js";const ne="/images/vacaciones.jpg";const s=C=>(se("data-v-57acb8a3"),C=C(),ae(),C),ie={class:"m-2 m-auto"},ce=s(()=>e("p",{class:"text-2xl lg:text-3xl text-center my-4 mt-8",style:{"font-weight":"bold"}},"Solicitar Vacaciones ",-1)),re={class:"mb-6 col-12",style:{display:"flex",height:"auto"}},de=s(()=>e("span",{style:{color:"white"}},"Buscar",-1)),ue={key:0,class:"text-1xl m-auto col-6 p-0",style:{color:"var(--primary-color)"}},he={key:1,class:"text-5xl m-auto col-12"},me={key:2,class:"col-12 p-0 m-auto",style:{height:"max-content","background-color":"transparent"}},pe=s(()=>e("h6",{class:"text-center p-2 m-0 mb-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"INFORMACIÓN DEL EMPLEADO",-1)),_e={class:"px-0 grid",style:{display:""}},ve=s(()=>e("h6",{class:"col-6 m-0 text-left text-md"},"NOMBRE",-1)),fe={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},ye=s(()=>e("h6",{class:"col-6 m-0 py-2 text-left"},"ESTADO",-1)),ge={class:"col-6 m-0 py-2 text-right",style:{"font-weight":"300","min-width":"max-content"}},be={class:"px-0 grid",style:{}},xe=s(()=>e("h6",{class:"col-6 m-0 text-left"},"DOCUMENTO",-1)),we={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},Ee={class:"px-0 grid",style:{}},Se=s(()=>e("h6",{class:"col-6 m-0 text-left"},"FECHA DE INICIO",-1)),Ce={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},De={class:"px-0 grid",style:{"background-color":""}},ke=s(()=>e("h6",{class:"col-6 m-0 text-left"},"CARGO",-1)),Ie={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ne=s(()=>e("h6",{class:"text-center p-2 mb-5",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}}," DETALLES ADICIONALES",-1)),Oe={class:"px-0 grid",style:{}},Ve=s(()=>e("h6",{class:"col-6 m-0 text-left"},"TIPO DE CONTRATO",-1)),Ae={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Le={class:"px-0 grid",style:{}},Te=s(()=>e("h6",{class:"col-6 m-0 text-left"},"SALARIO",-1)),$e={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},je={class:"px-0 grid col-12",style:{}},Be={class:"col-6"},Ue={style:{"font-weight":""}},ze={class:"col-6"},Re=s(()=>e("h6",{class:"text-center p-2 m-0 my-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"OBSERVACIONES",-1)),Pe={class:"col-12"},Me={style:{display:"flex"}},He=s(()=>e("span",{style:{color:"white"}},[e("i",{class:"fa-solid fa-umbrella text-white"}),m(" Solicitar vacaciones")],-1)),Fe={class:"col-12 p-0 mt-6",style:{"overflow-x":"auto","box-shadow":"0 0 20px rgba(0, 0, 0, 0.308)"},ref:"contenidoParaPDF"},qe={class:"a4-size p-8 mi-clase",style:{"box-shadow":"0 0 10px rgba(0, 0, 0, 0.508)"}},We=s(()=>e("img",{class:"m-auto",src:"https://salchimonster.com/images/logo.png",style:{width:"10%"},alt:""},null,-1)),Ge={style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},Je=s(()=>e("h6",{class:"text-center",style:{"font-size":"14pt","font-weight":"bold",color:"black","font-family":"Arial, Helvetica, sans-serif"}}," INVERSIONES SALCHIMONSTER SAS ",-1)),Ke=s(()=>e("h6",{style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"text-center"},"NIT: 901.420.874-0",-1)),Qe=s(()=>e("h6",{class:"text-center py-4",style:{"font-weight":"bold"}},[m("FORMATO SOLICITUD DE VACACIONES "),e("span",{style:{"text-transform":"capitalize"}})],-1)),Xe={class:"text-l",style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},Ye={class:"p-0 m-0"},Ze=s(()=>e("span",{style:{"font-weight":"bold"}},"Fecha de la solicitud: ",-1)),et={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},tt={class:"p-0 m-0",style:{width:"100%"}},ot=s(()=>e("span",{style:{"font-weight":"bold"}},"Nombre: ",-1)),st={style:{width:"100%","border-bottom":"1px solid","padding-bottom":"0","padding-right":"3rem"}},at={class:"p-0 m-0"},lt=s(()=>e("span",{style:{"font-weight":"bold"}},"Cargo: ",-1)),nt={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},it={class:"p-0 m-0"},ct=s(()=>e("span",{style:{"font-weight":"bold"}},"Identificación No: ",-1)),rt={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},dt={style:{display:"flex","justify-content":"start",gap:"2rem",border:"1px solid","margin-top":"2rem"},class:"p-2"},ut={style:{display:"flex","flex-direction":"column"},class:""},ht=s(()=>e("div",{style:{"font-weight":"bold"}}," Desde ",-1)),mt={style:{display:"flex","flex-direction":"column"}},pt=s(()=>e("div",{style:{"font-weight":"bold"}}," Hasta ",-1)),_t={style:{display:"flex","justify-content":"start",gap:"2rem",border:"1px solid","margin-top":"2rem"},class:"p-2"},vt={style:{display:"flex","flex-direction":"column"},class:""},ft=s(()=>e("div",{class:"mb-2",style:{"font-weight":"bold"}}," Observaciones ",-1)),yt={class:"col-12"},gt={key:3,class:"col-12"},bt=s(()=>e("img",{src:ne,alt:"",srcset:"",style:{width:"100%",height:"50vh","object-fit":"cover","border-radius":"1rem"}},null,-1)),xt=[bt],wt={__name:"permiso-vacaciones",setup(C){const y=J(),l=d({}),u=d(K()),T=d(),b=d("2029-12-21 16:19"),O=d(),D=d(),k=d(),x=d();d();function $(o){var t=new Date(o),i={day:"numeric",month:"long",year:"numeric"};return t.toLocaleDateString("es-ES",i)}P(u,(o,t)=>{console.log(`El valor de usrDni ha cambiado de ${t} a ${o}`)});const H=async o=>{y.setLoading(!0,`Buscando usuario ${o}`),fetch(`${L}/employer/dni/${o}`).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return y.setLoading(!1,`Buscando usuario ${o}`),t.json()}).then(t=>{y.setLoading(!1,`Buscando usuario ${o}`),console.log("Employer data:",t),l.value=t,O.value=""}).catch(t=>{y.setLoading(!1,`Buscando usuario ${o}`),console.error("There has been a problem with your fetch operation:",t),l.value={},O.value="  No hay un usuario para el número de documento "+u.value,T.value="error"})},j=async()=>{fetch(`${L}/server_time`).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{console.log("Employer data:",o),b.value=o}).catch(o=>{console.error("There has been a problem with your fetch operation:",o),T.value="error"})};V(async()=>{j()});const F=async()=>{if(y.setLoading(!0,"solicitando vacaciones"),!l.value.id){console.error("El ID del usuario es necesario para solicitar el permiso.");return}const o=i=>i.toISOString().split("T")[0],t={employer_id:l.value.id,start_date:o(D.value),end_date:o(k.value),observations:x.value||"sin observaciones",tipo:"vacaciones",status:{status:"generado",timestamp:b.value},history:[{status:"generado",timestamp:b.value}]};try{const i=await fetch(`${L}/permission`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok)throw new Error("Error en la solicitud de permiso");const _=await i.json();console.log("Permiso creado exitosamente:",_),te.push("/mis-permisos")}catch(i){console.error("Error al solicitar el permiso:",i)}};function B(o){o||(o="2029-12-21 16:19");const t=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];let[i,_]=o.split(" "),[g,v,w]=i.split("-").map(Number),a=t[v-1];return`${w} de ${a} de ${g}`}function p(o){const t=["cero","un","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],i=["diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve"],_=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];function g(a){let c="",h="cien";if(a[0]>1?(c+=t[a[0]]+"cientos ",h=""):a[0]===1&&(c+=h+" "),a[1]>1)c+=_[a[1]]+" y ";else if(a[1]===1)return c+i[a[2]];return(a[2]!==0||a[0]===0&&a[1]===0)&&(c+=t[a[2]]),c}if(o===0)return t[0];if(o<0)return"menos "+p(-o);let v=[];for(;o>0;)v.push(o%1e3),o=Math.floor(o/1e3);return v.map((a,c)=>{if(a===0)return"";let h=g([Math.floor(a/100),Math.floor(a%100/10),a%10]);return c===1?a===1?"mil":h+" mil":c===2?a===1?"un millón":h+" millones":h}).reverse().join(" ").trim()}console.log(p(16e5)),console.log(p(16e5)),console.log(p(1111111));const U=d(window.innerWidth),q=Q(()=>U.value<600),z=()=>{U.value=window.innerWidth};V(()=>{window.addEventListener("resize",z)}),X(()=>{window.removeEventListener("resize",z)}),document.getElementsByClassName("mi-clase"),P(u,(o,t)=>{console.log(`El valor de usrDni ha cambiado de ${t} a ${o}`)}),V(async()=>{j()}),console.log(p(16e5)),console.log(p(16e5)),console.log(p(1111111));const W=d(q.value);return(o,t)=>{var w,a,c,h,R;const i=I("InputNumber"),_=I("Button"),g=I("Calendar"),v=I("Textarea");return E(),S("div",ie,[ce,e("span",re,[f(i,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=r=>u.value=r),disabled:((w=A(oe)())==null?void 0:w.toLowerCase())!="gerente",class:"mr-5",style:{width:"100%"},placeholder:"Cedula del empleado"},null,8,["modelValue","disabled"]),f(_,{style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"},onClick:t[1]||(t[1]=r=>H(u.value))},{default:M(()=>[de]),_:1})]),u.value==null?(E(),S("p",ue," Por favor digite el numero de decumento del usuario y presione Buscar")):N("",!0),!l.value.dni&&u.value?(E(),S("p",he,n(O.value),1)):N("",!0),l.value.dni&&u.value?(E(),S("div",me,[pe,e("div",_e,[ve,e("h6",fe,n(l.value.name),1)]),e("div",{class:"px-0 grid p-0",style:Y([{display:"","border-radius":"2rem"},((c=(a=l.value)==null?void 0:a.status)==null?void 0:c.toLowerCase().split(" ")[0])=="activo"?"background-color:rgb(193, 255, 100);":"background-color: rgb(255, 132, 132);"])},[ye,e("h6",ge,n(l.value.status),1)],4),e("div",be,[xe,e("h6",we,n(l.value.dni),1)]),e("div",Ee,[Se,e("h6",Ce,n(l.value.entry_date),1)]),e("div",De,[ke,e("h6",Ie,n(l.value.position),1)]),Ne,e("div",Oe,[Ve,e("h6",Ae,n(l.value.contract_type),1)]),e("div",Le,[Te,e("h6",$e,n(A(le)(l.value.salary)),1)]),e("div",je,[e("h6",Be,[e("div",Ue,[m(" DESDE "),f(g,{class:"col p-0",modelValue:D.value,"onUpdate:modelValue":t[2]||(t[2]=r=>D.value=r),required:"true",autofocus:""},null,8,["modelValue"])])]),e("h6",ze,[e("div",null,[m(" HASTA "),f(g,{class:"col p-0",modelValue:k.value,"onUpdate:modelValue":t[3]||(t[3]=r=>k.value=r),required:"true",autofocus:""},null,8,["modelValue"])])]),Re,e("h6",Pe,[f(v,{class:"col-12 text-xl",modelValue:x.value,"onUpdate:modelValue":t[4]||(t[4]=r=>x.value=r),required:"true",autofocus:""},null,8,["modelValue"])])]),e("div",Me,[f(_,{onClick:t[5]||(t[5]=r=>F()),disabled:A(y).loading.visible,style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:M(()=>[He]),_:1},8,["disabled"])])])):N("",!0),Z(e("div",Fe,[e("div",qe,[We,e("h6",Ge,n(B(b.value)),1),Je,Ke,Qe,e("h5",Xe,[e("p",Ye,[Ze,m(),e("span",et,n(B(b.value)),1)]),e("p",tt,[ot,m(),e("span",st,n(l.value.name),1)]),e("p",at,[lt,m(),e("span",nt,n(l.value.position),1)]),e("p",it,[ct,m(),e("span",rt,n(l.value.dni),1)]),e("div",dt,[e("div",ut,[ht,e("div",null,n($(D.value)),1)]),e("div",mt,[pt,e("div",null,n($(k.value)),1)])]),e("div",_t,[e("div",vt,[ft,e("h6",yt,[f(v,{class:"col-12 text-xl",style:{"min-width":"600px","max-width":"600px"},modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=r=>x.value=r),required:"true",autofocus:""},null,8,["modelValue"])])])])])])],512),[[ee,((R=(h=l.value)==null?void 0:h.status)==null?void 0:R.toLowerCase().split(" ")[0])=="activo"&&!W.value]]),l.value.dni?N("",!0):(E(),S("div",gt,xt))])}}},kt=G(wt,[["__scopeId","data-v-57acb8a3"]]);export{kt as default};
