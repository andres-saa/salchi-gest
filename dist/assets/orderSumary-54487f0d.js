import{_ as S,g as v,B as C,h as D,q as L,s as E,D as A,e as w,o as O,c as k,a as o,t as r,u as n,b as d,f as s,U as R,d as l,E as p,p as N,k as $}from"./index-22c9d1ba.js";/* empty css                                                                    */import{f as b}from"./formatoPesos-8aa989a0.js";const x=c=>(N("data-v-8d23ecd0"),c=c(),$(),c),B={class:"col-12 p-0 md:p-2 m-auto",style:{}},I=x(()=>o("p",{class:"text-xl px-0 mx-0 my-3 pb-0",style:{"font-weight":"bold"}}," RESUMEN DE VENTAS",-1)),M={class:"text-l px-0 my-4 text-900 font-bold",style:{"text-transform":"uppercase"}},F=x(()=>o("template",null,null,-1)),U={__name:"orderSumary",setup(c){const y=v(null);function u(m){const _=new Date(m),a={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return new Intl.DateTimeFormat("es-CO",a).format(_)}const t=C(),f=async()=>{t.setLoading(!0,"cargando reporte");const m=t.formatDate(t.dateRange.startDate),_=t.formatDate(t.dateRange.endDate),a=t.selectedSites.map(i=>i.site_id).join(","),h=new URLSearchParams({site_ids:a,start_date:m,end_date:_}),e=`${R}/sales_report_sumary?${h.toString()}`;try{const i=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw t.setLoading(!1,"cargando reporte"),new Error(`HTTP error! status: ${i.status}`);const g=await i.json();t.sumaryData=g,t.setLoading(!1,"cargando reporte")}catch(i){console.error("Fetch error:",i),t.setLoading(!1,"cargando reporte")}};D(async()=>{await f()}),L(()=>{T()});const T=()=>{y.value={global:{value:null,matchMode:E.CONTAINS}}};return A(()=>t.dateRange,async()=>{await f()},{deep:!0}),(m,_)=>{const a=w("Column"),h=w("DataTable");return O(),k("div",B,[I,o("p",M,r(u(n(t).formatDate(n(t).dateRange.startDate)))+" -> "+r(u(n(t).formatDate(n(t).dateRange.endDate))),1),d(h,{loading:n(t).loading.visible,stripedRows:"",showGridLines:"",value:n(t).sumaryData.total_sales,tableStyle:"min-width: 100%  max-width:500px",rows:11,filters:y.value,responsiveLayout:"scroll",scrollable:""},{default:s(()=>[F,d(a,{field:"order_id",header:"SEDE   ",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content"}},r(e.data.site_name),3)]),_:1}),d(a,{field:"order_id",header:"#_BOT",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem;color:var(--green-500)"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"#22c55e5c"}},r(e.data.orders_chatbot),3)]),_:1}),d(a,{field:"order_id",header:"$_BOT",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem;color:var(--green-500)"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"#22c55e5c"}},r(n(p)(e.data.sales_chatbot)||"$ 0"),3)]),_:1}),d(a,{field:"order_id",header:"#_WEB",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem;color:var(--primary-color)"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"#ff620061"}},r(e.data.orders_web),3)]),_:1}),d(a,{field:"order_id",header:"$_WEB",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem;color:var(--primary-color)"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"#ff620061"}},r(n(b)(e.data.sales_web)||"$ 0"),3)]),_:1}),d(a,{field:"order_id",header:"#_C.CENTER",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"var(--blue-100)"}},r(e.data.orders_callcenter),3)]),_:1}),d(a,{field:"order_id",header:"$_C.CENTER",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"var(--blue-100)"}},r(n(b)(e.data.sales_callcenter)),3)]),_:1}),d(a,{field:"order_id",header:"#_TOTAL_ENV",class:"py-0 px-0",headerStyle:"width:3rem;min-width:3rem; min-width:max-content"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"#ffff0042"}},r(e.data.total_orders_sent),3)]),_:1}),d(a,{field:"order_id",header:"$_TOTAL_ENV",class:"py-0 px-0",headerStyle:"width:3rem;min-width:2rem"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"#ffff0042"}},r(n(p)(e.data.total_sales_sent)||"$ 0"),3)]),_:1}),d(a,{field:"order_id",header:"CANC",class:"py-0 px-0",headerStyle:"width:3rem;min-width:3rem"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"var(--red-100)"}},r(e.data.total_orders_cancelled||0),3)]),_:1}),d(a,{field:"order_id",header:"$_CANC",class:"py-0 px-0",headerStyle:"width:12rem;min-width:3rem"},{body:s(e=>[o("p",{class:l(["text",e.data.site_name=="TOTAL"?"bold":""]),style:{"min-width":"max-content","background-color":"var(--red-100)"}},r(n(p)(e.data.total_sales_cancelled)||"$ 0.0"),3)]),_:1})]),_:1},8,["loading","value","filters"])])}}},G=S(U,[["__scopeId","data-v-8d23ecd0"]]);export{G as default};
