import{L as $,z as R,U as d,_ as A,r as a,A as G,i as M,j as q,a as m,o as c,e as H,w as E,u as k,b as t,g as r,m as B,t as F,c as h,f,p as J,h as K}from"./index-f4486754.js";$();const i=n=>(J("data-v-47465cd6"),n=n(),K(),n),O={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},W=i(()=>t("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),X=i(()=>t("br",null,null,-1)),Y={class:"text-center",style:{width:"auto","font-size":"3rem"}},Z={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},ee=i(()=>t("br",null,null,-1)),oe=i(()=>t("b",null,[t("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Listo")],-1)),te={class:"container mt-0 col-12 p-0",style:{"max-width":"",margin:"auto"}},le={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},se={class:"input"},ae=i(()=>t("h5",{class:"field"},"Medio",-1)),re={class:"input"},ne=i(()=>t("h5",{class:"field"},"Categoria",-1)),ie={key:0,class:"input"},ue=i(()=>t("h5",{class:"field"},"Sede",-1)),de={key:1,class:"input"},ce=i(()=>t("h5",{class:"field"},[B("ID de la orden ejemplo "),t("b",null,"BRE-0554")],-1)),ve={key:2,class:"input"},pe=i(()=>t("h5",{class:"field"},"Comentarios",-1)),_e={key:3,class:"input"},me=i(()=>t("h5",{class:"field"},"Nombre",-1)),he={key:4,class:"input"},fe=i(()=>t("h5",{class:"field"},"Número de teléfono",-1)),ye={key:5,class:"input"},be=i(()=>t("h5",{class:"field"},"Dirección (opcional)",-1)),we={class:"input",style:{display:"flex","justify-content":"end"}},ge={__name:"pqrUser",setup(n){const l=$(),v=a(!0),N=a(),y=a(!1);a([]);const b=a(!1),s=a(),p=a(),L=a([]),C=a([]),Q=a(""),w=a(""),g=a(""),P=a(""),S=a("");a(null);const D=a([]),V=a();G(()=>l.visible_add_pqr,x=>{x&&(s.value=null,S.value="Sin comentarios",p.value=null,V.value=null,w.value="",g.value="",P.value="")});const j=async()=>{var e,_;if(!s.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(s.value==9&&!Q.value){alert("Por favor, ingrese el ID de la orden.");return}if(s.value!=8&&!S.value){alert("Por favor, Cuentenos lo sucedido");return}if(s.value!=8&&(!w.value||!g.value)){alert("Por favor, complete los campos obligatorios (nombre y teléfono).");return}if(!V.value){alert("Por favor, Seleccione la red");return}if(!p.value){alert("Por favor, Seleccione la sede");return}const x={data:{reques_type_id:s.value,content:S.value||"Sin comentarios",channel_id:2,rating:null,site_id:p.value||null,network_id:V.value||null},user:{user_name:w.value||"",user_phone:((e=g.value)==null?void 0:e.toString())||"",user_address:P.value||"",site_id:p.value||null}};try{const u=await q.post(`${d}/create-pqr`,x);N.value=(_=u==null?void 0:u.pqr_id[0])==null?void 0:_.id,s.value==8?b.value=!0:y.value=!0,v.value=!1}catch{}};return M(async()=>{C.value=await q.get(`${d}/get-all-pqrs-types`),L.value=await q.get(`${d}/sites`),D.value=await q.get(`${d}/get-all-networks`),s.value=8}),(x,e)=>{const _=m("Button"),u=m("Dialog"),U=m("Dropdown"),I=m("InputText"),T=m("Textarea"),z=m("InputNumber");return c(),H(u,{visible:k(l).visible_add_pqr,"onUpdate:visible":e[12]||(e[12]=o=>k(l).visible_add_pqr=o),style:{width:"50rem"},modal:"",class:"mx-2",header:"INGRESAR PQR"},{footer:E(()=>[t("div",we,[r(_,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:j})])]),default:E(()=>[r(u,{closable:!1,class:"mx-4",visible:y.value,"onUpdate:visible":e[1]||(e[1]=o=>y.value=o),modal:"",style:{width:"30rem","background-color":"white"}},{default:E(()=>[t("div",O,[W,B(),X,t("b",null,[t("p",Y,F(N.value),1)]),r(_,{onClick:e[0]||(e[0]=()=>{k(l).visible_add_pqr=!1,b.value=!1,y.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),r(u,{class:"mx-4",visible:b.value,"onUpdate:visible":e[3]||(e[3]=o=>b.value=o),modal:"",style:{width:"30rem","background-color":"white"}},{default:E(()=>[t("div",Z,[ee,oe,r(_,{onClick:e[2]||(e[2]=()=>{k(l).visible_add_pqr=!1,b.value=!1,y.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),t("div",te,[t("div",le,[t("div",se,[ae,r(U,{modelValue:V.value,"onUpdate:modelValue":e[4]||(e[4]=o=>V.value=o),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:D.value,optionLabel:"name"},null,8,["modelValue","options"])]),t("div",re,[ne,r(U,{modelValue:s.value,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value=o),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:C.value.filter(o=>o.id!=8),optionLabel:"name"},null,8,["modelValue","options"])]),s.value?(c(),h("div",ie,[ue,r(U,{options:L.value.filter(o=>o.show_on_web),modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=o=>p.value=o),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):f("",!0),s.value&&s.value==9?(c(),h("div",de,[ce,r(I,{modelValue:Q.value,"onUpdate:modelValue":e[7]||(e[7]=o=>Q.value=o),style:{width:"100%"},placeholder:"Escriba el número de la orden"},null,8,["modelValue"])])):f("",!0),s.value?(c(),h("div",ve,[pe,r(T,{modelValue:S.value,"onUpdate:modelValue":e[8]||(e[8]=o=>S.value=o),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):f("",!0),s.value&&s.value!=8?(c(),h("div",_e,[me,r(I,{modelValue:w.value,"onUpdate:modelValue":e[9]||(e[9]=o=>w.value=o),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):f("",!0),s.value&&s.value!=8?(c(),h("div",he,[fe,r(z,{useGrouping:!1,modelValue:g.value,"onUpdate:modelValue":e[10]||(e[10]=o=>g.value=o),style:{width:"100%"},placeholder:"Escriba su número de teléfono"},null,8,["modelValue"])])):f("",!0),s.value&&s.value!=8?(c(),h("div",ye,[be,r(I,{modelValue:P.value,"onUpdate:modelValue":e[11]||(e[11]=o=>P.value=o),style:{width:"100%"},placeholder:"Escriba su dirección"},null,8,["modelValue"])])):f("",!0)])])]),_:1},8,["visible"])}}},Ve=A(ge,[["__scopeId","data-v-47465cd6"]]);export{Ve as default};
