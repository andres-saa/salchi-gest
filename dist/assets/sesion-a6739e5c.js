import{p as w}from"./ProductService-c90906ec.js";import{f as k}from"./formatoPesos-2a38d2e7.js";import{u as S}from"./productStore-9b2d6ce5.js";import{_ as $,m as P,r as f,o as c,c as d,a as e,d as l,l as m,t as u,u as j,h as v,i as C,k as x,F as B,b as E,q as b}from"./index-adcf7657.js";import{u as T}from"./site-b7ca9795.js";import"./axios-4d564c32.js";const V={class:"container p-shadow col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},I={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.5rem"}},M={class:"imagen"},D=["src"],F={class:"texto",style:{}},L={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},N={style:{display:"flex","justify-content":"space-between","align-items":"center"}},q={style:{"text-transform":"uppercase"}},O={style:{display:"flex","justify-content":"space-between","align-items":"c"}},R={style:{display:"flex","align-items":"center",gap:"1rem"}},U={class:"text-xl"},z={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(g){const i=S(),s=g,p=o=>{i.visibles.dialogEditProduct=!0,i.currentProductToEdit=o},_=async o=>{try{const t=await w.updateProductInstanceStatus(s.product.id,o);t&&console.log("Status updated:",t)}catch(t){console.error("Failed to update status:",t)}},r=P(()=>s.product.product_description.substring(0,100)+"...");return(o,t)=>{var h;const n=f("Button"),y=f("InputSwitch");return c(),d("div",V,[e("div",I,[l(n,{onClick:t[0]||(t[0]=a=>m(i).visibles.dialogEditProduct=!0),severity:"danger",style:{right:"0",top:"0"},rounded:"",icon:"pi pi-times"}),l(n,{onClick:t[1]||(t[1]=a=>p(s.product)),severity:"warning",style:{"font-weight":"bold",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),e("div",M,[e("img",{class:"",style:{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`https://backend.salchimonster.com/read-product-image/300/${s.product.product_name}`,alt:"",onClick:t[2]||(t[2]=a=>o.open(s.product))},null,8,D)]),e("div",F,[e("div",L,[e("div",N,[e("span",null,[e("b",q,u(s.product.product_name),1)]),l(n,{text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),e("span",null,u((h=r.value)==null?void 0:h.toLocaleLowerCase()),1),e("div",O,[l(y,{modelValue:s.product.status,"onUpdate:modelValue":[t[3]||(t[3]=a=>s.product.status=a),t[4]||(t[4]=a=>_(s.product.status))]},null,8,["modelValue"]),e("div",R,[e("span",U,[e("b",null,u(m(k)(s.product.price)),1)])])])])])])}}},A=$(z,[["__scopeId","data-v-ccd25086"]]),G={key:0,class:"grid p-1 pb-8",style:{"max-width":"1024px",margin:"auto"}},H={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},J=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),K={class:"text-3xl",style:{"min-width":"max-content"}},Q=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),W={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8"},ot={__name:"sesion",setup(g){const i=T(),s=j(),p=v([]),_=v(!1);C(async()=>{r()});const r=async()=>{let o=s.params.category_id,t=i.site.site_id;if(!o||!t){_.value=!0;return}p.value=await w.getProductsByCategorySite(o,t)};return x(()=>s.params.category_id,async()=>{s.params.category_id&&(r(),await b())},{deep:!0}),x(()=>i.site,async()=>{i.site&&(r(),await b())},{deep:!0}),(o,t)=>_.value?(c(),d("p",W," Selecciona una sede y una categoria. ")):(c(),d("div",G,[e("p",H,[J,e("span",K,u(m(s).params.menu_name)+" DE "+u(m(i).site.site_name),1),Q]),(c(!0),d(B,null,E(p.value,(n,y)=>(c(),d("div",{key:n.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[l(A,{style:{width:"100%"},id:`tarjeta-${y}`,product:n},null,8,["id","product"])]))),128))]))}};export{ot as default};
