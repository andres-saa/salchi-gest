import{a as O,u as T}from"./site-4b599247.js";import{_ as E,g as V,H as D,h as M,O as L,e as N,o as l,c as u,a as t,t as b,b as $,u as g,P as Y,p as j,k as z,F as w,r as I}from"./index-a97ea6dc.js";import{f as F}from"./formatoPesos-374ef498.js";/* empty css                                                               */import{u as R}from"./ventas-9f09b372.js";const H=p=>(j("data-v-f464a39e"),p=p(),z(),p),U={class:"imagen"},q=["data-src"],A={class:"texto"},G={class:"texto-content"},J=H(()=>t("div",{class:"flex-row-center-space-between"},null,-1)),K={class:"max-width-100"},Q={class:"flex-row-center-space-between"},W={class:"flex-center-gap"},X={class:"text-xl p-0 m-0 precio"},Z={__name:"MenuCard",props:{product:{type:Object,default:{}},index:{type:Number,default:12}},setup(p){const m=O(),c=V(null),a=e=>{m.addProductToCart(e)},f=e=>{m.setCurrentProduct(e),m.setVisible("currentProduct",!0)},i=p,x=D(()=>{var o;const e=((o=i.product)==null?void 0:o.productogeneral_descripcionweb)||"";return e.length>100?e.substring(0,100)+"...":e||"..."});let r=null;const _=e=>{const o=e.dataset.src;o&&(e.src=o,e.classList.remove("lazy"),e.classList.add("cargado"))};return M(()=>{"IntersectionObserver"in window?(r=new IntersectionObserver((e,o)=>{e.forEach(n=>{n.isIntersecting&&(_(n.target),o.unobserve(n.target))})},{rootMargin:"0px 0px 50px 0px",threshold:.01}),c.value&&r.observe(c.value)):c.value&&_(c.value)}),L(()=>{r&&c.value&&r.unobserve(c.value)}),(e,o)=>{const n=N("Button");return l(),u("div",{class:"container shadow-3 col-12 product-card",onClick:o[1]||(o[1]=h=>f(i.product))},[t("div",U,[t("img",{ref_key:"productImage",ref:c,class:"imagen-producto lazy","data-src":`https://img.restpe.com/${i.product.productogeneral_urlimagen}`,src:"https://www.salchimonster.com/images/characters/line/1.png",alt:"Descripción del producto"},null,8,q)]),t("div",A,[t("h5",null,[t("b",null,b(i.product.productogeneral_descripcion),1)]),t("div",G,[J,t("span",K,b(x.value),1),t("div",Q,[$(n,{icon:"pi pi-heart text-xl p-0 m-0",text:"",rounded:"",class:"heart-button"}),t("div",W,[t("h5",X,[t("b",null,b(g(F)(i.product.productogeneral_precio||i.product.lista_presentacion[0].producto_precio)),1)])])])])]),$(n,{class:"add-to-cart-button",onClick:o[0]||(o[0]=Y(h=>a(i.product),["stop"])),severity:"danger",rounded:"",icon:"pi pi-plus text-xl fw-100"})])}}},ee=E(Z,[["__scopeId","data-v-f464a39e"]]),te={class:"container"},oe=["id"],se={class:"category-header"},re={class:"category-name"},ne=["onClick","src"],ce={class:"section"},ae={class:"card-container"},ie={__name:"sesion",setup(p){const m=T(),c=R(),a=O(),f=[10,26,8,9,13,27,11,4,5],i=r=>{a.setCurrentProduct(r),a.setVisible("currentProduct",!0)},x=r=>{const _=document.getElementById(r);if(_){const n=_.getBoundingClientRect().top+window.pageYOffset-160;window.scrollTo({top:n,behavior:"smooth"})}c.currentSection=r,setTimeout(()=>{const e=document.getElementById(`categoryButton-${r}`);e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},1e3)};return M(()=>{a.currentSection&&x(a.currentSection)}),(r,_)=>{var e,o,n,h;return l(),u("div",te,[(l(!0),u(w,null,I((h=(n=(o=(e=g(a))==null?void 0:e.menu)==null?void 0:o.listaCategorias)==null?void 0:n.filter(d=>g(m).categories.includes(parseInt(d.categoria_id))))==null?void 0:h.sort((d,y)=>f.indexOf(parseInt(d.categoria_id))-f.indexOf(parseInt(y.categoria_id))),(d,y)=>{var C,k,S,B,P;return l(),u("div",{id:d.categoria_id,class:"container-button",key:d.categoria_id},[t("div",se,[t("span",re,[t("b",null,b(d.categoria_descripcion),1)]),(l(!0),u(w,null,I((k=(C=g(a))==null?void 0:C.menu)==null?void 0:k.data.filter(s=>s.categoria_id===d.categoria_id).map(s=>({imagen:s.productogeneral_urlimagen,producto:s})).slice(0,4),(s,v)=>(l(),u("img",{onClick:de=>i(s.producto),key:v,class:"category-img",src:`https://img.restpe.com/${s.imagen}`,alt:"Imagen de categoría"},null,8,ne))),128))]),t("div",ce,[(l(!0),u(w,null,I((P=(B=(S=g(a))==null?void 0:S.menu)==null?void 0:B.data)==null?void 0:P.filter(s=>s.categoria_id==d.categoria_id),(s,v)=>(l(),u("div",{key:s.id,class:"",style:{width:"100%"}},[t("div",ae,[$(ee,{style:{height:"100%"},id:`tarjeta-${v}`,index:v+1,product:s},null,8,["id","index","product"])])]))),128))])],8,oe)}),128))])}}},ge=E(ie,[["__scopeId","data-v-ae4bdba4"]]);export{ge as default};
