import{p as k}from"./ProductService-ac9aa18f.js";import{f as $}from"./formatoPesos-2a38d2e7.js";import{u as S}from"./productStore-dfd2c31b.js";import{_ as j,v as P,a as f,o as a,c as r,d as e,f as l,s as m,t as u,u as C,r as x,l as T,q as v,j as B,F as b,e as E,x as w}from"./index-e35d9410.js";import{u as V}from"./site-7524ccf2.js";const I={class:"container p-shadow col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},M={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.5rem"}},D={class:"imagen"},F=["src"],L={class:"texto",style:{}},N={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},q={style:{display:"flex","justify-content":"space-between","align-items":"center"}},O={style:{"text-transform":"uppercase"}},R={style:{display:"flex","justify-content":"space-between","align-items":"c"}},U={style:{display:"flex","align-items":"center",gap:"1rem"}},z={class:"text-xl"},A={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(g){const n=S(),s=g,p=o=>{n.visibles.dialogEditProduct=!0,n.currentProductToEdit=o},_=async o=>{try{const t=await k.updateProductInstanceStatus(s.product.id,o);t&&console.log("Status updated:",t)}catch(t){console.error("Failed to update status:",t)}},c=P(()=>s.product.product_description.substring(0,100)+"...");return(o,t)=>{var h;const i=f("Button"),y=f("InputSwitch");return a(),r("div",I,[e("div",M,[l(i,{onClick:t[0]||(t[0]=d=>m(n).visibles.dialogEditProduct=!0),severity:"danger",style:{right:"0",top:"0"},rounded:"",icon:"pi pi-times"}),l(i,{onClick:t[1]||(t[1]=d=>p(s.product)),severity:"warning",style:{"font-weight":"bold",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),e("div",D,[e("img",{class:"",style:{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`https://backend.salchimonster.com/read-product-image/300/${s.product.product_name}`,alt:"",onClick:t[2]||(t[2]=d=>o.open(s.product))},null,8,F)]),e("div",L,[e("div",N,[e("div",q,[e("span",null,[e("b",O,u(s.product.product_name),1)]),l(i,{text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),e("span",null,u((h=c.value)==null?void 0:h.toLocaleLowerCase()),1),e("div",R,[l(y,{modelValue:s.product.status,"onUpdate:modelValue":[t[3]||(t[3]=d=>s.product.status=d),t[4]||(t[4]=d=>_(s.product.status))]},null,8,["modelValue"]),e("div",U,[e("span",z,[e("b",null,u(m($)(s.product.price)),1)])])])])])])}}},G=j(A,[["__scopeId","data-v-ccd25086"]]),H={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},J=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),K={class:"text-3xl",style:{width:"min-content"}},Q={style:{"min-width":"max-content"}},W=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),X={key:0,class:"grid p-1 pb-8",style:{"max-width":"1024px",margin:"auto"}},Y={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8 p-0"},nt={__name:"sesion",setup(g){const n=V(),s=C(),p=x([]),_=x(!1);T(async()=>{c()});const c=async()=>{let o=s.params.category_id,t=n.site.site_id;if(!o||!t){_.value=!0;return}p.value=await k.getProductsByCategorySite(o,t)};return v(()=>s.params.category_id,async()=>{s.params.category_id&&(c(),await w())},{deep:!0}),v(()=>n.site,async()=>{n.site&&(c(),await w())},{deep:!0}),(o,t)=>(a(),r(b,null,[e("p",H,[J,e("span",K,[e("p",Q,u(m(s).params.menu_name)+" DE",1),B(" "+u(m(n).site.site_name),1)]),W]),_.value?(a(),r("p",Y," Selecciona una sede y una categoria. ")):(a(),r("div",X,[(a(!0),r(b,null,E(p.value,(i,y)=>(a(),r("div",{key:i.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[l(G,{style:{width:"100%"},id:`tarjeta-${y}`,product:i},null,8,["id","product"])]))),128))]))],64))}};export{nt as default};
