import{_ as W}from"./dailyMan-302b173d.js";import{d as _}from"./dailyInventoryService-cdb78cf6.js";import{p as x}from"./purchaseOrderService-092fa50b.js";import{_ as X,r as o,k as Y,i as Z,j as B,a as r,o as f,c as w,d as l,w as n,b as t,F as A,e as ee,H as se,u as le,y as G,q as T,t as k,n as te,f as ae,p as ie,g as ne}from"./index-e2d818a4.js";import"./FileSaver.min-af960175.js";import"./index-558f534d.js";/* empty css                                                                              */import"./sass.default-a1d89e71.js";import"./_commonjsHelpers-23102255.js";const $=b=>(ie("data-v-ced650ef"),b=b(),ne(),b),oe={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},re=$(()=>t("span",null,"Nombre del grupo",-1)),de={style:{display:"flex","justify-content":"end"}},ue={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},pe=$(()=>t("span",null,"Nombre de la unidad de medida",-1)),ve={style:{display:"flex","justify-content":"end"}},ce=$(()=>t("div",{style:{display:"flex","justify-content":"center","align-items":"center"}}," UNIDADES DE MEDIDA ",-1)),me={style:{display:"flex","justify-content":"end"}},ye={class:"col-12 p-0",style:{display:"flex","justify-content":"end"}},fe={style:{display:"flex","justify-content":"end"}},be={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},ge={style:{display:"flex","justify-content":"end"}},he={class:"",style:{display:"flex","flex-direction":"column",gap:"1rem"}},_e={style:{display:"flex","justify-content":"end"}},xe={style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},we={class:"nav-bar p-2",style:{width:"100%","max-width":"1024px"}},ke={class:"p-2",style:{display:"flex",gap:"1rem","flex-wrap":"wrap"}},De={class:"p-0",style:{display:"flex",gap:"1rem"}},Ce={class:"p-0",style:{display:"flex",gap:"1rem"}},Ie={key:0,style:{height:"60vh","object-fit":"contain"},src:W,alt:""},Ue={__name:"purchaseOrderSettings",setup(b){const u=o([]),N=Y(),p=o(!1),g=o(!1),v=o(!1),D=o({}),C=o({}),I=o([]),c=o(!1),m=o(!1),U=o({}),h=async()=>{u.value=await x.getpurchaseOrderGroups(),I.value=await _.getAllDailyInventoryUnitMeasures()},O=a=>{D.value=a,v.value=!0},z=a=>{C.value=a,m.value=!0},F=async a=>{await x.disablePurchaseGroupItems(a),v.value=!1,h()},L=async a=>{await _.disableUnitMeasureInventory(a),m.value=!1,h()},d=o(!1),M=o({name:null}),P=(a,s)=>{B.push({name:"purchase-order-settings-sesion",params:{sesion:a,id:s}})},R=async a=>{await x.InsertDailyGrupPurchaseOrder(a),p.value=!1,h()},q=async a=>{await _.InsertDailyUnitMeasure(a),c.value=!1,h()},S=a=>N.params.sesion==a;return Z(async()=>{u.value=await x.getpurchaseOrderGroups(),I.value=await _.getAllDailyInventoryUnitMeasures(),B.push(`/purchase-order/recorrido/purchase-order-settings/${u.value[0].name}/${u.value[0].id}/`)}),(a,s)=>{const E=r("InputText"),i=r("Button"),y=r("Dialog"),V=r("Column"),H=r("column"),J=r("DataTable"),K=r("router-view");return f(),w(A,null,[l(y,{class:"mx-2",header:"Nuevo grupo de items",style:{width:"30rem"},modal:"",visible:p.value,"onUpdate:visible":s[3]||(s[3]=e=>p.value=e)},{footer:n(()=>[t("div",de,[l(i,{onClick:s[1]||(s[1]=e=>p.value=!1),severity:"danger",label:"Cerrar"}),l(i,{onClick:s[2]||(s[2]=e=>R(M.value)),severity:"help",label:"Guardar"})])]),default:n(()=>[t("div",oe,[re,l(E,{modelValue:M.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>M.value.name=e)},null,8,["modelValue"])])]),_:1},8,["visible"]),l(y,{class:"mx-2",header:"Nueva unidad de medida",style:{width:"30rem"},modal:"",visible:c.value,"onUpdate:visible":s[7]||(s[7]=e=>c.value=e)},{footer:n(()=>[t("div",ve,[l(i,{onClick:s[5]||(s[5]=e=>c.value=!1),severity:"danger",label:"Cerrar"}),l(i,{onClick:s[6]||(s[6]=e=>q(U.value)),severity:"help",label:"Guardar"})])]),default:n(()=>[t("div",ue,[pe,l(E,{modelValue:U.value.name,"onUpdate:modelValue":s[4]||(s[4]=e=>U.value.name=e)},null,8,["modelValue"])])]),_:1},8,["visible"]),l(y,{closable:!1,class:"mx-2",header:"UNIDADES DE MEDIDA",style:{width:"40rem"},modal:"",visible:g.value,"onUpdate:visible":s[11]||(s[11]=e=>g.value=e)},{footer:n(()=>[t("div",fe,[l(i,{onClick:s[10]||(s[10]=e=>g.value=!1),severity:"danger",label:"Cerrar"})])]),default:n(()=>[l(J,{style:{"max-width":"1000px","border-radius":"0.5rem","min-height":"min-content"},filters:a.filters,"onUpdate:filters":s[9]||(s[9]=e=>a.filters=e),class:"col-12 p-0",value:I.value,tableStyle:""},{header:n(()=>[ce]),footer:n(()=>[t("div",ye,[l(i,{onClick:s[8]||(s[8]=e=>c.value=!0),class:"p-0",severity:"help",style:{"border-radius":"0.5rem",height:"2rem",padding:"0.3rem 0"},icon:"pi pi-plus"})])]),default:n(()=>[l(V,{style:{width:"10%"},class:"py-1 px-0",field:"id",header:"Id"},{body:n(e=>[T(k(e.data.id),1)]),_:1}),l(V,{style:{width:"10%"},class:"py-1 px-0",field:"id",header:"Nombre"},{body:n(e=>[T(k(e.data.name),1)]),_:1}),l(H,{style:{width:"10%",height:"2rem"},class:"py-1 px-0"},{body:n(e=>[t("div",me,[l(i,{onClick:j=>z(e.data),severity:"danger",style:{height:"2rem"},class:"p-0 nav-bar-- m-0 shadow-2",icon:"pi pi-trash"},null,8,["onClick"])])]),_:1})]),_:1},8,["filters","value"])]),_:1},8,["visible"]),l(y,{class:"mx-2",header:"Borrar grupo",style:{width:"30rem"},modal:"",visible:v.value,"onUpdate:visible":s[14]||(s[14]=e=>v.value=e)},{footer:n(()=>[t("div",ge,[l(i,{onClick:s[12]||(s[12]=e=>v.value=!1),severity:"help",label:"No"}),l(i,{onClick:s[13]||(s[13]=e=>F(D.value.id)),severity:"danger",label:"Borrar"})])]),default:n(()=>{var e;return[t("div",be,[t("span",null,"Esta seguro de eliminar el grupo "+k((e=D.value)==null?void 0:e.name)+" ?",1)])]}),_:1},8,["visible"]),l(y,{class:"mx-2",header:"Borrar grupo",style:{width:"30rem"},modal:"",visible:m.value,"onUpdate:visible":s[17]||(s[17]=e=>m.value=e)},{footer:n(()=>[t("div",_e,[l(i,{onClick:s[15]||(s[15]=e=>m.value=!1),severity:"help",label:"No"}),l(i,{onClick:s[16]||(s[16]=e=>L(C.value.id)),severity:"danger",label:"Borrar"})])]),default:n(()=>{var e;return[t("div",he,[t("span",null,"Esta seguro de eliminar La unidad de medida "+k((e=C.value)==null?void 0:e.name)+" ?",1)])]}),_:1},8,["visible"]),t("div",xe,[t("nav",we,[t("ul",ke,[(f(!0),w(A,null,ee(u.value,(e,j)=>(f(),w("li",{style:{position:"relative",display:"flex","justify-content":"center","align-items":"center","flex-basis":"200"},class:"p-0",key:j},[l(i,{onClick:Q=>P(e.name,e.id),disabled:d.value,class:te([S(e.name)?"selected":"","nav-bar--button shadow-2"]),label:e.name},null,8,["onClick","disabled","class","label"]),d.value&&!S(e.name)?(f(),ae(i,{key:0,onClick:Q=>O(e),size:"small",class:"m-0 shadow-2",severity:"danger",icon:"pi pi-times ",style:{position:"absolute",width:"1rem",height:"1rem",left:"-.5rem",padding:"0.7rem","border-radius":"50%"}},null,8,["onClick"])):G("",!0)]))),128)),t("li",De,[l(i,{label:"ITEM",class:"nav-bar--button-black m-0 shadow-2",onClick:s[18]||(s[18]=e=>p.value=!0),icon:"pi pi-plus"})]),t("li",Ce,[l(i,{style:{height:"2rem"},label:"UNIDADES DE MEDIDA",severity:"warning",class:"nav-bar--button-primary m-0 shadow-2",onClick:s[19]||(s[19]=e=>g.value=!0),icon:"pi pi-plus"}),l(i,{onClick:s[20]||(s[20]=e=>d.value=!d.value),style:se(d.value?"background-color: #22c55e;":"background-color: red;"),class:"nav-bar--button-black m-0 shadow-2",icon:d.value?"pi pi-check":"pi pi-trash"},null,8,["style","icon"])])])]),le(N).path=="/daily-inventory/daily-inventory-settings/"?(f(),w("img",Ie)):G("",!0)]),l(K)],64)}}},Ge=X(Ue,[["__scopeId","data-v-ced650ef"]]);export{Ge as default};
