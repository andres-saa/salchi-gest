import"./pqrsService-935ee35d.js";import{_ as W,h as s,B as X,D as Y,i as Z,j as _,U as f,g as c,o as u,d as ee,e as h,u as P,a as t,f as a,q as N,t as R,c as d,n as F,k as r,p as le,m as te}from"./index-23e26b6d.js";/* empty css                                                                */const i=U=>(le("data-v-dbe41bf5"),U=U(),te(),U),oe={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},se=i(()=>t("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),ae=i(()=>t("br",null,null,-1)),ie={class:"text-center",style:{width:"auto","font-size":"3rem"}},ne={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},ue=i(()=>t("br",null,null,-1)),de=i(()=>t("b",null,[t("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Listo")],-1)),re={class:"container mt-0 col-12 p-0",style:{"max-width":"",margin:"auto"}},ce={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},ve={class:"input"},pe=i(()=>t("h5",{class:"field"},"Medio",-1)),me={class:"input"},_e=i(()=>t("h5",{class:"field"},"Restaurante",-1)),fe={class:"input"},he=i(()=>t("h5",{class:"field"},"Categoria",-1)),ye={key:0,class:"input"},be=i(()=>t("h5",{class:"field"},"Por favor clasifica tu inconveniente",-1)),ge={style:{display:"flex","align-items":"center",gap:"1rem"}},we={class:"p-0 m-0"},Ve={style:{display:"flex","align-items":"center",gap:"1rem"}},xe={class:"p-0 m-0"},ke={key:1,class:"input"},Ue=i(()=>t("h5",{class:"field"},"Sede",-1)),Se={key:2,class:"input"},qe=i(()=>t("h5",{class:"field"},[N("ID de la orden ejemplo "),t("b",null,"BRE-0554")],-1)),Ie={key:3,class:"input"},Ce=i(()=>t("h5",{class:"field"},"Comentarios",-1)),De={key:4,class:"input"},Ee=i(()=>t("h5",{class:"field"},"Nombre",-1)),Pe={key:5,class:"input"},Ne=i(()=>t("h5",{class:"field"},"Número de teléfono",-1)),Be={key:6,class:"input"},Re=i(()=>t("h5",{class:"field"},"Dirección (opcional)",-1)),Te={key:7,class:"input"},$e=i(()=>t("h5",{class:"field"},"Correo Electronico",-1)),Le={class:"input",style:{display:"flex","justify-content":"end"}},je={__name:"pqrUser",emits:["inFocus","reload"],setup(U,{emit:H}){const T=H,B=s({}),$=s([{}]),S=s({}),y=X();s();const Q=s(!0),L=s(),b=s(!1);s([]);const g=s(!1),o=s(),v=s(),j=s([]),z=s([]),q=s(""),w=s(""),V=s(""),I=s(""),C=s(""),x=s("");s(null);const G=s([]),k=s();Y(()=>y.visible_add_pqr,D=>{D&&(o.value=null,x.value="Sin comentarios",v.value=null,k.value=null,w.value="",V.value="",I.value="")});const J=async()=>{var l,p,m;if(!o.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(o.value==9&&!q.value){alert("Por favor, ingrese el ID de la orden.");return}if(o.value!=8&&!S.value){alert("Por favor, Clasifica tu inconveniente");return}if(o.value!=8&&!x.value){alert("Por favor, Cuentenos lo sucedido");return}if(!C.value){alert("Por favor, Ingrese su email");return}if(o.value!=8&&(!w.value||!V.value)){alert("Por favor, complete los campos obligatorios (nombre y teléfono).");return}if(!k.value){alert("Por favor, Seleccione la red");return}if(!v.value){alert("Por favor, Seleccione la sede");return}const D={data:{reques_type_id:o.value,content:x.value||"Sin comentarios",channel_id:2,rating:0,site_id:v.value||null,network_id:k.value||null,order_id:q.value||null,tag_id:((l=S.value)==null?void 0:l.id)||7,restaurant_id:B.value},user:{user_name:w.value||"",user_phone:((p=V.value)==null?void 0:p.toString())||"",user_address:I.value||"",site_id:v.value||null,email:C.value||""}};try{const n=await _.post(`${f}/create-pqr`,D);L.value=(m=n==null?void 0:n.pqr_id[0])==null?void 0:m.id,o.value==8?(g.value=!0,T("reload")):b.value=!0,Q.value=!1}catch{}T("reload")},A=s([]);return Z(async()=>{z.value=await _.get(`${f}/get-all-pqrs-types`),j.value=await _.get(`${f}/sites`),G.value=await _.get(`${f}/get-all-networks`),$.value=await _.get(`${f}/get-all-pqr-tags`),A.value=await _.get(`${f}/restaurants`),o.value=8}),(D,l)=>{const p=c("Button"),m=c("Dialog"),n=c("Dropdown"),M=c("Tag"),E=c("InputText"),K=c("Textarea"),O=c("InputNumber");return u(),ee(m,{visible:P(y).visible_add_pqr,"onUpdate:visible":l[15]||(l[15]=e=>P(y).visible_add_pqr=e),style:{width:"50rem"},modal:"",class:"mx-2",header:"INGRESAR PQR"},{footer:h(()=>[t("div",Le,[a(p,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:J})])]),default:h(()=>[a(m,{closable:!1,class:"mx-4",visible:b.value,"onUpdate:visible":l[1]||(l[1]=e=>b.value=e),modal:"",style:{width:"30rem","background-color":"white"}},{default:h(()=>[t("div",oe,[se,N(),ae,t("b",null,[t("p",ie,R(L.value),1)]),a(p,{onClick:l[0]||(l[0]=()=>{P(y).visible_add_pqr=!1,g.value=!1,b.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),a(m,{class:"mx-4",visible:g.value,"onUpdate:visible":l[3]||(l[3]=e=>g.value=e),modal:"",style:{width:"30rem","background-color":"white"}},{default:h(()=>[t("div",ne,[ue,de,a(p,{onClick:l[2]||(l[2]=()=>{P(y).visible_add_pqr=!1,g.value=!1,b.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),t("div",re,[t("div",ce,[t("div",ve,[pe,a(n,{modelValue:k.value,"onUpdate:modelValue":l[4]||(l[4]=e=>k.value=e),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:G.value.filter(e=>![4,5].includes(e.id)),optionLabel:"name"},null,8,["modelValue","options"])]),t("div",me,[_e,a(n,{modelValue:B.value,"onUpdate:modelValue":l[5]||(l[5]=e=>B.value=e),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:A.value,optionLabel:"name"},null,8,["modelValue","options"])]),t("div",fe,[he,a(n,{modelValue:o.value,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value=e),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:z.value.filter(e=>e.id!=8),optionLabel:"name"},null,8,["modelValue","options"])]),o.value&&o.value!=8&&o.value!=11?(u(),d("div",ye,[be,a(n,{options:$.value,modelValue:S.value,"onUpdate:modelValue":l[7]||(l[7]=e=>S.value=e),style:{width:"100%"}},{option:h(e=>[t("div",ge,[a(M,{style:F([`background-color:${e.option.color}`,{height:"1.5rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),N(),t("h6",we,R(e.option.name),1)])]),value:h(e=>[t("div",Ve,[a(M,{style:F([`background-color:${e.value.color}`,{height:"1.5rem","aspect-ratio":"1 / 1","border-radius":"50%"}])},null,8,["style"]),N(),t("h6",xe,R(e.value.name),1)])]),_:1},8,["options","modelValue"])])):r("",!0),o.value?(u(),d("div",ke,[Ue,a(n,{options:j.value.filter(e=>e.show_on_web||e.site_id==17||e.site_id==18),modelValue:v.value,"onUpdate:modelValue":l[8]||(l[8]=e=>v.value=e),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):r("",!0),o.value&&o.value==9?(u(),d("div",Se,[qe,a(E,{modelValue:q.value,"onUpdate:modelValue":l[9]||(l[9]=e=>q.value=e),style:{width:"100%"},placeholder:"Escriba el número de la orden"},null,8,["modelValue"])])):r("",!0),o.value?(u(),d("div",Ie,[Ce,a(K,{modelValue:x.value,"onUpdate:modelValue":l[10]||(l[10]=e=>x.value=e),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):r("",!0),o.value&&o.value!=8?(u(),d("div",De,[Ee,a(E,{modelValue:w.value,"onUpdate:modelValue":l[11]||(l[11]=e=>w.value=e),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):r("",!0),o.value&&o.value!=8?(u(),d("div",Pe,[Ne,a(O,{useGrouping:!1,modelValue:V.value,"onUpdate:modelValue":l[12]||(l[12]=e=>V.value=e),style:{width:"100%"},placeholder:"Escriba su número de teléfono"},null,8,["modelValue"])])):r("",!0),o.value&&o.value!=8?(u(),d("div",Be,[Re,a(E,{modelValue:I.value,"onUpdate:modelValue":l[13]||(l[13]=e=>I.value=e),style:{width:"100%"},placeholder:"Escriba su dirección"},null,8,["modelValue"])])):r("",!0),o.value?(u(),d("div",Te,[$e,a(E,{modelValue:C.value,"onUpdate:modelValue":l[14]||(l[14]=e=>C.value=e),style:{width:"100%"},placeholder:"Escriba su Correo"},null,8,["modelValue"])])):r("",!0)])])]),_:1},8,["visible"])}}},Me=W(je,[["__scopeId","data-v-dbe41bf5"]]);export{Me as default};
