import{_ as Q,f as u,T as X,g as M,h as V,z as K,S as Y,r as I,o as w,c as S,a as e,d as f,k as A,w as T,A as N,t as i,q as Z,m as v,Q as ee,R as te,U as P,W as oe,X as se,n as H,P as q,p as ae,e as le}from"./index-bb5ca796.js";import{f as ne}from"./formatoPesos-2a38d2e7.js";import ie from"./html2canvas.esm-e0a7d97b.js";import{E as re}from"./jspdf.es.min-3d31c761.js";const ce="/images/vacaciones.jpg";const s=E=>(ae("data-v-2bda1d89"),E=E(),le(),E),de={class:"m-2 m-auto"},ue=s(()=>e("p",{class:"text-2xl lg:text-3xl text-center my-4 mt-8",style:{"font-weight":"bold"}},"Solicitar Vacaciones ",-1)),he={class:"mb-6 col-12",style:{display:"flex",height:"auto"}},me=s(()=>e("span",{style:{color:"white"}},"Buscar",-1)),pe={key:0,class:"text-1xl m-auto col-6 p-0",style:{color:"var(--primary-color)"}},_e={key:1,class:"text-5xl m-auto col-12"},ve={key:2,class:"col-12 p-0 m-auto",style:{height:"max-content","background-color":"transparent"}},fe=s(()=>e("h6",{class:"text-center p-2 m-0 mb-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"INFORMACIÓN DEL EMPLEADO",-1)),ye={class:"px-0 grid",style:{display:""}},ge=s(()=>e("h6",{class:"col-6 m-0 text-left text-md"},"NOMBRE",-1)),xe={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},be=s(()=>e("h6",{class:"col-6 m-0 py-2 text-left"},"ESTADO",-1)),we={class:"col-6 m-0 py-2 text-right",style:{"font-weight":"300","min-width":"max-content"}},Se={class:"px-0 grid",style:{}},Ee=s(()=>e("h6",{class:"col-6 m-0 text-left"},"DOCUMENTO",-1)),De={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},Ce={class:"px-0 grid",style:{}},ke=s(()=>e("h6",{class:"col-6 m-0 text-left"},"FECHA DE INICIO",-1)),Ie={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ae={class:"px-0 grid",style:{"background-color":""}},Ne=s(()=>e("h6",{class:"col-6 m-0 text-left"},"CARGO",-1)),Oe={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ve=s(()=>e("h6",{class:"text-center p-2 mb-5",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}}," DETALLES ADICIONALES",-1)),Te={class:"px-0 grid",style:{}},Pe=s(()=>e("h6",{class:"col-6 m-0 text-left"},"TIPO DE CONTRATO",-1)),Le={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},je={class:"px-0 grid",style:{}},ze=s(()=>e("h6",{class:"col-6 m-0 text-left"},"SALARIO",-1)),Ue={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},$e={class:"px-0 grid col-12",style:{}},Re={class:"col-6"},Be={style:{"font-weight":""}},Fe={class:"col-6"},Me=s(()=>e("h6",{class:"text-center p-2 m-0 my-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"OBSERVACIONES",-1)),He={class:"col-12"},qe={style:{display:"flex"}},We={style:{color:"white"}},Ge={style:{color:"white"}},Je={class:"col-12 p-0 mt-6",style:{"overflow-x":"auto","box-shadow":"0 0 20px rgba(0, 0, 0, 0.308)"},ref:"contenidoParaPDF"},Qe={class:"a4-size p-8 mi-clase",style:{"box-shadow":"0 0 10px rgba(0, 0, 0, 0.508)"}},Xe=s(()=>e("img",{class:"m-auto",src:"https://salchimonster.com/images/logo.png",style:{width:"10%"},alt:""},null,-1)),Ke={style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},Ye=s(()=>e("h6",{class:"text-center",style:{"font-size":"14pt","font-weight":"bold",color:"black","font-family":"Arial, Helvetica, sans-serif"}}," INVERSIONES SALCHIMONSTER SAS ",-1)),Ze=s(()=>e("h6",{style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"text-center"},"NIT: 901.420.874-0",-1)),et=s(()=>e("h6",{class:"text-center py-4",style:{"font-weight":"bold"}},[v("FORMATO SOLICITUD DE VACACIONES "),e("span",{style:{"text-transform":"capitalize"}})],-1)),tt={class:"text-l",style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},ot={class:"p-0 m-0"},st=s(()=>e("span",{style:{"font-weight":"bold"}},"Fecha de la solicitud: ",-1)),at={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},lt={class:"p-0 m-0",style:{width:"100%"}},nt=s(()=>e("span",{style:{"font-weight":"bold"}},"Nombre: ",-1)),it={style:{width:"100%","border-bottom":"1px solid","padding-bottom":"0","padding-right":"3rem"}},rt={class:"p-0 m-0"},ct=s(()=>e("span",{style:{"font-weight":"bold"}},"Cargo: ",-1)),dt={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},ut={class:"p-0 m-0"},ht=s(()=>e("span",{style:{"font-weight":"bold"}},"Identificación No: ",-1)),mt={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},pt={style:{display:"flex","justify-content":"start",gap:"2rem",border:"1px solid","margin-top":"2rem"},class:"p-2"},_t={style:{display:"flex","flex-direction":"column"},class:""},vt=s(()=>e("div",{style:{"font-weight":"bold"}}," Desde ",-1)),ft={style:{display:"flex","flex-direction":"column"}},yt=s(()=>e("div",{style:{"font-weight":"bold"}}," Hasta ",-1)),gt={style:{display:"flex","justify-content":"start",gap:"2rem",border:"1px solid","margin-top":"2rem"},class:"p-2"},xt={style:{display:"flex","flex-direction":"column"},class:""},bt=s(()=>e("div",{class:"mb-2",style:{"font-weight":"bold"}}," Observaciones ",-1)),wt={class:"col-12"},St={key:3,class:"col-12"},Et=s(()=>e("img",{src:ce,alt:"",srcset:"",style:{width:"100%",height:"50vh","object-fit":"cover","border-radius":"1rem"}},null,-1)),Dt=[Et],Ct={__name:"permiso-vacaciones",setup(E){const l=u({}),m=u(X()),L=u(),x=u("2029-12-21 16:19"),O=u(),D=u(),C=u(),b=u();u();function j(o){var t=new Date(o),n={day:"numeric",month:"long",year:"numeric"};return t.toLocaleDateString("es-ES",n)}M(m,(o,t)=>{console.log(`El valor de usrDni ha cambiado de ${t} a ${o}`)});const W=async o=>{fetch(`${P}/employer/dni/${o}`).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{console.log("Employer data:",t),l.value=t,O.value=""}).catch(t=>{console.error("There has been a problem with your fetch operation:",t),l.value={},O.value="  No hay un usuario para el número de documento "+m.value,L.value="error"})},z=async()=>{fetch(`${P}/server_time`).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{console.log("Employer data:",o),x.value=o}).catch(o=>{console.error("There has been a problem with your fetch operation:",o),L.value="error"})};V(async()=>{z()});const G=async()=>{if(!l.value.id){console.error("El ID del usuario es necesario para solicitar el permiso.");return}const o=n=>n.toISOString().split("T")[0],t={employer_id:l.value.id,start_date:o(D.value),end_date:o(C.value),observations:b.value||"sin observaciones",tipo:"vacaciones",status:{status:"generado",timestamp:x.value},history:[{status:"generado",timestamp:x.value}]};try{const n=await fetch(`${P}/permission`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Error en la solicitud de permiso");const h=await n.json();console.log("Permiso creado exitosamente:",h)}catch(n){console.error("Error al solicitar el permiso:",n)}};function U(o){o||(o="2029-12-21 16:19");const t=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];let[n,h]=o.split(" "),[d,p,g]=n.split("-").map(Number),a=t[p-1];return`${g} de ${a} de ${d}`}function y(o){const t=["cero","un","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],n=["diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve"],h=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];function d(a){let r="",_="cien";if(a[0]>1?(r+=t[a[0]]+"cientos ",_=""):a[0]===1&&(r+=_+" "),a[1]>1)r+=h[a[1]]+" y ";else if(a[1]===1)return r+n[a[2]];return(a[2]!==0||a[0]===0&&a[1]===0)&&(r+=t[a[2]]),r}if(o===0)return t[0];if(o<0)return"menos "+y(-o);let p=[];for(;o>0;)p.push(o%1e3),o=Math.floor(o/1e3);return p.map((a,r)=>{if(a===0)return"";let _=d([Math.floor(a/100),Math.floor(a%100/10),a%10]);return r===1?a===1?"mil":_+" mil":r===2?a===1?"un millón":_+" millones":_}).reverse().join(" ").trim()}console.log(y(16e5)),console.log(y(16e5)),console.log(y(1111111));const $=u(window.innerWidth),R=K(()=>$.value<600),B=()=>{$.value=window.innerWidth};V(()=>{window.addEventListener("resize",B)}),Y(()=>{window.removeEventListener("resize",B)}),document.getElementsByClassName("mi-clase"),M(m,(o,t)=>{console.log(`El valor de usrDni ha cambiado de ${t} a ${o}`)}),V(async()=>{z()}),console.log(y(16e5)),console.log(y(16e5)),console.log(y(1111111));const k=u(R.value),J=async()=>{const o=R.value;k.value=!1,await oe();let t=document.querySelector(".mi-clase");if(t)try{const h=(await ie(t,{scale:2.5})).toDataURL("image/jpeg",.9),d=new re({orientation:"portrait",unit:"px",format:"a4"}),p=d.internal.pageSize.getWidth(),g=d.internal.pageSize.getHeight();d.addImage(h,"JPEG",0,0,p,g),d.save(`certificado laboral - ${l.value.name}.pdf`)}catch(n){console.error("Error al exportar PDF: ",n)}finally{k.value=o}else console.error("No se encontró el elemento para convertir a PDF"),k.value=o};return(o,t)=>{var g,a,r,_,F;const n=I("InputNumber"),h=I("Button"),d=I("Calendar"),p=I("Textarea");return w(),S("div",de,[ue,e("span",he,[f(n,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=c=>m.value=c),disabled:((g=A(se)())==null?void 0:g.toLowerCase())!="gerente",class:"mr-5",style:{width:"100%"},placeholder:"Cedula del empleado"},null,8,["modelValue","disabled"]),f(h,{style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"},onClick:t[1]||(t[1]=c=>W(m.value))},{default:T(()=>[me]),_:1})]),m.value==null?(w(),S("p",pe," Por favor digite el numero de decumento del usuario y presione Buscar")):N("",!0),!l.value.dni&&m.value?(w(),S("p",_e,i(O.value),1)):N("",!0),l.value.dni&&m.value?(w(),S("div",ve,[fe,e("div",ye,[ge,e("h6",xe,i(l.value.name),1)]),e("div",{class:"px-0 grid p-0",style:Z([{display:"","border-radius":"2rem"},((r=(a=l.value)==null?void 0:a.status)==null?void 0:r.toLowerCase().split(" ")[0])=="activo"?"background-color:rgb(193, 255, 100);":"background-color: rgb(255, 132, 132);"])},[be,e("h6",we,i(l.value.status),1)],4),e("div",Se,[Ee,e("h6",De,i(l.value.dni),1)]),e("div",Ce,[ke,e("h6",Ie,i(l.value.entry_date),1)]),e("div",Ae,[Ne,e("h6",Oe,i(l.value.position),1)]),Ve,e("div",Te,[Pe,e("h6",Le,i(l.value.contract_type),1)]),e("div",je,[ze,e("h6",Ue,i(A(ne)(l.value.salary)),1)]),e("div",$e,[e("h6",Re,[e("div",Be,[v(" DESDE "),f(d,{class:"col p-0",modelValue:D.value,"onUpdate:modelValue":t[2]||(t[2]=c=>D.value=c),required:"true",autofocus:""},null,8,["modelValue"])])]),e("h6",Fe,[e("div",null,[v(" HASTA "),f(d,{class:"col p-0",modelValue:C.value,"onUpdate:modelValue":t[3]||(t[3]=c=>C.value=c),required:"true",autofocus:""},null,8,["modelValue"])])]),Me,e("h6",He,[f(p,{class:"col-12 text-xl",modelValue:b.value,"onUpdate:modelValue":t[4]||(t[4]=c=>b.value=c),required:"true",autofocus:""},null,8,["modelValue"])])]),e("div",qe,[f(h,{onClick:t[5]||(t[5]=c=>G()),style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:T(()=>[e("span",We,[e("i",{class:H(A(q).UPLOAD)},null,2),v(" Solicitar permiso")])]),_:1}),f(h,{onClick:t[6]||(t[6]=c=>J()),disabled:"",style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:T(()=>[e("span",Ge,[e("i",{class:H(A(q).UPLOAD)},null,2),v(" Descargar Comprobante")])]),_:1})])])):N("",!0),ee(e("div",Je,[e("div",Qe,[Xe,e("h6",Ke,i(U(x.value)),1),Ye,Ze,et,e("h5",tt,[e("p",ot,[st,v(),e("span",at,i(U(x.value)),1)]),e("p",lt,[nt,v(),e("span",it,i(l.value.name),1)]),e("p",rt,[ct,v(),e("span",dt,i(l.value.position),1)]),e("p",ut,[ht,v(),e("span",mt,i(l.value.dni),1)]),e("div",pt,[e("div",_t,[vt,e("div",null,i(j(D.value)),1)]),e("div",ft,[yt,e("div",null,i(j(C.value)),1)])]),e("div",gt,[e("div",xt,[bt,e("h6",wt,[f(p,{class:"col-12 text-xl",style:{"min-width":"600px","max-width":"600px"},modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=c=>b.value=c),required:"true",autofocus:""},null,8,["modelValue"])])])])])])],512),[[te,((F=(_=l.value)==null?void 0:_.status)==null?void 0:F.toLowerCase().split(" ")[0])=="activo"&&!k.value]]),l.value.dni?N("",!0):(w(),S("div",St,Dt))])}}},Ot=Q(Ct,[["__scopeId","data-v-2bda1d89"]]);export{Ot as default};
