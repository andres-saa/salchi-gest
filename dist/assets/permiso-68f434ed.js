import{_ as Q,f as d,T as X,g as M,h as T,z as K,S as Y,r as C,o as I,c as k,a as e,b as g,k as A,w as P,A as L,t as i,q as Z,d as _,Q as ee,R as te,U as V,W as oe,X as se,n as H,P as q,p as le,e as ae}from"./index-9eb5ea3a.js";import{f as ne}from"./formatoPesos-2a38d2e7.js";import{h as ie,E as re}from"./jspdf.es.min-225ff4f5.js";const l=b=>(le("data-v-2d17c250"),b=b(),ae(),b),ce={class:"m-2 m-auto"},de=l(()=>e("p",{class:"text-2xl lg:text-3xl text-center my-4 mt-8",style:{"font-weight":"bold"}},"Generar Certificado Laboral",-1)),ue={class:"mb-6 col-12",style:{display:"flex",height:"auto"}},he=l(()=>e("span",{style:{color:"white"}},"Buscar",-1)),me={key:0,class:"text-1xl m-auto col-6 p-0",style:{color:"var(--primary-color)"}},pe={key:1,class:"text-5xl m-auto col-12"},_e={key:2,class:"col-12 p-0 m-auto",style:{height:"max-content","background-color":"transparent"}},ve=l(()=>e("h6",{class:"text-center p-2 m-0 mb-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"INFORMACIÓN DEL EMPLEADO",-1)),fe={class:"px-0 grid",style:{display:""}},ye=l(()=>e("h6",{class:"col-6 m-0 text-left text-md"},"NOMBRE",-1)),ge={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},be=l(()=>e("h6",{class:"col-6 m-0 py-2 text-left"},"ESTADO",-1)),xe={class:"col-6 m-0 py-2 text-right",style:{"font-weight":"300","min-width":"max-content"}},we={class:"px-0 grid",style:{}},Ee=l(()=>e("h6",{class:"col-6 m-0 text-left"},"DOCUMENTO",-1)),Se={class:"col-6 m-0 text-right",style:{"font-weight":"300","min-width":"max-content"}},De={class:"px-0 grid",style:{}},Ce=l(()=>e("h6",{class:"col-6 m-0 text-left"},"FECHA DE INICIO",-1)),Ie={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},ke={class:"px-0 grid",style:{"background-color":""}},Ae=l(()=>e("h6",{class:"col-6 m-0 text-left"},"CARGO",-1)),Ne={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Oe=l(()=>e("h6",{class:"text-center p-2 mb-5",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}}," DETALLES ADICIONALES",-1)),Te={class:"px-0 grid",style:{}},Pe=l(()=>e("h6",{class:"col-6 m-0 text-left"},"TIPO DE CONTRATO",-1)),Le={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ve={class:"px-0 grid",style:{}},ze=l(()=>e("h6",{class:"col-6 m-0 text-left"},"SALARIO",-1)),je={class:"col-6 m-0 text-right",style:{"font-weight":"300"}},Ue={class:"px-0 grid col-12",style:{}},$e={class:"col-6"},Re={style:{"font-weight":""}},Be={class:"col-6"},Fe=l(()=>e("h6",{class:"text-center p-2 m-0 my-5 col-12",style:{"border-radius":"2rem","font-weight":"bold","background-color":"var(--gray-200)"}},"OBSERVACIONES",-1)),Me={class:"col-12"},He={style:{display:"flex"}},qe={style:{color:"white"}},We={style:{color:"white"}},Ge={class:"col-12 p-0 mt-6",style:{"overflow-x":"auto","box-shadow":"0 0 20px rgba(0, 0, 0, 0.308)"},ref:"contenidoParaPDF"},Je={class:"a4-size p-8 mi-clase",style:{"box-shadow":"0 0 10px rgba(0, 0, 0, 0.508)"}},Qe=l(()=>e("img",{class:"m-auto",src:"https://salchimonster.com/images/logo.png",style:{width:"10%"},alt:""},null,-1)),Xe={style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},Ke=l(()=>e("h6",{class:"text-center",style:{"font-size":"14pt","font-weight":"bold",color:"black","font-family":"Arial, Helvetica, sans-serif"}}," INVERSIONES SALCHIMONSTER SAS ",-1)),Ye=l(()=>e("h6",{style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"},class:"text-center"},"NIT: 901.420.874-0",-1)),Ze=l(()=>e("h6",{class:"text-center py-4",style:{"font-weight":"bold"}},[_("FORMATO SOLICITUD DE VACACIONES "),e("span",{style:{"text-transform":"capitalize"}})],-1)),et={class:"text-l",style:{"font-size":"14pt","font-weight":"normal",color:"black","font-family":"Arial, Helvetica, sans-serif"}},tt={class:"p-0 m-0"},ot=l(()=>e("span",{style:{"font-weight":"bold"}},"Fecha de la solicitud: ",-1)),st={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},lt={class:"p-0 m-0",style:{width:"100%"}},at=l(()=>e("span",{style:{"font-weight":"bold"}},"Nombre: ",-1)),nt={style:{width:"100%","border-bottom":"1px solid","padding-bottom":"0","padding-right":"3rem"}},it={class:"p-0 m-0"},rt=l(()=>e("span",{style:{"font-weight":"bold"}},"Cargo: ",-1)),ct={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},dt={class:"p-0 m-0"},ut=l(()=>e("span",{style:{"font-weight":"bold"}},"Identificación No: ",-1)),ht={style:{"border-bottom":"1px solid","padding-bottom":"0","padding-right":"2rem"}},mt={style:{display:"flex","justify-content":"start",gap:"2rem",border:"1px solid","margin-top":"2rem"},class:"p-2"},pt={style:{display:"flex","flex-direction":"column"},class:""},_t=l(()=>e("div",{style:{"font-weight":"bold"}}," Desde ",-1)),vt={style:{display:"flex","flex-direction":"column"}},ft=l(()=>e("div",{style:{"font-weight":"bold"}}," Hasta ",-1)),yt={style:{display:"flex","justify-content":"start",gap:"2rem",border:"1px solid","margin-top":"2rem"},class:"p-2"},gt={style:{display:"flex","flex-direction":"column"},class:""},bt=l(()=>e("div",{class:"mb-2",style:{"font-weight":"bold"}}," Observaciones ",-1)),xt={__name:"permiso",setup(b){const a=d({}),m=d(X()),z=d(),x=d("2029-12-21 16:19"),N=d(),w=d(),E=d(),S=d();d();function j(o){var t=new Date(o),n={day:"numeric",month:"long",year:"numeric"};return t.toLocaleDateString("es-ES",n)}M(m,(o,t)=>{console.log(`El valor de usrDni ha cambiado de ${t} a ${o}`)});const W=async o=>{fetch(`${V}/employer/dni/${o}`).then(t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(t=>{console.log("Employer data:",t),a.value=t,N.value=""}).catch(t=>{console.error("There has been a problem with your fetch operation:",t),a.value={},N.value="  No hay un usuario para el número de documento "+m.value,z.value="error"})},U=async()=>{fetch(`${V}/server_time`).then(o=>{if(!o.ok)throw new Error("Network response was not ok");return o.json()}).then(o=>{console.log("Employer data:",o),x.value=o}).catch(o=>{console.error("There has been a problem with your fetch operation:",o),z.value="error"})};T(async()=>{U()});const G=async()=>{if(!a.value.id){console.error("El ID del usuario es necesario para solicitar el permiso.");return}const o=n=>n.toISOString().split("T")[0],t={employer_id:a.value.id,start_date:o(w.value),end_date:o(E.value),observations:S.value,status:{status:"generado",timestamp:x.value},history:[{}]};try{const n=await fetch(`${V}/permission`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Error en la solicitud de permiso");const u=await n.json();console.log("Permiso creado exitosamente:",u)}catch(n){console.error("Error al solicitar el permiso:",n)}};function O(o){o||(o="2029-12-21 16:19");const t=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"];let[n,u]=o.split(" "),[c,v,y]=n.split("-").map(Number),s=t[v-1];return`${y} de ${s} de ${c}`}function f(o){const t=["cero","un","dos","tres","cuatro","cinco","seis","siete","ocho","nueve"],n=["diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve"],u=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];function c(s){let r="",p="cien";if(s[0]>1?(r+=t[s[0]]+"cientos ",p=""):s[0]===1&&(r+=p+" "),s[1]>1)r+=u[s[1]]+" y ";else if(s[1]===1)return r+n[s[2]];return(s[2]!==0||s[0]===0&&s[1]===0)&&(r+=t[s[2]]),r}if(o===0)return t[0];if(o<0)return"menos "+f(-o);let v=[];for(;o>0;)v.push(o%1e3),o=Math.floor(o/1e3);return v.map((s,r)=>{if(s===0)return"";let p=c([Math.floor(s/100),Math.floor(s%100/10),s%10]);return r===1?s===1?"mil":p+" mil":r===2?s===1?"un millón":p+" millones":p}).reverse().join(" ").trim()}console.log(f(16e5)),console.log(f(16e5)),console.log(f(1111111));const $=d(window.innerWidth),R=K(()=>$.value<600),B=()=>{$.value=window.innerWidth};T(()=>{window.addEventListener("resize",B)}),Y(()=>{window.removeEventListener("resize",B)}),document.getElementsByClassName("mi-clase"),M(m,(o,t)=>{console.log(`El valor de usrDni ha cambiado de ${t} a ${o}`)}),T(async()=>{U()}),console.log(f(16e5)),console.log(f(16e5)),console.log(f(1111111));const D=d(R.value),J=async()=>{const o=R.value;D.value=!1,await oe();let t=document.querySelector(".mi-clase");if(t)try{const u=(await ie(t,{scale:2.5})).toDataURL("image/jpeg",.9),c=new re({orientation:"portrait",unit:"px",format:"a4"}),v=c.internal.pageSize.getWidth(),y=c.internal.pageSize.getHeight();c.addImage(u,"JPEG",0,0,v,y),c.save(`certificado laboral - ${a.value.name}.pdf`)}catch(n){console.error("Error al exportar PDF: ",n)}finally{D.value=o}else console.error("No se encontró el elemento para convertir a PDF"),D.value=o};return(o,t)=>{var y,s,r,p,F;const n=C("InputNumber"),u=C("Button"),c=C("Calendar"),v=C("Textarea");return I(),k("div",ce,[de,e("span",ue,[g(n,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=h=>m.value=h),disabled:((y=A(se)())==null?void 0:y.toLowerCase())!="gerente",class:"mr-5",style:{width:"100%"},placeholder:"Cedula del empleado"},null,8,["modelValue","disabled"]),g(u,{style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"},onClick:t[1]||(t[1]=h=>W(m.value))},{default:P(()=>[he]),_:1})]),m.value==null?(I(),k("p",me," Por favor digite el numero de decumento del usuario y presione Buscar")):L("",!0),!a.value.dni&&m.value?(I(),k("p",pe,i(N.value),1)):L("",!0),a.value.dni&&m.value?(I(),k("div",_e,[ve,e("div",fe,[ye,e("h6",ge,i(a.value.name),1)]),e("div",{class:"px-0 grid p-0",style:Z([{display:"","border-radius":"2rem"},((r=(s=a.value)==null?void 0:s.status)==null?void 0:r.toLowerCase().split(" ")[0])=="activo"?"background-color:rgb(193, 255, 100);":"background-color: rgb(255, 132, 132);"])},[be,e("h6",xe,i(a.value.status),1)],4),e("div",we,[Ee,e("h6",Se,i(a.value.dni),1)]),e("div",De,[Ce,e("h6",Ie,i(a.value.entry_date),1)]),e("div",ke,[Ae,e("h6",Ne,i(a.value.position),1)]),Oe,e("div",Te,[Pe,e("h6",Le,i(a.value.contract_type),1)]),e("div",Ve,[ze,e("h6",je,i(A(ne)(a.value.salary)),1)]),e("div",Ue,[e("h6",$e,[e("div",Re,[_(" DESDE "),g(c,{class:"col p-0",modelValue:w.value,"onUpdate:modelValue":t[2]||(t[2]=h=>w.value=h),required:"true",autofocus:""},null,8,["modelValue"])])]),e("h6",Be,[e("div",null,[_(" HASTA "),g(c,{class:"col p-0",modelValue:E.value,"onUpdate:modelValue":t[3]||(t[3]=h=>E.value=h),required:"true",autofocus:""},null,8,["modelValue"])])]),Fe,e("h6",Me,[g(v,{class:"col-12 text-xl",modelValue:S.value,"onUpdate:modelValue":t[4]||(t[4]=h=>S.value=h),required:"true",autofocus:""},null,8,["modelValue"])])]),e("div",He,[g(u,{onClick:t[5]||(t[5]=h=>G()),style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:P(()=>[e("span",qe,[e("i",{class:H(A(q).UPLOAD)},null,2),_(" Solicitar permiso")])]),_:1}),g(u,{onClick:t[6]||(t[6]=h=>J()),disabled:"",style:{display:"flex",color:"white","align-items":"center","justify-content":"center","font-weight":"bold"}},{default:P(()=>[e("span",We,[e("i",{class:H(A(q).UPLOAD)},null,2),_(" Descargar Comprobante")])]),_:1})])])):L("",!0),ee(e("div",Ge,[e("div",Je,[Qe,e("h6",Xe,i(O(x.value)),1),Ke,Ye,Ze,e("h5",et,[e("p",tt,[ot,_(),e("span",st,i(O(x.value)),1)]),e("p",lt,[at,_(),e("span",nt,i(O(a.value.user_name)),1)]),e("p",it,[rt,_(),e("span",ct,i(a.value.position),1)]),e("p",dt,[ut,_(),e("span",ht,i(a.value.dni),1)]),e("div",mt,[e("div",pt,[_t,e("div",null,i(j(w.value)),1)]),e("div",vt,[ft,e("div",null,i(j(E.value)),1)])]),e("div",yt,[e("div",gt,[bt,e("div",null,i(S.value),1)])])])])],512),[[te,((F=(p=a.value)==null?void 0:p.status)==null?void 0:F.toLowerCase().split(" ")[0])=="activo"&&!D.value]])])}}},Dt=Q(xt,[["__scopeId","data-v-2d17c250"]]);export{Dt as default};
