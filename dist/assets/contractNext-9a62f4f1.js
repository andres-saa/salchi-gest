import{f as P}from"./fetchService-49426465.js";import{_ as S,r as f,E as F,h as L,U as v,a as s,o,c as n,d as y,w as c,I as M,b as i,u as T,F as B,e as E,t as r,m,s as V,f as R,q as w,p as D,g as $}from"./index-1a945cfc.js";import{f as j}from"./formatoPesos-78ea101b.js";const z=u=>(D("data-v-9f5d22a3"),u=u(),$(),u),A={class:"m-auto container"},U={class:"grid p-3",style:{"align-items":"center","justify-content":"space-between",display:"flex",gap:"1rem"}},O=z(()=>i("h4",{class:"px-2"},[i("i",{class:"fa fa-book"}),w(),i("b",null,"Contratos proximos")],-1)),q=["onClick","src","onError"],G={key:0,style:{"min-width":"max-content"},class:"m-0 p-0"},H={key:2,style:{"min-width":"5rem"},class:"m-0 p-0"},J={__name:"contractNext",setup(u){const x=(t,l)=>{var _;const p={masculino:"/images/male-avatar.png",femenino:"/images/female-avatar.png",default:"/images/who.png"};!t||t==""||t=="N/A"?l.target.src=p.default:l.target.src=p[(_=t.trim())==null?void 0:_.toLowerCase()]},d=f(null),N=()=>{d.value={global:{value:null,matchMode:M.CONTAINS}}};F(()=>{N()});const h=f([{id:1}]),b=[{columnName:"Id",columnValue:"id",columnType:"other"},{columnName:"Id del empleado",columnValue:"employer_id",columnType:"other"},{columnName:"Nombre del empleado",columnValue:"employer_name",columnType:"max-content"},{columnName:"Tipo de contrato",columnValue:"contract_type_name",columnType:"max-content"},{columnName:"Fecha de inicio",columnValue:"start_date",columnType:"date"},{columnName:"Fecha de finalizacion",columnValue:"end_date",columnType:"date"},{columnName:"Dias para iniciar",columnValue:"days_until_start",columnType:"other"},{columnName:"Salario",columnValue:"salary",columnType:"money"},{columnName:"Creado por",columnValue:"creator_name",columnType:"max-content"},{columnName:"Estado",columnValue:"active",columnType:"bool"}];return L(async()=>{h.value=await P.get(`${v}/get-all-future-contracts`,"cargando contratos","/contracts/contracts-all/")}),(t,l)=>{const p=s("InputText"),_=s("Column"),k=s("Tag"),C=s("column"),I=s("DataTable");return o(),n("div",A,[y(I,{paginator:!0,rows:15,style:{width:"100%"},paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} contratos",rowsPerPageOptions:[5,10,25,100],scrollable:"",showGridlines:"",scrollHeight:"65vh",stripedRows:"",class:"col-12 m-auto",value:h.value,tableStyle:"min-width: 50rem;",filters:d.value},{header:c(()=>[i("div",U,[O,y(p,{class:"",modelValue:d.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value.global.value=e),placeholder:"Buscar empleado..."},null,8,["modelValue"])])]),default:c(()=>[y(_,{class:"py-2",header:"Foto",headerStyle:"width:5%; min-width:3rem;"},{body:c(e=>[i("img",{onClick:a=>t.verIMagen(e.data.dni),src:`${T(v)}/read-product-image/96/employer-${e.data.dni}`,onError:a=>x(e.data.gender,a),class:"shadow-2 img-profile",style:{border:"none",position:"relative",height:"2rem",width:"2rem","object-fit":"cover","border-radius":"50%"}},null,40,q)]),_:1}),(o(),n(B,null,E(b,e=>y(C,{header:e.columnName,field:e.columnValue},{body:c(a=>{var g;return[e.columnType=="date"?(o(),n("h6",G,r((g=a.data[e.columnValue])==null?void 0:g.split("-").reverse().join("-")),1)):m("",!0),e.columnType=="max-content"?(o(),n("h6",{key:1,style:V(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},r(a.data[e.columnValue]),5)):m("",!0),e.columnType=="other"?(o(),n("h6",H,r(a.data[e.columnValue]),1)):m("",!0),e.columnType=="money"?(o(),n("h6",{key:3,style:V(e.columnType=="max-content"?"min-width: max-content":""),class:"m-0 p-0"},r(T(j)(a.data[e.columnValue])),5)):m("",!0),e.columnType=="bool"?(o(),R(k,{key:4,severity:e.columnValue?"success":"danger"},{default:c(()=>[w(r(e.columnValue?"Activo":"Finalizado"),1)]),_:2},1032,["severity"])):m("",!0)]}),_:2},1032,["header","field"])),64))]),_:1},8,["value","filters"])])}}},X=S(J,[["__scopeId","data-v-9f5d22a3"]]);export{X as default};
