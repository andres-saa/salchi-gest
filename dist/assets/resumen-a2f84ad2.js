import{a as z,u as D,f as p}from"./formatoPesos-7139053d.js";import{_ as L,h as T,C as O,i as q,D as E,g as k,o,c as i,a as e,F as x,r as w,t as n,q as S,u as t,k as d,n as M,e as c,f as h,b as f,p as U,m as j}from"./index-4d808e00.js";import{u as A,o as V}from"./orderService-23e57d25.js";import{u as G}from"./ventas-1efa5120.js";const u=m=>(U("data-v-ce06cf64"),m=m(),j(),m),H={class:"43f1 43f5 md:43f0 43f12"},J={class:"sticky-summary 43f12 43f3 43f0"},K=u(()=>e("h5",null,[e("b",null,"Resumen")],-1)),Q=u(()=>e("h5",null,[e("b",null,"productos")],-1)),W={class:"43f0 43f0 product-line"},X={class:"43f6 43f2 43f0 43f0"},Y={class:"43f0"},Z={class:"span-minwidth"},$={style:{"font-weight":"400"}},ee={style:{"margin-right":".5rem"}},te={class:"font-weight-400"},oe={class:"43f6 43f0 text-right 43f2"},se={key:0,class:"text-end"},ne={key:1,class:"text-end"},ie={class:"addition-ite43finner"},ae={class:"text adicion"},le={key:0,class:"pl-2 text-sm"},re=u(()=>e("hr",{class:"43f0 43f2"},null,-1)),de={class:"grid summary-grid"},ce=u(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),ue={class:"col-6 my-0 text-right py-0 text-right text-end",style:{}},_e={key:0,class:"col-6 my-0 py-0"},pe=u(()=>e("b",null,"Domicilio",-1)),he=[pe],be={key:1,class:"col-6 my-0 text-right py-0 text-end"},fe={key:0,class:"primary-color"},me={key:1},ye=u(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Total")])],-1)),ve={key:2,class:"col-6 my-0 text-right py-0 text-end"},ge=u(()=>e("div",null,null,-1)),ke={__name:"resumen",setup(m){const C=G(),P=T(!1),r=O(),y=z(),s=D(),F=A();return T({}),q(()=>{var g;((g=F.user.payment_method_option)==null?void 0:g.id)!=7&&!r.path.includes("reservas")?s.setNeighborhoodPrice():s.setNeighborhoodPriceCero()}),E(()=>y.cart.additions,()=>{update()},{deep:!0}),(g,v)=>{var B,I,N;const _=k("Button"),b=k("router-link"),R=k("Tag");return o(),i("div",H,[e("div",J,[K,Q,(o(!0),i(x,null,w(t(y).cart,a=>(o(),i("div",{key:a.productogeneral_id},[e("div",W,[e("div",X,[e("h6",Y,[e("span",Z,"( "+n(a.pedido_cantidad)+" ) ",1),e("span",$,n(a.pedido_nombre_producto),1)]),(o(!0),i(x,null,w(a.lista_productocombo,l=>(o(),i("h6",{class:"43f0 43f3",style:{"margin-left":"1rem"},key:l.producto_id},[S(" ( "+n(a.pedido_cantidad)+" ) ",1),e("b",ee,n(parseInt(l.pedido_cantidad)),1),e("span",te,n(l.pedido_nombre),1)]))),128))]),e("div",oe,[a.modificadorseleccionList.length<1?(o(),i("h6",se,n(t(p)(a.pedido_precio*a.pedido_cantidad)),1)):(o(),i("h6",ne,n(t(p)(a.pedido_base_price*a.pedido_cantidad)),1))])]),(o(!0),i(x,null,w(a.modificadorseleccionList,l=>(o(),i("div",{class:"addition-item",key:l},[e("div",ie,[e("span",ae,[e("span",null,[e("b",null,"- ( "+n(a.pedido_cantidad)+" ) "+n(l.modificadorseleccion_cantidad),1)]),S(" "+n(l.modificadorseleccion_nombre),1)]),l.pedido_precio>0?(o(),i("span",le,[e("b",null,n(t(p)(l.pedido_precio*l.modificadorseleccion_cantidad*a.pedido_cantidad)),1)])):d("",!0)])]))),128))]))),128)),re,e("div",de,[ce,e("div",ue,[e("span",null,[e("b",null,n(t(p)(t(y).cartTotal)),1)])]),t(s).location.site.site_id!=33?(o(),i("div",_e,[e("span",{style:M(t(s).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},he,4)])):d("",!0),t(s).location.site.site_id!=33?(o(),i("div",be,[t(s).location.neigborhood.delivery_price===0&&t(s).location.site.site_id!=33?(o(),i("span",fe,[e("b",null,n(t(r).path.includes("reservas")?"Ir a la sede":"Recoger en local"),1)])):t(s).location.neigborhood.delivery_price>0?(o(),i("span",me,[e("b",null,n(t(p)(t(s).location.neigborhood.delivery_price)),1)])):d("",!0)])):d("",!0),ye,t(s).location.neigborhood.delivery_price||t(s).location.neigborhood.delivery_price===0?(o(),i("div",ve,[e("span",null,[e("b",null,n(t(p)(t(y).cartTotal+t(s).location.neigborhood.delivery_price)),1)])])):d("",!0)]),t(r).path.includes("cart")?(o(),c(b,{key:0,to:"/call-center-vender"},{default:h(()=>[f(_,{outlined:"",icon:"pi pi-shopping-cart",label:"Volver al menu'",class:"43f4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):t(r).path!="/reservas"?(o(),c(b,{key:1,to:"/call-center-vender/cart"},{default:h(()=>[f(_,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"43f4 button-common button-transparent button-fullwidth button-bold",severity:"danger"})]),_:1})):d("",!0),((B=t(s).status)==null?void 0:B.status)=="closed"&&t(r).path!="/reservas"?(o(),c(R,{key:2,class:"43f2 tag-fullheight",severity:"danger"},{default:h(()=>[S(" Cerrado, abre a las "+n(t(s).status.next_opening_time),1)]),_:1})):d("",!0),ge,t(r).path.includes("cart")?(o(),c(b,{key:3,to:"/call-center-vender/pay"},{default:h(()=>[f(_,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):t(r).path.includes("reservas")?(o(),c(b,{key:4,to:"/pay"},{default:h(()=>[f(_,{onClick:v[0]||(v[0]=()=>{t(V).sendOrderReserva(),P.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):((I=t(s).status)==null?void 0:I.status)!=="closed"&&((N=t(s).status)!=null&&N.status)&&t(r).path=="/cart"?(o(),c(b,{key:5,to:"/pay"},{default:h(()=>[f(_,{iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"})]),_:1})):t(r).path=="/call-center-vender/pay"&&!t(C).loading.visible?(o(),c(_,{key:6,disabled:t(C).loading.visible,onClick:v[1]||(v[1]=()=>{t(V).sendOrder(),P.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"43f2 button-common button-black button-fullwidth button-bold button-no-border button-no-outline",severity:"help"},null,8,["disabled"])):d("",!0)])])}}},Pe=L(ke,[["__scopeId","data-v-ce06cf64"]]);export{Pe as r};
