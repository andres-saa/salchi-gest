import{p as k}from"./ProductService-9dc85888.js";import{f as $}from"./formatoPesos-2a38d2e7.js";import{u as S}from"./productStore-a6f1aa0b.js";import{_ as P,q as j,a as f,o as r,c as a,b as e,d as l,u as _,t as u,k as C,r as v,i as T,m as x,s as B,F as w,e as E,v as b}from"./index-823524e4.js";import{u as V}from"./site-b7e374fc.js";const I={class:"container p-shadow col-12",style:{"border-radius":"0.5rem",height:"100%",position:"relative"}},M={style:{display:"flex",position:"absolute",right:"-1rem",top:"-1rem",gap:"0.2rem"}},D={class:"imagen"},F=["src"],L={class:"texto",style:{}},N={style:{display:"flex",gap:"1rem",height:"100%","flex-direction":"column","justify-content":"space-between"}},q={style:{display:"grid","grid-template-columns":"auto auto",width:"100%","justify-content":"space-between","align-items":"center"}},O={style:{"text-transform":"uppercase"}},R={style:{display:"flex","justify-content":"space-between","align-items":"c"}},U={style:{display:"flex","align-items":"center",gap:"1rem"}},z={class:"text-xl"},A={__name:"TarjetaMenu",props:{product:{type:Object,default:{}}},setup(g){const i=S(),s=g,p=o=>{i.visibles.dialogEditProduct=!0,i.currentProductToEdit=o},m=async o=>{try{const t=await k.updateProductInstanceStatus(s.product.id,o);t&&console.log("Status updated:",t)}catch(t){console.error("Failed to update status:",t)}},c=j(()=>s.product.product_description.substring(0,100)+"...");return(o,t)=>{var h;const n=f("Button"),y=f("InputSwitch");return r(),a("div",I,[e("div",M,[l(n,{onClick:t[0]||(t[0]=d=>_(i).visibles.dialogEditProduct=!0),severity:"danger",style:{width:"2rem",height:"2rem",right:"0",top:"0"},rounded:"",icon:"pi pi-times"}),l(n,{onClick:t[1]||(t[1]=d=>p(s.product)),severity:"warning",style:{"font-weight":"bold",width:"2rem",height:"2rem",right:"0",top:"0"},rounded:"",icon:"pi pi-pencil"})]),e("div",D,[e("img",{class:"",style:{width:"100%",height:"100%","background-color":"rgb(255, 255, 255)","object-fit":"contain","border-radius":"0.2rem"},src:`https://backend.salchimonster.com/read-product-image/300/${s.product.product_name}`,alt:"",onClick:t[2]||(t[2]=d=>o.open(s.product))},null,8,F)]),e("div",L,[e("div",N,[e("div",q,[e("span",null,[e("b",O,u(s.product.product_name),1)]),l(n,{class:"elipsis",text:"",style:{color:"black"},icon:"pi pi-ellipsis-v p-0 text-xl"})]),e("span",null,u((h=c.value)==null?void 0:h.toLocaleLowerCase()),1),e("div",R,[l(y,{modelValue:s.product.status,"onUpdate:modelValue":[t[3]||(t[3]=d=>s.product.status=d),t[4]||(t[4]=d=>m(s.product.status))]},null,8,["modelValue"]),e("div",U,[e("span",z,[e("b",null,u(_($)(s.product.price)),1)])])])])])])}}},G=P(A,[["__scopeId","data-v-5fcc90ee"]]),H={class:"text-center text-3xl col-12",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},J=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),K={class:"text-3xl",style:{width:"min-content"}},Q={style:{"min-width":"max-content"}},W=e("div",{style:{width:"100%",height:"5px","background-color":"#ff6200"}},null,-1),X={key:0,class:"grid p-1 pb-8",style:{"max-width":"900px",margin:"auto"}},Y={key:1,style:{"font-weight":"bold"},class:"text-4xl text-center my-8 p-0"},it={__name:"sesion",setup(g){const i=V(),s=C(),p=v([]),m=v(!1);T(async()=>{c()});const c=async()=>{let o=s.params.category_id,t=i.site.site_id;if(!o||!t){m.value=!0;return}p.value=await k.getProductsByCategorySite(o,t)};return x(()=>s.params.category_id,async()=>{s.params.category_id&&(c(),await b())},{deep:!0}),x(()=>i.site,async()=>{i.site&&(c(),await b())},{deep:!0}),(o,t)=>(r(),a(w,null,[e("p",H,[J,e("span",K,[e("p",Q,u(_(s).params.menu_name)+" DE",1),B(" "+u(_(i).site.site_name),1)]),W]),m.value?(r(),a("p",Y," Selecciona una sede y una categoria. ")):(r(),a("div",X,[(r(!0),a(w,null,E(p.value,(n,y)=>(r(),a("div",{key:n.id,class:"col-12 md:col-4 lg:col-3 sm:col-6"},[l(G,{style:{width:"100%"},id:`tarjeta-${y}`,product:n},null,8,["id","product"])]))),128))]))],64))}};export{it as default};
