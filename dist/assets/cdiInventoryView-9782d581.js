import{c as E}from"./cdiInventoryService-117d9131.js";import{j as f,G as I,k as B,r as w,o as u,c as m,a as t,h as l,t as o,F as D,b as F,A as R,e as r,f as p}from"./index-4f6f9fdf.js";import"./sass.default-a5b7a582.js";const k=t("p",{class:"text-center text-2xl",style:{"font-weight":"bold"}},"Resumen de reporte de inventario diario",-1),A={class:"header mx-auto px-3 md:px-0 my-5",style:{"max-width":"50rem","overflow-x":"auto"}},M={class:"p-0 m-0",style:{width:"max-content"}},T=t("b",null,"FECHA: ",-1),V={class:"p-0 m-0",style:{width:"max-content"}},q=t("b",null,"SEDE: ",-1),j={class:"p-0 m-0",style:{width:"max-content"}},G=t("b",null,"RESPONSABLE: ",-1),L={class:"p-1 m-0 text-center",style:{"font-weight":"bold",background:"#00000020"}},z={__name:"cdiInventoryView",setup(O){const s=f([]),d=f({}),b=I(),g=()=>{d.value={global:{value:null,matchMode:R.CONTAINS}}};B(async()=>{const i=b.params.cdi_inventory_id;s.value=await E.getCdiInventoryEntriesByCdiInventoryID(i),s.value=s.value.filter(e=>e.quantity!=0)});function C(i){return i.reduce((e,a)=>{const n=a.group_name;return e[n]||(e[n]=[]),e[n].push(a),e},{})}return g(),(i,e)=>{var _,h,y,v;const a=w("Column"),n=w("DataTable");return u(),m("div",null,[k,t("div",A,[t("p",M,[T,l(" "+o((h=(_=s.value[0])==null?void 0:_.date)==null?void 0:h.split("-").reverse().join("-")),1)]),t("p",V,[q,l(" "+o((y=s.value[0])==null?void 0:y.site_name),1)]),t("p",j,[G,l(" "+o((v=s.value[0])==null?void 0:v.employer_name),1)])]),(u(!0),m(D,null,F(C(s.value),(N,S)=>(u(),m("div",null,[r(n,{stripedRows:"",style:{"max-width":"50rem"},showgridlines:"",filters:d.value,"onUpdate:filters":e[0]||(e[0]=c=>d.value=c),class:"col-12 mb-4 p-2 shadow-2 mt-0 mx-auto",value:N,tableStyle:"min-width:30rem"},{header:p(()=>[t("p",L,o(S),1)]),default:p(()=>[r(a,{style:{width:"40%"},class:"py-1 px-0",field:"item_name",header:"Nombre"}),r(a,{style:{width:"20%"},class:"py-1 px-2rem",field:"quantity",header:"Cantidad"},{body:p(c=>{var x;return[l(o((x=c.data.quantity)==null?void 0:x.toString().replace(".",",")),1)]}),_:1}),r(a,{style:{width:"400%"},class:"py-1 px-0",field:"unit_measure",header:"Unidad de medida"})]),_:2},1032,["filters","value"])]))),256))])}}};export{z as default};
