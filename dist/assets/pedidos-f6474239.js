import{_ as F,r as L,i as z,a as D,o as _,c as w,d as x,w as M,b as e,L as K,u as y,s as S,t as h,n as $,D as C,F as T,e as A,p as J,g as Z,f as R,E as G,M as Y,m as W}from"./index-9cbe9f48.js";import{f as U}from"./formatoPesos-2a38d2e7.js";import{u as H,o as k,a as Q}from"./order-b588bdfe.js";import{s as q}from"./siteService-761f11ed.js";var ee={exports:{}};(function(P,j){(function(f,t){P.exports=t()})(window,function(){return function(s){var f={};function t(a){if(f[a])return f[a].exports;var p=f[a]={i:a,l:!1,exports:{}};return s[a].call(p.exports,p,p.exports,t),p.l=!0,p.exports}return t.m=s,t.c=f,t.d=function(a,p,d){t.o(a,p)||Object.defineProperty(a,p,{enumerable:!0,get:d})},t.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},t.t=function(a,p){if(p&1&&(a=t(a)),p&8||p&4&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(t.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),p&2&&typeof a!="string")for(var v in a)t.d(d,v,(function(c){return a[c]}).bind(null,v));return d},t.n=function(a){var p=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(p,"a",p),p},t.o=function(a,p){return Object.prototype.hasOwnProperty.call(a,p)},t.p="",t(t.s=0)}({"./src/index.js":function(s,f,t){t.r(f),t("./src/sass/index.scss");var a=t("./src/js/init.js"),p=a.default.init;typeof window<"u"&&(window.printJS=p),f.default=p},"./src/js/browser.js":function(s,f,t){t.r(f);var a={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!a.isIE()&&!!window.StyleMedia},isChrome:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!d.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};f.default=a},"./src/js/functions.js":function(s,f,t){t.r(f),t.d(f,"addWrapper",function(){return v}),t.d(f,"capitalizePrint",function(){return c}),t.d(f,"collectStyles",function(){return l}),t.d(f,"addHeader",function(){return r}),t.d(f,"cleanUp",function(){return m}),t.d(f,"isRawHTML",function(){return u});var a=t("./src/js/modal.js"),p=t("./src/js/browser.js");function d(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(b){return typeof b}:d=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},d(o)}function v(o,i){var b="font-family:"+i.font+" !important; font-size: "+i.font_size+" !important; width:100%;";return'<div style="'+b+'">'+o+"</div>"}function c(o){return o.charAt(0).toUpperCase()+o.slice(1)}function l(o,i){for(var b=document.defaultView||window,O="",g=b.getComputedStyle(o,""),I=0;I<g.length;I++)(i.targetStyles.indexOf("*")!==-1||i.targetStyle.indexOf(g[I])!==-1||n(i.targetStyles,g[I]))&&g.getPropertyValue(g[I])&&(O+=g[I]+":"+g.getPropertyValue(g[I])+";");return O+="max-width: "+i.maxWidth+"px !important; font-size: "+i.font_size+" !important;",O}function n(o,i){for(var b=0;b<o.length;b++)if(d(i)==="object"&&i.indexOf(o[b])!==-1)return!0;return!1}function r(o,i){var b=document.createElement("div");if(u(i.header))b.innerHTML=i.header;else{var O=document.createElement("h1"),g=document.createTextNode(i.header);O.appendChild(g),O.setAttribute("style",i.headerStyle),b.appendChild(O)}o.insertBefore(b,o.childNodes[0])}function m(o){o.showModal&&a.default.close(),o.onLoadingEnd&&o.onLoadingEnd(),(o.showModal||o.onLoadingStart)&&window.URL.revokeObjectURL(o.printable);var i="mouseover";(p.default.isChrome()||p.default.isFirefox())&&(i="focus");var b=function O(){window.removeEventListener(i,O),o.onPrintDialogClose();var g=document.getElementById(o.frameId);g&&g.remove()};window.addEventListener(i,b)}function u(o){var i=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return i.test(o)}},"./src/js/html.js":function(s,f,t){t.r(f);var a=t("./src/js/functions.js"),p=t("./src/js/print.js");function d(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(r){return typeof r}:d=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d(l)}f.default={print:function(n,r){var m=c(n.printable)?n.printable:document.getElementById(n.printable);if(!m){window.console.error("Invalid HTML element id: "+n.printable);return}n.printableElement=v(m,n),n.header&&Object(a.addHeader)(n.printableElement,n),p.default.send(n,r)}};function v(l,n){for(var r=l.cloneNode(),m=Array.prototype.slice.call(l.childNodes),u=0;u<m.length;u++)if(n.ignoreElements.indexOf(m[u].id)===-1){var o=v(m[u],n);r.appendChild(o)}switch(n.scanStyles&&l.nodeType===1&&r.setAttribute("style",Object(a.collectStyles)(l,n)),l.tagName){case"SELECT":r.value=l.value;break;case"CANVAS":r.getContext("2d").drawImage(l,0,0);break}return r}function c(l){return d(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(s,f,t){t.r(f);var a=t("./src/js/functions.js"),p=t("./src/js/print.js"),d=t("./src/js/browser.js");f.default={print:function(c,l){c.printable.constructor!==Array&&(c.printable=[c.printable]),c.printableElement=document.createElement("div"),c.printable.forEach(function(n){var r=document.createElement("img");if(r.setAttribute("style",c.imageStyle),r.src=n,d.default.isFirefox()){var m=r.src;r.src=m}var u=document.createElement("div");u.appendChild(r),c.printableElement.appendChild(u)}),c.header&&Object(a.addHeader)(c.printableElement,c),p.default.send(c,l)}}},"./src/js/init.js":function(s,f,t){t.r(f);var a=t("./src/js/browser.js"),p=t("./src/js/modal.js"),d=t("./src/js/pdf.js"),v=t("./src/js/html.js"),c=t("./src/js/raw-html.js"),l=t("./src/js/image.js"),n=t("./src/js/json.js");function r(u){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(i){return typeof i}:r=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},r(u)}var m=["pdf","html","image","json","raw-html"];f.default={init:function(){var o={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(X){throw X},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},i=arguments[0];if(i===void 0)throw new Error("printJS expects at least 1 attribute.");switch(r(i)){case"string":o.printable=encodeURI(i),o.fallbackPrintable=o.printable,o.type=arguments[1]||o.type;break;case"object":o.printable=i.printable,o.fallbackPrintable=typeof i.fallbackPrintable<"u"?i.fallbackPrintable:o.printable,o.fallbackPrintable=o.base64?"data:application/pdf;base64,".concat(o.fallbackPrintable):o.fallbackPrintable;for(var b in o)b==="printable"||b==="fallbackPrintable"||(o[b]=typeof i[b]<"u"?i[b]:o[b]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+r(i))}if(!o.printable)throw new Error("Missing printable information.");if(!o.type||typeof o.type!="string"||m.indexOf(o.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");o.showModal&&p.default.show(o),o.onLoadingStart&&o.onLoadingStart();var O=document.getElementById(o.frameId);O&&O.parentNode.removeChild(O);var g=document.createElement("iframe");switch(a.default.isFirefox()?g.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):g.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),g.setAttribute("id",o.frameId),o.type!=="pdf"&&(g.srcdoc="<html><head><title>"+o.documentTitle+"</title>",o.css&&(Array.isArray(o.css)||(o.css=[o.css]),o.css.forEach(function(B){g.srcdoc+='<link rel="stylesheet" href="'+B+'">'})),g.srcdoc+="</head><body></body></html>"),o.type){case"pdf":if(a.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var I=window.open(o.fallbackPrintable,"_blank");I.focus(),o.onIncompatibleBrowser()}catch(B){o.onError(B)}finally{o.showModal&&p.default.close(),o.onLoadingEnd&&o.onLoadingEnd()}else d.default.print(o,g);break;case"image":l.default.print(o,g);break;case"html":v.default.print(o,g);break;case"raw-html":c.default.print(o,g);break;case"json":n.default.print(o,g);break}}}},"./src/js/json.js":function(s,f,t){t.r(f);var a=t("./src/js/functions.js"),p=t("./src/js/print.js");function d(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(n){return typeof n}:d=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d(c)}f.default={print:function(l,n){if(d(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(r){return{field:d(r)==="object"?r.field:r,displayName:d(r)==="object"?r.displayName:r,columnSize:d(r)==="object"&&r.columnSize?r.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(a.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=v(l),p.default.send(l,n)}};function v(c){var l=c.printable,n=c.properties,r='<table style="border-collapse: collapse; width: 100%;">';c.repeatTableHeader&&(r+="<thead>"),r+="<tr>";for(var m=0;m<n.length;m++)r+='<th style="width:'+n[m].columnSize+";"+c.gridHeaderStyle+'">'+Object(a.capitalizePrint)(n[m].displayName)+"</th>";r+="</tr>",c.repeatTableHeader&&(r+="</thead>"),r+="<tbody>";for(var u=0;u<l.length;u++){r+="<tr>";for(var o=0;o<n.length;o++){var i=l[u],b=n[o].field.split(".");if(b.length>1)for(var O=0;O<b.length;O++)i=i[b[O]];else i=i[n[o].field];r+='<td style="width:'+n[o].columnSize+c.gridStyle+'">'+i+"</td>"}r+="</tr>"}return r+="</tbody></table>",r}},"./src/js/modal.js":function(s,f,t){t.r(f);var a={show:function(d){var v="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",c=document.createElement("div");c.setAttribute("style",v),c.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var n=document.createElement("div");n.setAttribute("class","printClose"),n.setAttribute("id","printClose"),l.appendChild(n);var r=document.createElement("span");r.setAttribute("class","printSpinner"),l.appendChild(r);var m=document.createTextNode(d.modalMessage);l.appendChild(m),c.appendChild(l),document.getElementsByTagName("body")[0].appendChild(c),document.getElementById("printClose").addEventListener("click",function(){a.close()})},close:function(){var d=document.getElementById("printJS-Modal");d&&d.parentNode.removeChild(d)}};f.default=a},"./src/js/pdf.js":function(s,f,t){t.r(f);var a=t("./src/js/print.js"),p=t("./src/js/functions.js");f.default={print:function(c,l){if(c.base64){var n=Uint8Array.from(atob(c.printable),function(m){return m.charCodeAt(0)});d(c,l,n);return}c.printable=/^(blob|http|\/\/)/i.test(c.printable)?c.printable:window.location.origin+(c.printable.charAt(0)!=="/"?"/"+c.printable:c.printable);var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("error",function(){Object(p.cleanUp)(c),c.onError(r.statusText,r)}),r.addEventListener("load",function(){if([200,201].indexOf(r.status)===-1){Object(p.cleanUp)(c),c.onError(r.statusText,r);return}d(c,l,r.response)}),r.open("GET",c.printable,!0),r.send()}};function d(v,c,l){var n=new window.Blob([l],{type:"application/pdf"});n=window.URL.createObjectURL(n),c.setAttribute("src",n),a.default.send(v,c)}},"./src/js/print.js":function(s,f,t){t.r(f);var a=t("./src/js/browser.js"),p=t("./src/js/functions.js"),d={send:function(r,m){document.getElementsByTagName("body")[0].appendChild(m);var u=document.getElementById(r.frameId);u.onload=function(){if(r.type==="pdf"){a.default.isFirefox()?setTimeout(function(){return v(u,r)},1e3):v(u,r);return}var o=u.contentWindow||u.contentDocument;if(o.document&&(o=o.document),o.body.appendChild(r.printableElement),r.type!=="pdf"&&r.style){var i=document.createElement("style");i.innerHTML=r.style,o.head.appendChild(i)}var b=o.getElementsByTagName("img");b.length>0?c(Array.from(b)).then(function(){return v(u,r)}):v(u,r)}}};function v(n,r){try{if(n.focus(),a.default.isEdge()||a.default.isIE())try{n.contentWindow.document.execCommand("print",!1,null)}catch{n.contentWindow.print()}else n.contentWindow.print()}catch(m){r.onError(m)}finally{a.default.isFirefox()&&(n.style.visibility="hidden",n.style.left="-1px"),Object(p.cleanUp)(r)}}function c(n){var r=n.map(function(m){if(m.src&&m.src!==window.location.href)return l(m)});return Promise.all(r)}function l(n){return new Promise(function(r){var m=function u(){!n||typeof n.naturalWidth>"u"||n.naturalWidth===0||!n.complete?setTimeout(u,500):r()};m()})}f.default=d},"./src/js/raw-html.js":function(s,f,t){t.r(f);var a=t("./src/js/print.js");f.default={print:function(d,v){d.printableElement=document.createElement("div"),d.printableElement.setAttribute("style","width:100%"),d.printableElement.innerHTML=d.printable,a.default.send(d,v)}}},"./src/sass/index.scss":function(s,f,t){},0:function(s,f,t){s.exports=t("./src/index.js")}}).default})})(ee);const E=P=>(J("data-v-62f7495b"),P=P(),Z(),P),te=E(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),ne=["onSubmit"],oe=E(()=>e("span",{for:"responsible"},"Responsable",-1)),re=E(()=>e("span",{for:"reason"},"Razón",-1)),le=E(()=>e("h3",null,[e("b",null,"Cancelar Orden")],-1)),se=["onSubmit"],ie=E(()=>e("span",{class:"advert",style:{"text-transform":"lowercase",color:"red","font-weight":"bold"}}," Desde el 16 de mayo de 2024, la cancelación de órdenes requerirá autorización.",-1)),ae=E(()=>e("span",{for:"responsible"},"Responsable",-1)),de=E(()=>e("span",{for:"reason"},"Razón",-1)),ce={style:{"text-transform":"capitalize"}},ue={class:"col-12 mb-0 pb-0 px-0 m-0",style:{display:"flex","justify-content":"space-between",gap:"1rem"}},fe={id:"factura",style:{width:"100%"}},pe={class:"",style:{width:"auto",color:"black"}},be=E(()=>e("br",null,null,-1)),ye=E(()=>e("b",null,"responsable",-1)),me=E(()=>e("br",null,null,-1)),he=E(()=>e("b",null,"Razon",-1)),_e={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},ve={class:"",id:"id",style:{"font-weight":"bold","min-width":"100%",width:"max-content","text-align":"center",color:"black",margin:"0rem"}},ge={style:{padding:"0",color:"black",margin:"auto","margin-bottom":"1rem",width:"max-content","min-width":"max-content"}},we=E(()=>e("div",{class:"",style:{"font-weight":"bold",color:"white",margin:"0","background-color":"black","align-items":"center",display:"grid","grid-template-columns":"auto auto"}},[e("div",{style:{width:"100%"}},[e("b",null," productos")]),e("div",null,[e("p",{style:{"text-align":"end","font-weight":"bold"}},[e("b",null," total ")])])],-1)),xe={style:{display:"grid","grid-template-columns":"auto auto"}},Ee={style:{"text-align":"end",color:"black"}},Oe=E(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),Se={style:{"background-color":"black","font-weight":"bold",color:"white",width:"100%",margin:"0"}},Pe={style:{display:"grid","grid-template-columns":"auto 20%","align-items":"center"}},je={style:{"text-align":"end",color:"black"}},Me=E(()=>e("div",{style:{"background-color":"rgba(0, 0, 0, 0.286)",height:"1px"}},null,-1)),Ce={class:"",style:{display:"grid",color:"","margin-top":"0.5rem","grid-template-columns":"auto auto"}},De=E(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Subtotal")])],-1)),Ie={class:""},Te={style:{"text-align":"end","font-weight":"bold",color:"black"}},Ae=E(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold"}},[e("b",null,"Domicilio")])],-1)),Le={class:""},Be={style:{"text-align":"end","font-weight":"bold",color:"black"}},$e=E(()=>e("div",{class:""},[e("span",{style:{"font-weight":"bold",color:"black"}},[e("b",null,"Total")])],-1)),Re={class:""},Ue={style:{"text-align":"end",color:"black","font-weight":"bold"}},ke=E(()=>e("div",{class:""},null,-1)),Ne=E(()=>e("p",{style:{"font-weight":"bold","background-color":"black",color:"white",padding:"0",margin:"0","margin-top":"0.5rem"}},[e("b",null,"Notas")],-1)),Ve={class:"notas",style:{border:"1px solid",margin:"0",color:"black",padding:"0.5rem"}},We=E(()=>e("p",{style:{"background-color":"black","font-weight":"bold","margin-top":"1rem",color:"white"}},[e("b",null,"cliente")],-1)),ze={style:{display:"grid","grid-template-columns":"auto auto"}},He=E(()=>e("div",{class:"",style:{}},[e("span",null,[e("b",null,"NOMBRE")])],-1)),Ke={class:""},Fe={style:{"text-align":"end",color:"black"}},Je=E(()=>e("div",{style:{}},[e("span",null,[e("b",null,"telefono")])],-1)),Ze={style:{"text-align":"end",color:"black"}},Ge=E(()=>e("div",{style:{}},[e("span",null,[e("b",null,"direccion ")])],-1)),Xe={style:{"text-align":"end",color:"black"}},Ye=E(()=>e("div",null,[e("span",null,[e("b",null,"metodo de pago")])],-1)),Qe={style:{"text-align":"end",color:"black"}},qe={__name:"DialogoPedido",setup(P){const j=L(!1),s=H(),f=l=>{const n=new Date(l),r=n.getHours(),m=n.getMinutes(),u=r>=12?"pm":"am",o=r%12||12,i=o<10?"0"+o:o,b=m<10?"0"+m:m;return`${i}:${b} ${u}`},t=async()=>{var n;const l={order_id:s.currentOrder.order_id,responsible:(n=d.value.responsible)==null?void 0:n.name,reason:d.value.reason};await k.create_cancellling_request(l),j.value=!1,s.Notification.pause(),s.Notification.currentTime=0},a=L(!1);z(async()=>{s.currentOrder.value=s.currentOrder});const p=L(!1),d=L({responsible:null,reason:"Sin razon"}),v=L([{name:"Restaurante",value:"restaurant"},{name:"Cliente",value:"client"}]),c=()=>{d.value.responsible&&k.cancelOrder(s.currentOrder.order_id,d.value.reason,d.value.responsible.name).then(l=>{l&&(p.value=!1,console.log("Order canceled successfully"))}).catch(l=>{console.error("Failed to cancel order:",l)})};return(l,n)=>{const r=D("Dropdown"),m=D("Textarea"),u=D("Button"),o=D("Dialog");return _(),w("div",null,[x(o,{visible:p.value,"onUpdate:visible":n[2]||(n[2]=i=>p.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:M(()=>[te]),default:M(()=>[e("form",{onSubmit:K(c,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[oe,x(r,{style:{width:"100%"},id:"responsible",modelValue:d.value.responsible,"onUpdate:modelValue":n[0]||(n[0]=i=>d.value.responsible=i),options:v.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),re,x(m,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:d.value.reason,"onUpdate:modelValue":n[1]||(n[1]=i=>d.value.reason=i),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),x(u,{style:{width:"100%","border-radius":"0.5rem"},label:"cancelar",type:"submit",class:"p-button-danger"})],40,ne)]),_:1},8,["visible"]),x(o,{visible:j.value,"onUpdate:visible":n[5]||(n[5]=i=>j.value=i),closeOnEscape:"",closable:!0,modal:"",style:{width:"30rem"}},{header:M(()=>[le]),default:M(()=>[e("form",{onSubmit:K(t,["prevent"]),style:{display:"flex",gap:"1rem","flex-direction":"column","align-items":"start"}},[ie,ae,x(r,{style:{width:"100%"},id:"responsible",modelValue:d.value.responsible,"onUpdate:modelValue":n[3]||(n[3]=i=>d.value.responsible=i),options:v.value,optionLabel:"name",placeholder:"Selecciona un responsable"},null,8,["modelValue","options"]),de,x(m,{style:{resize:"none","text-transform":"lowercase",width:"100%"},id:"reason",modelValue:d.value.reason,"onUpdate:modelValue":n[4]||(n[4]=i=>d.value.reason=i),rows:"5",placeholder:"Escribe la razón de la cancelación"},null,8,["modelValue"]),x(u,{style:{width:"100%","border-radius":"0.5rem"},label:"solicitar cancelacion",type:"submit",class:"p-button-danger"})],40,se)]),_:1},8,["visible"]),x(o,{closable:!1,style:{width:"30rem"},modal:"",visible:a.value,"onUpdate:visible":n[8]||(n[8]=i=>a.value=i)},{footer:M(()=>[e("div",ue,[x(u,{text:"",size:"small",onClick:n[6]||(n[6]=()=>{y(k).deliveryZero(y(s).currentOrder.order_id),a.value=!1}),style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"si"}),x(u,{onClick:n[7]||(n[7]=i=>a.value=!1),size:"small",style:{"border-radius":"0.3rem",width:"100%"},severity:"danger",label:"no"})])]),default:M(()=>[e("span",ce,[S(" Esta seguro de llevar a $0.00 el valor del domicilio para la orden "),e("b",null,h(y(s).currentOrder.order_id),1),S(" del cliente "),e("b",null,h(y(s).currentOrder.user_name),1),S("? ")])]),_:1},8,["visible"]),x(o,{class:"mx-3",closeOnEscape:"",closable:!1,visible:y(s).visibles.currentOrder,"onUpdate:visible":n[10]||(n[10]=i=>y(s).visibles.currentOrder=i),modal:"",style:{"max-height":"95vh",width:"35rem",position:"relative"}},{default:M(()=>{var i;return[e("div",fe,[e("div",pe,[y(s).currentOrder.current_status=="enviada"?(_(),w("p",{key:0,class:$(["text-2xl estado",y(s).currentOrder.current_status]),style:{"text-transform":"lowercase"}}," El pedido fue enviado al domicilio del cliente a las "+h(f(y(s).currentOrder.latest_status_timestamp)),3)):C("",!0),y(s).currentOrder.current_status=="cancelada"?(_(),w("p",{key:1,class:$(["text-2xl estado",y(s).currentOrder.current_status]),style:{"text-transform":"lowercase"}},[S(" El pedido fue cancelado a las "+h(f(y(s).currentOrder.latest_status_timestamp))+" ",1),be,ye,S(": "+h(y(s).currentOrder.responsible)+" ",1),me,he,S(": "+h(y(s).currentOrder.reason),1)],2)):C("",!0),y(s).currentOrder.current_status=="en preparacion"?(_(),w("p",{key:2,class:$(["text-2xl estado",y(s).currentOrder.current_status]),style:{"text-transform":"lowercase"}}," El pedido esta en preparacion desde las "+h(f(y(s).currentOrder.latest_status_timestamp))+" y ser'a enviada en breve ",3)):C("",!0),y(s).currentOrder.current_status=="generada"?(_(),w("p",{key:3,class:$(["text-2xl estado",y(s).currentOrder.current_status]),style:{"text-transform":"lowercase"}}," Hemos recibido su pedido a las "+h(f(y(s).currentOrder.latest_status_timestamp))+" y empezaremos a prepararlo en breve, gracias por su espera ",3)):C("",!0),y(s).currentOrder.current_status?C("",!0):(_(),w("p",{key:4,class:$(["text-2xl estado",y(s).currentOrder.current_status]),style:{"text-transform":"lowercase"}}," Este pedido no existe en nuestra base de datos ",2)),e("p",_e," ID:"+h(y(s).currentOrder.order_id),1),e("p",ve,h(y(s).currentOrder.user_name),1),e("p",ge,[e("b",null," fecha: "+h((i=y(s).currentOrder.latest_status_timestamp)==null?void 0:i.split("T")[0]),1)]),we,(_(!0),w(T,null,A(y(s).currentOrder.products,b=>(_(),w("div",null,[e("div",xe,[e("p",null,h(b.quantity)+" "+h(b.name),1),e("div",null,[e("p",Ee,h(y(U)(b.total_price)),1)])]),Oe]))),256)),(_(!0),w(T,null,A(y(s).currentOrder.additional_items,(b,O)=>(_(),w("div",{s:"",key:O,style:{position:"relative","margin-top":"0.5rem"}},[e("p",Se,[e("b",null,h(O),1)]),(_(!0),w(T,null,A(b,g=>(_(),w("div",null,[e("div",Pe,[e("div",null,[e("p",null,h(g.aditional_quantity)+" "+h(g.aditional_name),1)]),e("div",null,[e("p",je,h(y(U)(g.total_aditional_price)),1)])]),Me]))),256))]))),128)),e("div",Ce,[De,e("div",Ie,[e("p",Te,[e("b",null,h(y(U)(y(s).currentOrder.total_order_price)),1)])]),Ae,e("div",Le,[e("p",Be,[e("b",null,h(y(U)(y(s).currentOrder.delivery_price)),1)])]),$e,e("div",Re,[e("p",Ue,[e("b",null,h(y(U)(y(s).currentOrder.delivery_price+y(s).currentOrder.total_order_price)),1)])]),ke]),Ne,e("p",Ve,h(y(s).currentOrder.order_notes),1),We,e("div",ze,[He,e("div",Ke,[e("p",Fe,h(y(s).currentOrder.user_name),1)]),Je,e("div",null,[e("p",Ze,h(y(s).currentOrder.user_phone),1)]),Ge,e("div",null,[e("p",Xe,h(y(s).currentOrder.user_address),1)]),Ye,e("div",null,[e("p",Qe,h(y(s).currentOrder.payment_method),1)])])])]),x(u,{class:"shadow-4",onClick:n[9]||(n[9]=b=>y(s).setVisible("currentOrder",!1)),icon:"pi pi-times",rounded:"",severity:"danger",style:{position:"absolute",top:"-1rem","border-radius":"50%",right:"-1rem"}})]}),_:1},8,["visible"])])}}},et=F(qe,[["__scopeId","data-v-62f7495b"]]),tt={style:{display:"flex","align-items":"center","justify-content":"space-between"}},nt={style:{display:"flex","align-items":"center"}},ot={style:{"min-width":"max-content",color:"black"}},rt={style:{width:"3rem",height:"100%"}},lt={style:{position:"relative"}},st=["src"],it={style:{display:"flex",gap:"1rem","align-items":"center"}},at={style:{"min-width":"max-content",color:"black"}},dt={key:1,style:{"font-weight":"bold"}},ct=e("b",null,"RESPONSABLE:",-1),ut={key:4},ft=e("b",null,"OBSERVACIONES:",-1),N={__name:"OrderItem",props:{order:{type:Object,default:{}}},setup(P){const j=H(),s=()=>{j.setVisible("currentOrder",!0),j.setOrder(t.order)},f={generada:"warning","en preparacion":"info",enviada:"success",cancelada:"danger"},t=P;return(a,p)=>{var n,r,m,u,o,i;const d=D("Tag"),v=D("Button"),c=D("ProgressSpinner"),l=D("P");return _(),w("div",{onClick:s,class:"col-12",style:G([y(j).currentSearchingOrder.order_id==t.order.order_id?"border:3px solid var(--primary-color)":"",{"background-color":"rgba(255, 255, 255, 0.506)","border-radius":"0.5rem",cursor:"pointer"}])},[x(d,{class:"text-l",severity:t.order.user_phone=="1111111111"?"danger":"help"},{default:M(()=>[S(h(t.order.user_phone=="1111111111"?"ES UNA PRUEBA, RELAJATE":t.order.user_name),1)]),_:1},8,["severity"]),e("div",tt,[e("div",nt,[e("b",ot," #"+h((n=t.order)==null?void 0:n.order_id),1),(_(!0),w(T,null,A(t.order.products.slice(0,3),b=>(_(),w("div",rt,[e("div",lt,[e("img",{style:{width:"100%"},src:`https://backend.salchimonster.com/read-product-image/96/${b.name}`,alt:""},null,8,st),x(v,{severity:"danger",class:"p-0",rounded:"",label:b.quantity,style:{width:"1.5rem",position:"absolute",top:"-.5rem",right:"-.5rem","z-index":"99",height:"1.5rem","border-radius":"1rem"}},null,8,["label"])])]))),256))]),e("span",it,[e("b",at,h((i=(o=(u=(m=(r=t.order)==null?void 0:r.latest_status_timestamp)==null?void 0:m.split("T")[1])==null?void 0:u.split(".")[0])==null?void 0:o.split(":").slice(0,2))==null?void 0:i.join(":")),1),t.order.current_status!="en preparacion"?(_(),R(d,{key:0,severity:f[t.order.current_status]},{default:M(()=>[S(h(t.order.current_status),1)]),_:1},8,["severity"])):C("",!0),t.order.current_status=="en preparacion"?(_(),R(c,{key:1,style:{width:"50px",height:"50px"},strokeWidth:"8",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):C("",!0)])]),t.order.calcel_sol_state!=null?(_(),R(d,{key:0,severity:t.order.calcel_sol_state?"success":"danger"},{default:M(()=>[S(h(t.order.calcel_sol_state?"REVISADO":" EN REVISION..."),1)]),_:1},8,["severity"])):C("",!0),S(),t.order.calcel_sol_state?(_(),w("span",dt," Y ")):C("",!0),t.order.calcel_sol_state?(_(),R(d,{key:2,severity:t.order.calcel_sol_asnwer?"success":"danger"},{default:M(()=>[S(h(t.order.calcel_sol_asnwer?"APROBADO":"RECHAZADO"),1)]),_:1},8,["severity"])):C("",!0),t.order.calcel_sol_state?(_(),R(l,{key:3,class:"m-0"},{default:M(()=>{var b;return[ct,S(" "+h((b=t.order.cancelation_solve_responsible)==null?void 0:b.split(" ").slice(0,3).join(" ")),1)]}),_:1})):C("",!0),t.order.responsible_observation?(_(),w("span",ut,[e("p",null,[ft,S(" "+h(t.order.responsible_observation||"sin observaciones"),1)])])):C("",!0)],4)}}};const V=P=>(J("data-v-c8833b83"),P=P(),Z(),P),pt={class:"grid xl:mx-0 mx-0 py-0 mt-6 px-0"},bt={class:"col-12 py-0 px-2 shadow-2 my-0"},yt={class:""},mt={class:"pb-0 p-0",style:{display:"flex","flex-wrap":"wrap",gap:"1rem","list-style":"none","overflow-x":"auto"}},ht={style:{display:"flex",gap:"1rem"}},_t={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},vt={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#ffad53"}},gt={style:{height:"100%",width:"100%"}},wt=V(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-envelope text-2xl"}),S(" RECIBIDOS")])],-1)),xt={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},Et={class:"px-3 py-2"},Ot={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},St={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#8e3693"}},Pt={style:{height:"100%",width:"100%"}},jt=V(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-clock text-2xl"}),S(" EN PREPARACION")])],-1)),Mt={class:"lg:pb-8",style:{height:"100%","overflow-y":"auto"}},Ct={class:"px-3 py-2"},Dt={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},It={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"#00bf7a"}},Tt={class:"lg:pb-8",style:{height:"100%",width:"100%"}},At=V(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-send text-2xl"}),S(" ENVIADOS")])],-1)),Lt={style:{height:"100%","overflow-y":"auto"}},Bt={class:"px-3 py-2"},$t={class:"md:px-2 xl:pt-5 p-0 col-12 xl:col-4 top"},Rt={class:"shadow-4 contenedor pb-2",style:{overflow:"hidden","background-color":"red"}},Ut={class:"lg:pb-8",style:{height:"100%",width:"100%"}},kt=V(()=>e("p",{class:"col-12 text-center shadow-4",style:{"background-color":"#ffffff61"}},[e("span",{class:"text-center text-2xl",style:{color:"black","font-weight":"bold"}},[e("i",{class:"pi pi-times text-2xl"}),S(" CANCELADOS")])],-1)),Nt={style:{height:"100%","overflow-y":"auto"}},Vt={class:"px-3 py-2"},Wt={__name:"pedidos",setup(P){const j=L([]),s=H(),f=Q(),t=L(""),a=L("");z(()=>{s.startOrderUpdates()}),Y(()=>{s.stopOrderUpdates()}),z(async()=>{j.value=await q.getSites(),s.getTodayOrders()}),W(()=>f.site,()=>{s.getTodayOrders()}),W(t,()=>{a.value=""}),W(a,()=>{t.value=""});const p=()=>{var c;if(t.value!="")d(t.value);else if(a.value!="")v((c=a.value)==null?void 0:c.split(" ").join(""));else return},d=async c=>{const l=await k.getOrderById(c);l!=null&&l.order_id?(s.setVisible("currentOrder",!0),s.setOrder(l),f.site=j.value.filter(n=>n.site_id==l.site_id)[0],s.currentSearchingOrder=l):alert("Orden no encontrada")},v=async c=>{const l=await k.getOrderByPhone(c);l!=null&&l.order_id?(s.setVisible("currentOrder",!0),s.setOrder(l),f.site=j.value.filter(n=>n.site_id==l.site_id)[0],s.currentSearchingOrder=l):alert("Orden no encontrada")};return(c,l)=>{const n=D("Button"),r=D("InputText"),m=D("InputMask");return _(),w("div",pt,[e("div",bt,[e("nav",yt,[e("ul",mt,[(_(!0),w(T,null,A(j.value.filter(u=>u.show_on_web),u=>(_(),w("li",null,[x(n,{class:"p-2 mb-2",onClick:o=>y(f).site=u,style:G([y(f).site.site_id==u.site_id?"box-shadow:0 5px 0px var(--primary-color)":"",{"min-width":"max-content","border-radius":"0",color:"black"}]),text:"",label:u.site_name},null,8,["onClick","style","label"])]))),256)),e("li",ht,[x(r,{style:{},modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u),modelModifiers:{trim:!0},placeholder:"Buscar por id (sin #)"},null,8,["modelValue"]),S(),x(m,{modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=u=>a.value=u),prefix:"+57",id:"basic",mask:"999 999 9999",placeholder:"Buscar por telefono"},null,8,["modelValue"]),x(n,{onClick:l[2]||(l[2]=u=>p()),severity:"help",icon:"pi pi-search",label:"Buscar"})])])])]),x(et),e("div",_t,[e("div",vt,[e("div",gt,[wt,e("div",xt,[(_(!0),w(T,null,A(y(s).TodayOrders.filter(u=>u.current_status=="generada"),u=>(_(),w("div",Et,[x(N,{order:u},null,8,["order"])]))),256))])])])]),e("div",Ot,[e("div",St,[e("div",Pt,[jt,e("div",Mt,[(_(!0),w(T,null,A(y(s).TodayOrders.filter(u=>u.current_status=="en preparacion"),u=>(_(),w("div",Ct,[x(N,{order:u},null,8,["order"])]))),256))])])])]),e("div",Dt,[e("div",It,[e("div",Tt,[At,e("div",Lt,[(_(!0),w(T,null,A(y(s).TodayOrders.filter(u=>u.current_status=="enviada"),u=>(_(),w("div",Bt,[x(N,{order:u},null,8,["order"])]))),256))])])])]),e("div",$t,[e("div",Rt,[e("div",Ut,[kt,e("div",Nt,[(_(!0),w(T,null,A(y(s).TodayOrders.filter(u=>u.current_status=="cancelada"),u=>(_(),w("div",Vt,[x(N,{order:u},null,8,["order"])]))),256))])])])])])}}},Jt=F(Wt,[["__scopeId","data-v-c8833b83"]]);export{Jt as default};
