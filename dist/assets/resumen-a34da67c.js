<<<<<<<< HEAD:dist/assets/resumen-ecc2df60.js
import{f as v}from"./formatoPesos-2a38d2e7.js";import{a as P,u as O}from"./site-56a3b9c0.js";import{l as $,j,U as z,i as D,_ as F,r as I,v as T,h as E,k as H,a as B,o as r,c as d,b as e,F as A,e as N,t as l,q as L,u as s,m as M,s as G,f as w,w as R,d as V,p as J,g as K}from"./index-a1098956.js";import{u as U}from"./user-98c777f6.js";import{u as Q}from"./ventas-5d71f542.js";const S=Q(),x=P(),C=O(),b=U(),W=$(),X=()=>{var i,a,y,p;const t=W.rawUserData.id;x.sending_order=!0;const o=x.cart.products.map(h=>({product_instance_id:h.product.id,quantity:h.quantity})),n=x.cart.additions.map(h=>({aditional_item_instance_id:h.id,quantity:h.quantity})),_=C.location.site.site_id,c=(i=b.user.payment_method_option)==null?void 0:i.id,q=c===7?0:C.location.neigborhood.delivery_price,f=x.cart.order_notes,k={user_name:b.user.name,user_phone:(a=b.user.phone_number)==null?void 0:a.split(" ").join(""),user_address:` ${b.user.address} ${(p=(y=C.location)==null?void 0:y.neigborhood)==null?void 0:p.name}`||""};return{order_products:o,site_id:_,delivery_person_id:4,payment_method_id:c,delivery_price:q,order_notes:f||"SIN NOTAS",user_data:k,order_aditionals:n,inserted_by:t}},Y={async sendOrder(){const t=X(),o=P();if(!Z(t))return o.sending_order=!1,null;try{S.setLoading(!0,`enviando tu pedido ${b.user.name}`);const n=await j.post(`${z}/order`,t);if(n.status===200)o.sending_order=!1,o.last_order=n.data,S.setLoading(!1,"enviando tu pedido"),D.push("/call-center-vender/gracias");else return console.error("An error occurred while sending the order:",n.status),alert("An error occurred while sending the order. Please try again."),S.setLoading(!1,"enviando tu pedido"),o.sending_order=!1,null}catch(n){return console.error("An error occurred while sending the order:",n),S.setLoading(!1,"enviando tu pedido"),o.sending_order=!1,alert("An error occurred while sending the order. Please check your internet connection and try again."),o.sending_order=!1,null}}};function Z(t){const o=P();return t.order_products.every(n=>n.product_instance_id&&n.quantity)?!t.user_data.user_name||t.user_data.user_name.trim()==""||!t.user_data.user_phone||t.user_data.user_phone.trim()==""||!t.user_data.user_address||t.user_data.user_address.trim()==""?(alert("Sus datos estan incompletos por favor reviselos"),o.sending_order=!1,!1):!t.site_id||t.delivery_price==null?(alert("Site information is missing. Please select a valid site."),o.sending_order=!1,!1):!0:(alert("Some products in your cart are missing details."),o.sending_order=!1,!1)}const m=t=>(J("data-v-7097daac"),t=t(),K(),t),ee={class:"p-1 my-5 md:my-0 col-12"},te={style:{position:"sticky",top:"6rem","border-radius":"0.5rem","z-index":"","background-color":"white"},class:"col-12 p-3 p-shadow m-0"},se=m(()=>e("h5",null,[e("b",null,"Resumen")],-1)),oe=m(()=>e("h5",null,[e("b",null,"productos")],-1)),re={class:"grid mb-0 pb-0"},ne={class:"col-6 py-2 mb-1"},ie={style:{"min-width":"3rem"}},ae={class:"col-6 my-0 text-right py-2"},de={class:"col-12 p-0 mt-1"},le={class:"mb-0"},ce={class:"mb-1 text-center"},ue={style:{display:"flex",width:"100%",gap:"1rem","justify-content":"space-between"}},_e={class:"text adicion",style:{"text-transform":""}},pe={key:0,class:"pl-2 text-sm"},he=m(()=>e("hr",{class:"p-0 mt-2"},null,-1)),me={class:"grid"},ye=m(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),ge={class:"col-6 my-0 text-right py-0"},ve={class:"col-6 my-0 py-0"},be=m(()=>e("b",null,"Domicilio",-1)),fe=[be],ke={class:"col-6 my-0 text-right py-0"},we={key:0,style:{color:"var(--primary-color)"}},Se=m(()=>e("b",null,"Recoger en local",-1)),xe=[Se],Pe={key:1},qe=m(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Total")])],-1)),Ae={class:"col-6 my-0 text-right py-0"},Ne={__name:"resumen",setup(t){const o=I(!1),n=T(),_=P(),c=O(),q=U(),f=I({}),k=()=>{f.value=_.cart.additions.reduce((u,i)=>{let a=i.group;return u[a]||(u[a]=[]),u[a].push(i),u},{})};return E(()=>{var u,i;k(),((i=(u=q.user)==null?void 0:u.payment_method_option)==null?void 0:i.id)!=7?c.setNeighborhoodPrice():c.setNeighborhoodPriceCero()}),H(()=>_.cart.additions,()=>{k()},{deep:!0}),(u,i)=>{const a=B("router-link"),y=B("Button");return r(),d("div",ee,[e("div",te,[se,oe,(r(!0),d(A,null,N(s(_).cart.products,p=>(r(),d("div",re,[e("div",ne,[e("span",null,[e("span",ie,[e("b",null,l(p.quantity),1)]),L(" "+l(p.product.product_name),1)])]),e("div",ae,[e("span",null,l(s(v)(p.total_cost)),1)])]))),256)),e("div",de,[(r(!0),d(A,null,N(f.value,(p,h)=>(r(),d("div",{class:"p-0 mb-2",key:h,style:{position:"relative","border-radius":"0.3rem"}},[e("div",le,[e("span",ce,[e("b",null,l(h),1)]),(r(!0),d(A,null,N(p,g=>(r(),d("div",{key:g.aditional_item_instance_id,style:{display:"flex",gap:"1rem","align-items":"center"}},[e("div",ue,[e("span",_e,[e("span",null,[e("b",null,l(g.quantity),1)]),L(" "+l(g.name),1)]),g.price>0?(r(),d("span",pe,[e("b",null,l(s(v)(g.price*g.quantity)),1)])):M("",!0)])]))),128))])]))),128))]),he,e("div",me,[ye,e("div",ge,[e("span",null,[e("b",null,l(s(v)(s(_).cart.total_cost)),1)])]),e("div",ve,[e("span",{style:G(s(c).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},fe,4)]),e("div",ke,[s(c).location.neigborhood.delivery_price==0?(r(),d("span",we,xe)):(r(),d("span",Pe,[e("b",null,l(s(v)(s(c).location.neigborhood.delivery_price)),1)]))]),qe,e("div",Ae,[e("span",null,[e("b",null,l(s(v)(s(_).cart.total_cost+s(c).location.neigborhood.delivery_price)),1)])])]),s(n).path.includes("cart")?(r(),w(a,{key:0,to:"/SALCHIPAPAS/3"})):(r(),w(a,{key:1,to:"/call-center-vender/cart"},{default:R(()=>[V(y,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"mt-4",severity:"danger",style:{outline:"none",width:"100%","font-weight":"bold","background-color":"rgba(0, 0, 0, 0)"}})]),_:1})),s(n).path.includes("cart")?(r(),w(a,{key:2,to:"/call-center-vender/pay"},{default:R(()=>[V(y,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}})]),_:1})):(r(),w(y,{key:3,disabled:s(_).sending_order,onClick:i[0]||(i[0]=()=>{s(Y).sendOrder(),o.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}},null,8,["disabled"]))])])}}},Ve=F(Ne,[["__scopeId","data-v-7097daac"]]);export{Ve as r};
========
import{f as v}from"./formatoPesos-2a38d2e7.js";import{a as P,u as O}from"./site-5149b83f.js";import{l as $,j,U as z,i as D,_ as F,r as I,v as T,h as E,k as H,a as B,o as r,c as d,b as e,F as A,e as N,t as l,q as L,u as s,m as M,s as G,f as w,w as R,d as V,p as J,g as K}from"./index-1a945cfc.js";import{u as U}from"./user-be128dc8.js";import{u as Q}from"./ventas-1c07b28d.js";const S=Q(),x=P(),C=O(),b=U(),W=$(),X=()=>{var i,a,y,p;const t=W.rawUserData.id;x.sending_order=!0;const o=x.cart.products.map(h=>({product_instance_id:h.product.id,quantity:h.quantity})),n=x.cart.additions.map(h=>({aditional_item_instance_id:h.id,quantity:h.quantity})),_=C.location.site.site_id,c=(i=b.user.payment_method_option)==null?void 0:i.id,q=c===7?0:C.location.neigborhood.delivery_price,f=x.cart.order_notes,k={user_name:b.user.name,user_phone:(a=b.user.phone_number)==null?void 0:a.split(" ").join(""),user_address:` ${b.user.address} ${(p=(y=C.location)==null?void 0:y.neigborhood)==null?void 0:p.name}`||""};return{order_products:o,site_id:_,delivery_person_id:4,payment_method_id:c,delivery_price:q,order_notes:f||"SIN NOTAS",user_data:k,order_aditionals:n,inserted_by:t}},Y={async sendOrder(){const t=X(),o=P();if(!Z(t))return o.sending_order=!1,null;try{S.setLoading(!0,`enviando tu pedido ${b.user.name}`);const n=await j.post(`${z}/order`,t);if(n.status===200)o.sending_order=!1,o.last_order=n.data,S.setLoading(!1,"enviando tu pedido"),D.push("/call-center-vender/gracias");else return console.error("An error occurred while sending the order:",n.status),alert("An error occurred while sending the order. Please try again."),S.setLoading(!1,"enviando tu pedido"),o.sending_order=!1,null}catch(n){return console.error("An error occurred while sending the order:",n),S.setLoading(!1,"enviando tu pedido"),o.sending_order=!1,alert("An error occurred while sending the order. Please check your internet connection and try again."),o.sending_order=!1,null}}};function Z(t){const o=P();return t.order_products.every(n=>n.product_instance_id&&n.quantity)?!t.user_data.user_name||t.user_data.user_name.trim()==""||!t.user_data.user_phone||t.user_data.user_phone.trim()==""||!t.user_data.user_address||t.user_data.user_address.trim()==""?(alert("Sus datos estan incompletos por favor reviselos"),o.sending_order=!1,!1):!t.site_id||t.delivery_price==null?(alert("Site information is missing. Please select a valid site."),o.sending_order=!1,!1):!0:(alert("Some products in your cart are missing details."),o.sending_order=!1,!1)}const m=t=>(J("data-v-7097daac"),t=t(),K(),t),ee={class:"p-1 my-5 md:my-0 col-12"},te={style:{position:"sticky",top:"6rem","border-radius":"0.5rem","z-index":"","background-color":"white"},class:"col-12 p-3 p-shadow m-0"},se=m(()=>e("h5",null,[e("b",null,"Resumen")],-1)),oe=m(()=>e("h5",null,[e("b",null,"productos")],-1)),re={class:"grid mb-0 pb-0"},ne={class:"col-6 py-2 mb-1"},ie={style:{"min-width":"3rem"}},ae={class:"col-6 my-0 text-right py-2"},de={class:"col-12 p-0 mt-1"},le={class:"mb-0"},ce={class:"mb-1 text-center"},ue={style:{display:"flex",width:"100%",gap:"1rem","justify-content":"space-between"}},_e={class:"text adicion",style:{"text-transform":""}},pe={key:0,class:"pl-2 text-sm"},he=m(()=>e("hr",{class:"p-0 mt-2"},null,-1)),me={class:"grid"},ye=m(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Subtotal")])],-1)),ge={class:"col-6 my-0 text-right py-0"},ve={class:"col-6 my-0 py-0"},be=m(()=>e("b",null,"Domicilio",-1)),fe=[be],ke={class:"col-6 my-0 text-right py-0"},we={key:0,style:{color:"var(--primary-color)"}},Se=m(()=>e("b",null,"Recoger en local",-1)),xe=[Se],Pe={key:1},qe=m(()=>e("div",{class:"col-6 my-0 py-0"},[e("span",null,[e("b",null,"Total")])],-1)),Ae={class:"col-6 my-0 text-right py-0"},Ne={__name:"resumen",setup(t){const o=I(!1),n=T(),_=P(),c=O(),q=U(),f=I({}),k=()=>{f.value=_.cart.additions.reduce((u,i)=>{let a=i.group;return u[a]||(u[a]=[]),u[a].push(i),u},{})};return E(()=>{var u,i;k(),((i=(u=q.user)==null?void 0:u.payment_method_option)==null?void 0:i.id)!=7?c.setNeighborhoodPrice():c.setNeighborhoodPriceCero()}),H(()=>_.cart.additions,()=>{k()},{deep:!0}),(u,i)=>{const a=B("router-link"),y=B("Button");return r(),d("div",ee,[e("div",te,[se,oe,(r(!0),d(A,null,N(s(_).cart.products,p=>(r(),d("div",re,[e("div",ne,[e("span",null,[e("span",ie,[e("b",null,l(p.quantity),1)]),L(" "+l(p.product.product_name),1)])]),e("div",ae,[e("span",null,l(s(v)(p.total_cost)),1)])]))),256)),e("div",de,[(r(!0),d(A,null,N(f.value,(p,h)=>(r(),d("div",{class:"p-0 mb-2",key:h,style:{position:"relative","border-radius":"0.3rem"}},[e("div",le,[e("span",ce,[e("b",null,l(h),1)]),(r(!0),d(A,null,N(p,g=>(r(),d("div",{key:g.aditional_item_instance_id,style:{display:"flex",gap:"1rem","align-items":"center"}},[e("div",ue,[e("span",_e,[e("span",null,[e("b",null,l(g.quantity),1)]),L(" "+l(g.name),1)]),g.price>0?(r(),d("span",pe,[e("b",null,l(s(v)(g.price*g.quantity)),1)])):M("",!0)])]))),128))])]))),128))]),he,e("div",me,[ye,e("div",ge,[e("span",null,[e("b",null,l(s(v)(s(_).cart.total_cost)),1)])]),e("div",ve,[e("span",{style:G(s(c).location.neigborhood.delivery_price==0?"text-decoration: line-through;":"")},fe,4)]),e("div",ke,[s(c).location.neigborhood.delivery_price==0?(r(),d("span",we,xe)):(r(),d("span",Pe,[e("b",null,l(s(v)(s(c).location.neigborhood.delivery_price)),1)]))]),qe,e("div",Ae,[e("span",null,[e("b",null,l(s(v)(s(_).cart.total_cost+s(c).location.neigborhood.delivery_price)),1)])])]),s(n).path.includes("cart")?(r(),w(a,{key:0,to:"/SALCHIPAPAS/3"})):(r(),w(a,{key:1,to:"/call-center-vender/cart"},{default:R(()=>[V(y,{outlined:"",icon:"pi pi-arrow-left",label:"Volver al carrito",class:"mt-4",severity:"danger",style:{outline:"none",width:"100%","font-weight":"bold","background-color":"rgba(0, 0, 0, 0)"}})]),_:1})),s(n).path.includes("cart")?(r(),w(a,{key:2,to:"/call-center-vender/pay"},{default:R(()=>[V(y,{iconPos:"right",icon:"pi pi-arrow-right",label:"Pedir",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}})]),_:1})):(r(),w(y,{key:3,disabled:s(_).sending_order,onClick:i[0]||(i[0]=()=>{s(Y).sendOrder(),o.value=!0}),iconPos:"right",icon:"pi pi-arrow-right",label:"Finalizar pedido",class:"mt-2",severity:"help",style:{outline:"none",width:"100%",border:"none","font-weight":"bold","background-color":"black"}},null,8,["disabled"]))])])}}},Ve=F(Ne,[["__scopeId","data-v-7097daac"]]);export{Ve as r};
>>>>>>>> f305ac0ac9b0c258999af462a4fb3e6cc20cc11f:dist/assets/resumen-a34da67c.js
