import{f as s,h as m,u as w,g as S,r as _,o as n,c as r,a as t,t as h,F as g,b,d as a,w as c,l as o,n as k,y as N,U as $,k as f,c5 as y,v as C}from"./index-7972d487.js";import{a as F}from"./dropDownAux-9e8ad17a.js";/* empty css                                                                  */import{s as B}from"./siteService-407aa805.js";const O="/images/files.jpg",R={class:"text-4xl text-center col-12 m-auto",style:{"font-weight":"bold","max-width":"900px",display:"flex","align-items":"center",gap:"1rem"}},V=t("div",{style:{"background-color":"#A855F7",height:"0.5rem","border-radius":"0 1rem 1rem 0",width:"100%"}},null,-1),j={style:{display:"flex","align-items":"center",gap:"1rem"}},I={class:"p-0",style:{"min-width":"max-content"}},z=t("div",{style:{"background-color":"#A855F7",height:"0.5rem","border-radius":"0 1rem 1rem 0",width:"100%"}},null,-1),D={class:"my-5 m-auto",style:{width:"100%",height:"100%",display:"flex","max-width":"800px"}},E={class:"p-3",style:{display:"flex",width:"100%","overflow-x":"auto",gap:"1rem"}},J=["onClick"],M=["src"],T={style:{"font-weight":"bold","min-width":"max-content"}},U={style:{"z-index":"99","max-width":"800px",display:"flex","align-items":"center","justify-content":"space-between"},class:"col-12 p-0 m-auto"},A={style:{"min-width":"max-content"}},L={class:"grid m-auto p-0 col-12",style:{"max-width":"1024px"}},q={key:0,class:"col-12",style:{opacity:"0.3",position:"",height:"60vh","object-fit":"cover"},src:O,alt:""},Y={__name:"ManageSite",setup(G){const u=s([]);m(()=>{B.getSites().then(e=>u.value=e)}),s({});const i=w(),d=s({});s(null),s(null),s(null),s(null),s(null),s(null),s(!1),s(null),s([]),m(()=>{F(i.params.site_id)}),m(()=>{const e=localStorage.getItem("currentSiteFiles");e&&(d.value=JSON.parse(e))}),S(()=>i.params.site_id,()=>{const e=localStorage.getItem("currentSiteFiles");e&&(d.value=JSON.parse(e))});const x=e=>{localStorage.setItem("currentSiteFiles",JSON.stringify(e)),C.push(`/site/${e.site_id}/documentos`)};return(e,H)=>{const p=_("Button"),v=_("RouterView");return n(),r(g,null,[t("div",R,[V,t("div",j,[t("p",I,h(d.value.site_name),1)]),z]),t("div",D,[t("div",E,[(n(!0),r(g,null,b(u.value,l=>(n(),r("div",{class:"p-1",style:N([{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"},o(i).params.site_id==l.site_id?"border-bottom: 6px solid red;":""])},[t("div",{onClick:K=>x(l),style:{cursor:"pointer",display:"flex","flex-direction":"column","align-items":"center"}},[t("img",{style:{width:"3rem","border-radius":"0.5rem","aspect-ratio":"1 / 1","object-fit":"cover"},src:`${o($)}/read-product-image/96/site-${l.site_id}`},null,8,M),t("p",T,h(l.site_name),1)],8,J)],4))),256))])]),t("div",U,[t("div",A,[a(o(y),{to:`/site/${o(i).params.site_id}/documentos`},{default:c(()=>[a(p,{size:"small",class:"mr-3 p-button-help",style:{"font-weight":"bold"}},{default:c(()=>[f(" DOCUMENTOS")]),_:1})]),_:1},8,["to"]),a(o(y),{to:`/site/${o(i).params.site_id}/recibos`,style:{"border-radius":""}},{default:c(()=>[a(p,{size:"small",class:"p-button-warning",style:{"font-weight":"bold"}},{default:c(()=>[f(" RECIBOS")]),_:1})]),_:1},8,["to"])])]),t("div",L,[!e.$route.path.includes("recibos")&&!e.$route.path.includes("documentos")?(n(),r("img",q)):k("",!0),a(v)])],64)}}};export{Y as default};
