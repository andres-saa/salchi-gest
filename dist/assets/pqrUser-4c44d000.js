import{L as j,z as q,U as c,_ as H,r as a,A as J,i as K,j as E,a as p,o as d,e as O,w as Q,u as U,b as l,g as r,m as T,t as W,c as _,f as m,p as X,h as Y}from"./index-e163c2a5.js";j();const n=i=>(X("data-v-5084726c"),i=i(),Y(),i),Z={style:{height:"auto",color:"black","background-color":"white",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},ee=n(()=>l("h4",null,"Hemos recibido su solicitud y ha quedado registrada con el id ",-1)),oe=n(()=>l("br",null,null,-1)),le={class:"text-center",style:{width:"auto","font-size":"3rem"}},te={style:{height:"auto",color:"black",display:"flex","flex-direction":"column","justify-content":"end","align-items":"center"}},se=n(()=>l("br",null,null,-1)),ae=n(()=>l("b",null,[l("p",{class:"text-center",style:{width:"auto","font-size":"3rem"}}," Listo")],-1)),re={class:"container mt-0 col-12 p-0",style:{"max-width":"",margin:"auto"}},ne={class:"form",style:{width:"100%",display:"flex","flex-direction":"column",gap:"1rem"}},ie={class:"input"},ue=n(()=>l("h5",{class:"field"},"Medio",-1)),de={class:"input"},ce=n(()=>l("h5",{class:"field"},"Categoria",-1)),ve={key:0,class:"input p-3",style:{"background-color":"#00f3ff29"}},pe=n(()=>l("h5",{class:"field"},"Califícanos",-1)),_e={key:1,class:"input"},me=n(()=>l("h5",{class:"field"},"Sede",-1)),he={key:2,class:"input"},fe=n(()=>l("h5",{class:"field"},[T("ID de la orden ejemplo "),l("b",null,"BRE-0554")],-1)),ye={key:3,class:"input"},be=n(()=>l("h5",{class:"field"},"Comentarios",-1)),we={key:4,class:"input"},ge=n(()=>l("h5",{class:"field"},"Nombre",-1)),Ve={key:5,class:"input"},Se=n(()=>l("h5",{class:"field"},"Número de teléfono",-1)),Pe={key:6,class:"input"},xe=n(()=>l("h5",{class:"field"},"Dirección (opcional)",-1)),Re={class:"input",style:{display:"flex","justify-content":"end"}},ke={__name:"pqrUser",emits:["inFocus","reload"],setup(i,{emit:s}){const v=s,y=j();a();const z=a(!0),L=a(),b=a(!1);a([]);const w=a(!1),t=a(),h=a(),D=a([]),$=a([]),x=a(""),g=a(""),V=a(""),R=a(""),S=a(""),I=a(null),B=a([]),P=a();J(()=>y.visible_add_pqr,k=>{k&&(t.value=null,S.value="Sin comentarios",h.value=null,P.value=null,g.value="",V.value="",R.value="")});const A=async()=>{var e,f;if(!t.value){alert("Por favor, seleccione un tipo de requerimiento.");return}if(t.value==9&&!x.value){alert("Por favor, ingrese el ID de la orden.");return}if(t.value!=8&&!S.value){alert("Por favor, Cuentenos lo sucedido");return}if(t.value!=8&&(!g.value||!V.value)){alert("Por favor, complete los campos obligatorios (nombre y teléfono).");return}if(!P.value){alert("Por favor, Seleccione la red");return}if(!h.value){alert("Por favor, Seleccione la sede");return}const k={data:{reques_type_id:t.value,content:S.value||"Sin comentarios",channel_id:2,rating:I.value,site_id:h.value||null,network_id:P.value||null,order_id:x.value||null},user:{user_name:g.value||"",user_phone:((e=V.value)==null?void 0:e.toString())||"",user_address:R.value||"",site_id:h.value||null}};try{const u=await E.post(`${c}/create-pqr`,k);L.value=(f=u==null?void 0:u.pqr_id[0])==null?void 0:f.id,t.value==8?(w.value=!0,v("reload")):b.value=!0,z.value=!1}catch{}v("reload")};return K(async()=>{$.value=await E.get(`${c}/get-all-pqrs-types`),D.value=await E.get(`${c}/sites`),B.value=await E.get(`${c}/get-all-networks`),t.value=8}),(k,e)=>{const f=p("Button"),u=p("Dialog"),N=p("Dropdown"),G=p("Rating"),C=p("InputText"),M=p("Textarea"),F=p("InputNumber");return d(),O(u,{visible:U(y).visible_add_pqr,"onUpdate:visible":e[13]||(e[13]=o=>U(y).visible_add_pqr=o),style:{width:"50rem"},modal:"",class:"mx-2",header:"INGRESAR PQR"},{footer:Q(()=>[l("div",Re,[r(f,{label:"Enviar",style:{"font-weight":"bold"},severity:"info",onClick:A})])]),default:Q(()=>[r(u,{closable:!1,class:"mx-4",visible:b.value,"onUpdate:visible":e[1]||(e[1]=o=>b.value=o),modal:"",style:{width:"30rem","background-color":"white"}},{default:Q(()=>[l("div",Z,[ee,T(),oe,l("b",null,[l("p",le,W(L.value),1)]),r(f,{onClick:e[0]||(e[0]=()=>{U(y).visible_add_pqr=!1,w.value=!1,b.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),r(u,{class:"mx-4",visible:w.value,"onUpdate:visible":e[3]||(e[3]=o=>w.value=o),modal:"",style:{width:"30rem","background-color":"white"}},{default:Q(()=>[l("div",te,[se,ae,r(f,{onClick:e[2]||(e[2]=()=>{U(y).visible_add_pqr=!1,w.value=!1,b.value=!1}),class:"m-auto",style:{"font-weight":"bold"},severity:"info",label:"Listo"})])]),_:1},8,["visible"]),l("div",re,[l("div",ne,[l("div",ie,[ue,r(N,{modelValue:P.value,"onUpdate:modelValue":e[4]||(e[4]=o=>P.value=o),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:B.value,optionLabel:"name"},null,8,["modelValue","options"])]),l("div",de,[ce,r(N,{modelValue:t.value,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value=o),optionValue:"id",style:{width:"100%","text-transform":"uppercase"},options:$.value.filter(o=>o.id!=8),optionLabel:"name"},null,8,["modelValue","options"])]),t.value?(d(),_("div",ve,[pe,r(G,{modelValue:I.value,"onUpdate:modelValue":e[6]||(e[6]=o=>I.value=o),cancel:!1},null,8,["modelValue"])])):m("",!0),t.value?(d(),_("div",_e,[me,r(N,{options:D.value.filter(o=>o.show_on_web),modelValue:h.value,"onUpdate:modelValue":e[7]||(e[7]=o=>h.value=o),optionValue:"site_id",optionLabel:"site_name",style:{width:"100%"}},null,8,["options","modelValue"])])):m("",!0),t.value&&t.value==9?(d(),_("div",he,[fe,r(C,{modelValue:x.value,"onUpdate:modelValue":e[8]||(e[8]=o=>x.value=o),style:{width:"100%"},placeholder:"Escriba el número de la orden"},null,8,["modelValue"])])):m("",!0),t.value?(d(),_("div",ye,[be,r(M,{modelValue:S.value,"onUpdate:modelValue":e[9]||(e[9]=o=>S.value=o),rows:"5",style:{width:"100%",resize:"none"},placeholder:"Deja tus comentarios"},null,8,["modelValue"])])):m("",!0),t.value&&t.value!=8?(d(),_("div",we,[ge,r(C,{modelValue:g.value,"onUpdate:modelValue":e[10]||(e[10]=o=>g.value=o),style:{width:"100%"},placeholder:"Escriba su nombre por favor"},null,8,["modelValue"])])):m("",!0),t.value&&t.value!=8?(d(),_("div",Ve,[Se,r(F,{useGrouping:!1,modelValue:V.value,"onUpdate:modelValue":e[11]||(e[11]=o=>V.value=o),style:{width:"100%"},placeholder:"Escriba su número de teléfono"},null,8,["modelValue"])])):m("",!0),t.value&&t.value!=8?(d(),_("div",Pe,[xe,r(C,{modelValue:R.value,"onUpdate:modelValue":e[12]||(e[12]=o=>R.value=o),style:{width:"100%"},placeholder:"Escriba su dirección"},null,8,["modelValue"])])):m("",!0)])])]),_:1},8,["visible"])}}},Ee=H(ke,[["__scopeId","data-v-5084726c"]]);export{Ee as default};
