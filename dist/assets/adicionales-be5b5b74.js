import{a9 as n,U as i,_ as V,C as N,h as E,i as B,D as v,g as m,o as u,c as h,a as o,t as p,u as S,F as b,r as R,f as l,e as _,k as U,p as F,m as T,N as C}from"./index-2e8d2194.js";import{u as w}from"./site-3efeaedc.js";import{f as q}from"./formatoPesos-2293ab52.js";w();const g={async getAditional(t){try{const a=await n.get(`${i}/adicionales-new/${t}`);return a.status===200?a.data:(console.error("An error occurred while fetching the ingredients:",a.status),null)}catch(a){return console.error("An error occurred while fetching the ingredients:",a),null}},async getAditionalGroup(t){const a={instance_product_ids:t};try{const e=await n.post(`${i}/adicionales-new-group/`,a);return e.status===200?e.data:(console.error("An error occurred while fetching the ingredients:",e.status),null)}catch(e){return console.error("An error occurred while fetching the ingredients:",e),null}},async getAllAditions(){const a=w().site.site_id;try{const e=await n.get(`${i}/adicionales-unique-site/${a}/`);return e.status===200?e.data:(console.error("An error occurred while fetching the ingredients:",e.status),null)}catch(e){return console.error("An error occurred while fetching the ingredients:",e),null}},async toggleAditionalStatus(t,a){try{const e=await n.put(`${i}/toggle-adicionales/${t}`,a);return e.status===200?e.data:(console.error("An error occurred while updating the aditional status:",e.status),null)}catch(e){return console.error("An error occurred while updating the aditional status:",e),null}},async getAllAditionsRegistered(){try{const t=await n.get(`${i}/all-aditional-registered/`);return t.status===200?t.data:(console.error("An error occurred while fetching the ingredients:",t.status),null)}catch(t){return console.error("An error occurred while fetching the ingredients:",t),null}}};const I=t=>(F("data-v-151a8628"),t=t(),T(),t),z={class:"m-auto",style:{"max-width":"1024px"}},L={class:"text-center text-3xl",style:{"font-weight":"bold",display:"flex",gap:"1rem","align-items":"center"}},P=I(()=>o("div",{style:{width:"100%",height:"5px","min-width":"max-content","background-color":"#ff6200"}},null,-1)),G={style:{"min-width":"max-content",width:"auto"}},M=I(()=>o("div",{style:{width:"100%",height:"5px","min-width":"max-content","background-color":"#ff6200"}},null,-1)),O={class:"text-center text-2xl",style:{"font-weight":"bold","text-transform":"capitalize"}},j={style:{"text-transform":"uppercase"}},H={key:0,style:{"font-weight":"bold"}},J={__name:"adicionales",setup(t){const a=w(),e=N(),c=E({});B(async()=>{c.value=await g.getAllAditions()});const $=async(f,y)=>{try{const r={status:y},d=await g.toggleAditionalStatus(f,r);if(!d)throw new Error("Failed to update the status");console.log("Status updated successfully:",d)}catch(r){console.error("Error updating status:",r)}};return v(()=>e.path,async()=>{e.params.category_id&&(c.value=await g.getAllAditions(),await C())},{deep:!0}),v(()=>a.site,async()=>{a.site&&(c.value=await g.getAllAditions(),await C())},{deep:!0}),(f,y)=>{const r=m("Column"),d=m("InputSwitch"),k=m("DataTable");return u(),h(b,null,[o("div",z,[o("p",L,[P,o("span",G,"ADICIONALES DE "+p(S(a).site.site_name),1),M])]),(u(!0),h(b,null,R(c.value,(D,x)=>(u(),h("div",{class:"m-auto col-12",style:{"max-width":"600px"},key:x},[o("p",O,p(x),1),l(k,{stripedRows:"",value:D},{default:_(()=>[l(r,{style:{"text-transform":"capitalize"},class:"p-0",field:"aditional_item_name",header:"Nombre"},{body:_(s=>[o("span",j,p(s.data.aditional_item_name),1)]),_:1}),l(r,{class:"p-0 pl-3",field:"aditional_item_price",header:"Precio"},{body:_(s=>[s.data.aditional_item_price!=0?(u(),h("span",H,p(S(q)(s.data.aditional_item_price)),1)):U("",!0)]),_:1}),l(r,{style:{width:"2rem"},class:"p-0 pl-3",header:""},{body:_(s=>[l(d,{class:"p-0 m-0",modelValue:s.data.status,"onUpdate:modelValue":A=>s.data.status=A,onChange:A=>$(s.data.aditional_item_instance_id,s.data.status)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:2},1032,["value"])]))),128))],64)}}},X=V(J,[["__scopeId","data-v-151a8628"]]);export{X as default};
